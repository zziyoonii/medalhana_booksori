{"ast":null,"code":"// ë”ë¯¸ ë°ì´í„° - ê²½ê¸°ë„ ë„ì„œê´€ (ì‹œë¦½ ì¤‘ì•™ë„ì„œê´€ + ë™ë„¤ ì‘ì€ë„ì„œê´€)\nexport const dummyLibraries=[// ìˆ˜ì›ì‹œ ë„ì„œê´€ë“¤\n{id:'1',name:'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235',phone:'031-249-4800',hours:'09:00-18:00',website:'https://www.library.kr/',distance:0.8,coordinates:{lat:37.299,lng:127.070},type:'ê³µê³µë„ì„œê´€'},{id:'2',name:'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë¡œ 183',phone:'031-228-4300',hours:'09:00-22:00',website:'https://www.suwonlib.go.kr/',distance:1.2,coordinates:{lat:37.295,lng:127.075},type:'ê³µê³µë„ì„œê´€'},{id:'3',name:'ì˜í†µêµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë™ 999-1',phone:'031-228-4350',hours:'09:00-20:00',website:'https://www.suwonlib.go.kr/',distance:1.5,coordinates:{lat:37.293,lng:127.073},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'4',name:'ê´‘êµì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë™ 1275',phone:'031-228-4380',hours:'10:00-18:00',website:'',distance:1.8,coordinates:{lat:37.291,lng:127.077},type:'ì‘ì€ë„ì„œê´€'},{id:'5',name:'ë§í¬ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ë§í¬ë™ 578-2',phone:'031-228-4390',hours:'10:00-18:00',website:'',distance:2.1,coordinates:{lat:37.285,lng:127.065},type:'ì‘ì€ë„ì„œê´€'},// ì„±ë‚¨ì‹œ ë„ì„œê´€ë“¤\n{id:'6',name:'ì„±ë‚¨ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì–‘í˜„ë¡œ 346',phone:'031-729-4600',hours:'09:00-18:00',website:'https://www.snlib.go.kr/',distance:2.5,coordinates:{lat:37.350,lng:127.105},type:'ê³µê³µë„ì„œê´€'},{id:'7',name:'ë¶„ë‹¹êµ¬ë¦½ì •ìë„ì„œê´€',address:'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì •ìë™ 178-1',phone:'031-729-4650',hours:'09:00-20:00',website:'https://www.snlib.go.kr/',distance:2.8,coordinates:{lat:37.365,lng:127.110},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'8',name:'ì„œí˜„ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™ 271-3',phone:'031-729-4670',hours:'10:00-18:00',website:'',distance:3.1,coordinates:{lat:37.348,lng:127.123},type:'ì‘ì€ë„ì„œê´€'},{id:'9',name:'ì•¼íƒ‘ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì•¼íƒ‘ë™ 344-10',phone:'031-729-4680',hours:'10:00-18:00',website:'',distance:3.3,coordinates:{lat:37.341,lng:127.128},type:'ì‘ì€ë„ì„œê´€'},// ê³ ì–‘ì‹œ ë„ì„œê´€ë“¤\n{id:'10',name:'ê³ ì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ê³ ì–‘ì‹œ ë•ì–‘êµ¬ ê³ ì–‘ëŒ€ë¡œ 1955',phone:'031-8075-9300',hours:'09:00-18:00',website:'https://www.goyanglib.go.kr/',distance:4.2,coordinates:{lat:37.650,lng:126.830},type:'ê³µê³µë„ì„œê´€'},{id:'11',name:'ì¼ì‚°ë™êµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1256',phone:'031-8075-9350',hours:'09:00-20:00',website:'https://www.goyanglib.go.kr/',distance:4.5,coordinates:{lat:37.670,lng:126.775},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'12',name:'ë°±ì„ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1234-5',phone:'031-8075-9380',hours:'10:00-18:00',website:'',distance:4.8,coordinates:{lat:37.675,lng:126.780},type:'ì‘ì€ë„ì„œê´€'},{id:'13',name:'ë§ˆë‘ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë§ˆë‘ë™ 775-2',phone:'031-8075-9390',hours:'10:00-18:00',website:'',distance:5.1,coordinates:{lat:37.655,lng:126.785},type:'ì‘ì€ë„ì„œê´€'},// ë¶€ì²œì‹œ ë„ì„œê´€ë“¤\n{id:'14',name:'ë¶€ì²œì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ê¸¸ì£¼ë¡œ 1',phone:'032-625-4700',hours:'09:00-18:00',website:'https://www.bclib.go.kr/',distance:3.1,coordinates:{lat:37.490,lng:126.783},type:'ê³µê³µë„ì„œê´€'},{id:'15',name:'ì›ë¯¸êµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ 1033-3',phone:'032-625-4750',hours:'09:00-20:00',website:'https://www.bclib.go.kr/',distance:3.4,coordinates:{lat:37.485,lng:126.788},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'16',name:'ì¤‘ë™ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ 1178-1',phone:'032-625-4780',hours:'10:00-18:00',website:'',distance:3.7,coordinates:{lat:37.488,lng:126.791},type:'ì‘ì€ë„ì„œê´€'},{id:'17',name:'ì—­ê³¡ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì—­ê³¡ë™ 201-8',phone:'032-625-4790',hours:'10:00-18:00',website:'',distance:4.0,coordinates:{lat:37.486,lng:126.794},type:'ì‘ì€ë„ì„œê´€'},// ì•ˆì–‘ì‹œ ë„ì„œê´€ë“¤\n{id:'18',name:'ì•ˆì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 30',phone:'031-389-0800',hours:'09:00-22:00',website:'https://www.aylib.go.kr/',distance:3.8,coordinates:{lat:37.400,lng:126.950},type:'ê³µê³µë„ì„œê´€'},{id:'19',name:'ë§Œì•ˆêµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ 678-49',phone:'031-389-0850',hours:'09:00-20:00',website:'https://www.aylib.go.kr/',distance:4.1,coordinates:{lat:37.395,lng:126.955},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'20',name:'ì•ˆì–‘ë™ì‘ì€ë„ì„œê´€',address:'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ 123-45',phone:'031-389-0880',hours:'10:00-18:00',website:'',distance:4.4,coordinates:{lat:37.398,lng:126.958},type:'ì‘ì€ë„ì„œê´€'},// ìš©ì¸ì‹œ ë„ì„œê´€ë“¤\n{id:'21',name:'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199',phone:'031-324-4800',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr/',distance:4.8,coordinates:{lat:37.230,lng:127.208},type:'ê³µê³µë„ì„œê´€'},{id:'22',name:'ìˆ˜ì§€êµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ ìˆ˜ì§€ë™ 1234-1',phone:'031-324-4850',hours:'09:00-20:00',website:'https://www.yonginlib.go.kr/',distance:5.1,coordinates:{lat:37.325,lng:127.095},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'23',name:'ê¸°í¥êµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ êµ¬ê°ˆë™ 567-8',phone:'031-324-4880',hours:'09:00-20:00',website:'https://www.yonginlib.go.kr/',distance:5.4,coordinates:{lat:37.275,lng:127.115},type:'êµ¬ë¦½ë„ì„œê´€'},{id:'23-1',name:'ì²˜ì¸ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ê¸ˆë ¹ë¡œ 33ë²ˆê¸¸ 15',phone:'031-324-4670',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr/',distance:5.6,coordinates:{lat:37.236,lng:127.200},type:'ê³µê³µë„ì„œê´€'},{id:'23-2',name:'ì„œë†ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83',phone:'031-324-4680',hours:'09:00-18:00',website:'',distance:5.8,coordinates:{lat:37.241,lng:127.077},type:'ê³µê³µë„ì„œê´€'},{id:'23-3',name:'í¬ê³¡ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ í¬ê³¡ì ì—ë²„ëœë“œë¡œ 860',phone:'031-324-4690',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr/',distance:6.0,coordinates:{lat:37.294,lng:127.202},type:'ê³µê³µë„ì„œê´€'},{id:'23-4',name:'í¥ë•ë„ì„œê´€',address:'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ í¥ë•ì¤‘ì•™ë¡œ 120',phone:'031-324-4700',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr/',distance:5.2,coordinates:{lat:37.238,lng:127.119},type:'ê³µê³µë„ì„œê´€'},// í™”ì„±ì‹œ ë„ì„œê´€ë“¤\n{id:'24',name:'í™”ì„±ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸° í™”ì„±ì‹œ ë‚¨ì–‘ì ì‹œì²­ë¡œ 155',phone:'031-369-6800',hours:'09:00-18:00',website:'https://www.hscitylib.go.kr/',distance:6.2,coordinates:{lat:37.200,lng:126.831},type:'ê³µê³µë„ì„œê´€'},{id:'25',name:'ë™íƒ„êµ¬ë¦½ë„ì„œê´€',address:'ê²½ê¸° í™”ì„±ì‹œ ë™íƒ„ë©´ ë™íƒ„ëŒ€ë¡œ 300',phone:'031-369-6850',hours:'09:00-20:00',website:'https://www.hscitylib.go.kr/',distance:6.5,coordinates:{lat:37.205,lng:127.078},type:'êµ¬ë¦½ë„ì„œê´€'}];// ë”ë¯¸ ë„ì„œ ë°ì´í„°\nexport const dummyBooks=[{id:1,title:'82ë…„ìƒ ê¹€ì§€ì˜',author:'ì¡°ë‚¨ì£¼',publisher:'ë¯¼ìŒì‚¬',isbn:'9788937473722',category:'ì†Œì„¤',publishYear:'2016',description:'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ë‹´ì€ í™”ì œì˜ ì†Œì„¤',imageUrl:''},{id:2,title:'ë¯¸ë“œë‚˜ì‡ ë¼ì´ë¸ŒëŸ¬ë¦¬',author:'ë§¤íŠ¸ í—¤ì´ê·¸',publisher:'ì¸í”Œë£¨ì—”ì…œ',isbn:'9791197377109',category:'ì†Œì„¤',publishYear:'2020',description:'í›„íšŒì™€ ì„ íƒì— ê´€í•œ ì² í•™ì  ì†Œì„¤',imageUrl:''},{id:3,title:'ì‚¬í”¼ì—”ìŠ¤',author:'ìœ ë°œ í•˜ë¼ë¦¬',publisher:'ê¹€ì˜ì‚¬',isbn:'9788934972464',category:'ì¸ë¬¸',publishYear:'2015',description:'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ ë‹¤ë£¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬',imageUrl:''},{id:4,title:'ì•„ëª¬ë“œ',author:'ì†ì›í‰',publisher:'ì°½ë¹„',isbn:'9788936434267',category:'ì†Œì„¤',publishYear:'2017',description:'ê°ì •ì„ ëŠë¼ì§€ ëª»í•˜ëŠ” ì†Œë…„ì˜ ì„±ì¥ ì†Œì„¤',imageUrl:''},{id:5,title:'ì •ì˜ë€ ë¬´ì—‡ì¸ê°€',author:'ë§ˆì´í´ ìƒŒë¸',publisher:'ê¹€ì˜ì‚¬',isbn:'9788934942467',category:'ì² í•™',publishYear:'2010',description:'ì •ì˜ì— ëŒ€í•œ ì² í•™ì  íƒêµ¬',imageUrl:''}];// ë”ë¯¸ ë…ì„œëª¨ì„ ë°ì´í„°\nexport const dummyReadingGroups=[{id:1,name:'ì‹œë‹ˆì–´ ë…ì„œ í´ëŸ½',description:'50-60ëŒ€ë¥¼ ìœ„í•œ ë…ì„œ ëª¨ì„ì…ë‹ˆë‹¤.',libraryId:'1',libraryName:'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',meetingDate:'2024-01-15',meetingTime:'14:00',maxMembers:15,currentMembers:8,bookTitle:'82ë…„ìƒ ê¹€ì§€ì˜',bookAuthor:'ì¡°ë‚¨ì£¼',category:'ì†Œì„¤',difficulty:'ì‰¬ì›€',meetingType:'library',organizer:'ê¹€ë„ì„œ',contact:'010-1234-5678',status:'active'},{id:2,name:'ì—­ì‚¬ íƒêµ¬ ëª¨ì„',description:'í•œêµ­ì‚¬ì™€ ì„¸ê³„ì‚¬ë¥¼ í•¨ê»˜ ì½ëŠ” ëª¨ì„',libraryId:'2',libraryName:'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',meetingDate:'2024-01-20',meetingTime:'10:00',maxMembers:12,currentMembers:6,bookTitle:'ì‚¬í”¼ì—”ìŠ¤',bookAuthor:'ìœ ë°œ í•˜ë¼ë¦¬',category:'ì¸ë¬¸',difficulty:'ë³´í†µ',meetingType:'library',organizer:'ë°•ì—­ì‚¬',contact:'010-2345-6789',status:'active'}];/**\n * ê²½ê¸°ë„ ê³µê³µë°ì´í„° API ì„œë¹„ìŠ¤ í´ë˜ìŠ¤\n * ì‹¤ì œ êµ¬í˜„ ì‹œ ì•„ë˜ APIë“¤ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n * \n * 1. ê²½ê¸°ë°ì´í„°ë“œë¦¼ (data.gg.go.kr)\n *    - ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ API\n *    - ë„ì„œê´€ ì‹œì„¤ í˜„í™© API\n *    - ë¬¸í™”ì‹œì„¤ í†µí•© ì •ë³´ API\n * \n * 2. ë„ì„œê´€ì •ë³´ë‚˜ë£¨ (data4library.kr) \n *    - ì „êµ­ ë„ì„œê´€ í‘œì¤€ API\n *    - ë„ì„œ ê²€ìƒ‰ API\n *    - ëŒ€ì¶œ/ì˜ˆì•½ í˜„í™© API\n * \n * 3. ì„œìš¸ì—´ë¦°ë°ì´í„°ê´‘ì¥ ë“± ì‹œêµ°ë³„ Open API\n *    - ê° ì‹œêµ°ë³„ ë„ì„œê´€ API\n *    - ì§€ì—­ë³„ ë¬¸í™”ì‹œì„¤ API\n */export class LibraryAPIService{constructor(config){this.config=void 0;this.config=config;}/**\n   * ê²½ê¸°ë„ ë„ì„œê´€ ëª©ë¡ ì¡°íšŒ\n   * ì‹¤ì œ API: https://openapi.gg.go.kr/TBGGIBLLBR\n   */async getLibraries(location,radius){try{// ê²½ê¸°ë°ì´í„°ë“œë¦¼ ë„ì„œê´€ í˜„í™© API í˜¸ì¶œ (ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸)\nconst apiUrl=`https://openapi.gg.go.kr/TBGGIBLLBR`;const params=new URLSearchParams({KEY:process.env.REACT_APP_GYEONGGI_API_KEY||'8b62aa70e514468596e9324d064d582d',Type:'json',pIndex:'1',pSize:'500'// ê²€ìƒ‰ ë²”ìœ„ í™•ëŒ€\n});const response=await fetch(`${apiUrl}?${params}`);if(!response.ok){throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status}`);}const data=await response.json();// ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì‘ë‹µ êµ¬ì¡°ì— ë§ê²Œ ë°ì´í„° ë³€í™˜\nlet libraries=[];if(data.TBGGIBLLBR&&data.TBGGIBLLBR[1]&&data.TBGGIBLLBR[1].row){libraries=data.TBGGIBLLBR[1].row.map((item,index)=>({id:(index+1).toString(),name:item.LBRRY_NM||'ë„ì„œê´€ëª… ì—†ìŒ',address:item.REFINE_ROADNM_ADDR||item.REFINE_LOTNO_ADDR||'ì£¼ì†Œ ì—†ìŒ',phone:item.TELNO||'ì „í™”ë²ˆí˜¸ ì—†ìŒ',hours:item.OPER_TIME||'09:00-18:00',// ì‹¤ì œ ìš´ì˜ì‹œê°„ ì‚¬ìš©\nwebsite:item.HMPG_ADDR||'',distance:Math.round(Math.random()*5*10)/10,// ì„ì‹œ ê±°ë¦¬ ê³„ì‚°\ncoordinates:{lat:parseFloat(item.REFINE_WGS84_LAT)||37.5,lng:parseFloat(item.REFINE_WGS84_LOGT)||127.0},type:'ê³µê³µë„ì„œê´€'}));}// ìš©ì¸ì‹œ ë„ì„œê´€ë“¤ ìˆ˜ë™ ì¶”ê°€ (APIì—ì„œ ê²€ìƒ‰ë˜ì§€ ì•ŠëŠ” ê²½ìš° ëŒ€ë¹„)\nconst additionalLibraries=[{id:'yongin_central',name:'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199',phone:'031-324-4600',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:1.2,coordinates:{lat:37.231,lng:127.208},type:'ê³µê³µë„ì„œê´€'},{id:'giheung_lib',name:'ê¸°í¥ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ ê¸°í¥ë¡œ 19',phone:'031-324-4660',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:1.8,coordinates:{lat:37.275,lng:127.115},type:'ê³µê³µë„ì„œê´€'},{id:'suji_lib',name:'ìˆ˜ì§€ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ í¬ì€ëŒ€ë¡œ 435',phone:'031-324-4650',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:2.1,coordinates:{lat:37.324,lng:127.094},type:'ê³µê³µë„ì„œê´€'},{id:'cheoin_lib',name:'ì²˜ì¸ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ê¸ˆë ¹ë¡œ 33ë²ˆê¸¸ 15',phone:'031-324-4670',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:2.3,coordinates:{lat:37.236,lng:127.200},type:'ê³µê³µë„ì„œê´€'},{id:'seongnam_lib',name:'ì„œë†ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83',phone:'031-324-4680',hours:'09:00-18:00',website:'',distance:2.5,coordinates:{lat:37.241,lng:127.077},type:'ê³µê³µë„ì„œê´€'},{id:'pogok_lib',name:'í¬ê³¡ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ í¬ê³¡ì ì—ë²„ëœë“œë¡œ 860',phone:'031-324-4690',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:3.2,coordinates:{lat:37.294,lng:127.202},type:'ê³µê³µë„ì„œê´€'},{id:'heungdeok_lib',name:'í¥ë•ë„ì„œê´€',address:'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ í¥ë•ì¤‘ì•™ë¡œ 120',phone:'031-324-4700',hours:'09:00-18:00',website:'https://www.yonginlib.go.kr',distance:2.8,coordinates:{lat:37.238,lng:127.119},type:'ê³µê³µë„ì„œê´€'}];return[...libraries,...additionalLibraries];}catch(error){console.error('ë„ì„œê´€ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨:',error);console.log('ë”ë¯¸ ë°ì´í„°ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');return dummyLibraries;// ì˜¤ë¥˜ ì‹œ ë”ë¯¸ ë°ì´í„° ë°˜í™˜\n}}/**\n   * ë„ì„œ ê²€ìƒ‰ - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í™œìš©\n   * ì‹¤ì œ API: http://data4library.kr/api/srchBooks\n   */async searchBooks(params){try{var _data$response,_data$response2;const apiUrl='http://data4library.kr/api/srchBooks';// ê²€ìƒ‰ì–´ ì „ì²˜ë¦¬ ë° ì¸ì½”ë”©\nconst cleanQuery=params.query.trim().replace(/\\s+/g,' ');const searchParams=new URLSearchParams({authKey:process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY,title:cleanQuery,pageNo:(params.pageNo||1).toString(),pageSize:(params.pageSize||10).toString(),format:'json'});console.log('ğŸ” ë„ì„œ ê²€ìƒ‰ API í˜¸ì¶œ:',`${apiUrl}?${searchParams}`);console.log('ğŸ” ê²€ìƒ‰ì–´:',cleanQuery);const response=await fetch(`${apiUrl}?${searchParams}`);if(!response.ok){throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status} ${response.statusText}`);}const data=await response.json();console.log('ğŸ“Š ë„ì„œê²€ìƒ‰ API ì „ì²´ ì‘ë‹µ:',JSON.stringify(data,null,2));// API ì‘ë‹µ êµ¬ì¡° ë¶„ì„\nconsole.log('ğŸ” ë„ì„œê²€ìƒ‰ API ì‘ë‹µ êµ¬ì¡° ë¶„ì„:');console.log('- data.response:',data.response);console.log('- data.response.docs:',(_data$response=data.response)===null||_data$response===void 0?void 0:_data$response.docs);console.log('- data.response.numFound:',(_data$response2=data.response)===null||_data$response2===void 0?void 0:_data$response2.numFound);// ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„\nif(data.response&&data.response.numFound===0){console.log('âš ï¸ ì²« ë²ˆì§¸ ê²€ìƒ‰ì—ì„œ ê²°ê³¼ ì—†ìŒ, ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„');// ì‘ê°€ëª…ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ê¸°\nconst authorSearchParams=new URLSearchParams({authKey:process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY,author:cleanQuery,pageNo:(params.pageNo||1).toString(),pageSize:(params.pageSize||10).toString(),format:'json'});console.log('ğŸ” ì‘ê°€ëª…ìœ¼ë¡œ ì¬ê²€ìƒ‰:',`${apiUrl}?${authorSearchParams}`);const authorResponse=await fetch(`${apiUrl}?${authorSearchParams}`);if(authorResponse.ok){const authorData=await authorResponse.json();console.log('ğŸ“Š ì‘ê°€ëª… ê²€ìƒ‰ ê²°ê³¼:',JSON.stringify(authorData,null,2));if(authorData.response&&authorData.response.numFound>0){data.response=authorData.response;}}}// API ì‘ë‹µ êµ¬ì¡° í™•ì¸ ë° ë°ì´í„° ì¶”ì¶œ\nlet rawBooks=[];if(data.response&&data.response.docs&&data.response.docs.length>0){// ê° docs ìš”ì†Œì—ì„œ doc ê°ì²´ ì¶”ì¶œ\nrawBooks=data.response.docs.map(item=>{// itemì´ ì§ì ‘ ë„ì„œ ë°ì´í„°ì¸ì§€ í™•ì¸\nif(item.bookname||item.title){return item;}// ë˜ëŠ” item.doc í˜•íƒœì¸ì§€ í™•ì¸\nif(item.doc){return item.doc;}return item;}).filter(doc=>doc&&(doc.bookname||doc.title));}else if(data.response&&data.response.book){rawBooks=Array.isArray(data.response.book)?data.response.book:[data.response.book];}else if(data.response&&data.response.result){rawBooks=data.response.result.docs||data.response.result;}console.log('ğŸ“š ì›ë³¸ ë„ì„œ ë°ì´í„°:',rawBooks);if(rawBooks&&rawBooks.length>0){const books=rawBooks.filter(book=>{console.log('ğŸ“– ê°œë³„ ë„ì„œ ë°ì´í„° í™•ì¸:',book);const hasTitle=book.bookname||book.title;return hasTitle&&hasTitle.trim()!=='';}).map((book,index)=>({id:book.isbn13||book.isbn||`book_${index}`,title:(book.bookname||book.title||'').trim(),author:book.authors||book.author||'ì‘ê°€ ë¯¸ìƒ',publisher:book.publisher||'ì¶œíŒì‚¬ ë¯¸ìƒ',isbn:book.isbn13||book.isbn||'',category:book.class_nm||book.category||'ì¼ë°˜',publishYear:book.publication_year||book.publishYear||'2023',description:book.description||'',imageUrl:book.bookImageURL||book.imageUrl||'',loanCount:parseInt(book.loan_count||book.loanCount||'0')||0}));console.log('âœ… ë³€í™˜ëœ ë„ì„œ ë°ì´í„°:',books);console.log(`ğŸ¯ ì œëª©ì´ ìˆëŠ” ë„ì„œ ${books.length}ê¶Œì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.`);return books;}// API ì‘ë‹µì´ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ê²½ìš° ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±\nconsole.warn('âš ï¸ API ì‘ë‹µ êµ¬ì¡°ê°€ ì˜ˆìƒê³¼ ë‹¤ë¦„, ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±');return this.getDummyBooksForQuery(params.query);}catch(error){console.error('ğŸ’¥ ë„ì„œ ê²€ìƒ‰ ì‹¤íŒ¨:',error);console.log('ğŸ”„ ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„°ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');return this.getDummyBooksForQuery(params.query);}}/**\n   * ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±\n   */getDummyBooksForQuery(query){const searchTerm=query.trim();// ê²€ìƒ‰ì–´ì— ë”°ë¥¸ ë§ì¶¤ ë”ë¯¸ ë°ì´í„°\nconst dummyBooks=[{id:`dummy_${Date.now()}`,title:searchTerm,author:'ì‘ê°€ ë¯¸ìƒ',publisher:'ì¶œíŒì‚¬ ì •ë³´ ì—†ìŒ',isbn:'9788000000000',category:'ì¼ë°˜',publishYear:'2023',description:`\"${searchTerm}\"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ì…ë‹ˆë‹¤. ì •í™•í•œ ë„ì„œ ì •ë³´ëŠ” ì§ì ‘ ë„ì„œê´€ì— ë¬¸ì˜í•´ ì£¼ì„¸ìš”.`,imageUrl:'',loanCount:0}];console.log(`ğŸ¯ ê²€ìƒ‰ì–´ \"${searchTerm}\" ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±:`,dummyBooks);return dummyBooks;}/**\n   * ë„ì„œ ì†Œì¥ í˜„í™© ì¡°íšŒ - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í™œìš©\n   * ì‹¤ì œ API: http://data4library.kr/api/libSrchByBook\n   */async getBookAvailability(isbn){let region=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'41';try{const apiUrl='http://data4library.kr/api/libSrchByBook';// ì§€ì—­ì½”ë“œ ë§¤í•‘ (ê²½ê¸°ë„: 41, ì„œìš¸: 11, ë¶€ì‚°: 26, ëŒ€êµ¬: 27, ì¸ì²œ: 28, ê´‘ì£¼: 29, ëŒ€ì „: 30, ìš¸ì‚°: 31, ì„¸ì¢…: 36, ê°•ì›: 42, ì¶©ë¶: 43, ì¶©ë‚¨: 44, ì „ë¶: 45, ì „ë‚¨: 46, ê²½ë¶: 47, ê²½ë‚¨: 48, ì œì£¼: 50)\nconst regionCodes={'ì„œìš¸':'11','ë¶€ì‚°':'26','ëŒ€êµ¬':'27','ì¸ì²œ':'28','ê´‘ì£¼':'29','ëŒ€ì „':'30','ìš¸ì‚°':'31','ì„¸ì¢…':'36','ê²½ê¸°':'41','ê²½ê¸°ë„':'41','ê°•ì›':'42','ì¶©ë¶':'43','ì¶©ë‚¨':'44','ì „ë¶':'45','ì „ë‚¨':'46','ê²½ë¶':'47','ê²½ë‚¨':'48','ì œì£¼':'50'};// ì§€ì—­ëª…ì„ ì½”ë“œë¡œ ë³€í™˜\nconst regionCode=regionCodes[region]||region||'41';// ê¸°ë³¸ê°’: ê²½ê¸°ë„\nconst params=new URLSearchParams({authKey:process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY,isbn:isbn,region:regionCode,format:'json'});console.log('ğŸ“š ë„ì„œ ì†Œì¥ í˜„í™© API í˜¸ì¶œ:',`${apiUrl}?${params}`);console.log('ğŸ—ºï¸ ì§€ì—­:',region,'â†’ ì§€ì—­ì½”ë“œ:',regionCode);const response=await fetch(`${apiUrl}?${params}`);if(!response.ok){throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status} ${response.statusText}`);}const data=await response.json();console.log('ğŸ“Š ì†Œì¥ í˜„í™© API ì „ì²´ ì‘ë‹µ:',JSON.stringify(data,null,2));// ì—ëŸ¬ ì‘ë‹µ ì²´í¬\nif(data.response&&data.response.error){console.error('âŒ API ì—ëŸ¬:',data.response.error);// ì§€ì—­ì½”ë“œ ì—ëŸ¬ì¸ ê²½ìš° ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ì¬ì‹œë„\nif(data.response.error.includes('ì§€ì—­ì½”ë“œ')){console.log('âš ï¸ ì§€ì—­ì½”ë“œ ì—ëŸ¬, ì „êµ­ ê²€ìƒ‰ìœ¼ë¡œ ì¬ì‹œë„');// ì „êµ­ ê²€ìƒ‰ (ì§€ì—­ì½”ë“œ ì—†ì´)\nconst nationalParams=new URLSearchParams({authKey:process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY,isbn:isbn,format:'json'});const nationalResponse=await fetch(`${apiUrl}?${nationalParams}`);if(nationalResponse.ok){const nationalData=await nationalResponse.json();console.log('ğŸŒ ì „êµ­ ê²€ìƒ‰ ê²°ê³¼:',JSON.stringify(nationalData,null,2));if(nationalData.response&&nationalData.response.libs){data.response=nationalData.response;}}}}if(data.response&&data.response.libs&&data.response.libs.length>0){const availability=data.response.libs.map(lib=>{var _lib$lib,_lib$lib2,_lib$book,_lib$book2,_lib$book3,_lib$book4;return{libraryId:((_lib$lib=lib.lib)===null||_lib$lib===void 0?void 0:_lib$lib.libCode)||lib.libCode||'',libraryName:((_lib$lib2=lib.lib)===null||_lib$lib2===void 0?void 0:_lib$lib2.libName)||lib.libName||'ë„ì„œê´€ëª… ì—†ìŒ',available:((_lib$book=lib.book)===null||_lib$book===void 0?void 0:_lib$book.loanAvailable)==='Y'||lib.loanAvailable==='Y',loanable:((_lib$book2=lib.book)===null||_lib$book2===void 0?void 0:_lib$book2.loanAvailable)==='Y'||lib.loanAvailable==='Y',reservable:((_lib$book3=lib.book)===null||_lib$book3===void 0?void 0:_lib$book3.reserveAvailable)==='Y'||lib.reserveAvailable==='Y',dueDate:((_lib$book4=lib.book)===null||_lib$book4===void 0?void 0:_lib$book4.returnPlanDate)||lib.returnPlanDate||undefined};});console.log('âœ… ì†Œì¥ í˜„í™© ì¡°íšŒ ì„±ê³µ:',availability);return availability;}console.log('âš ï¸ ì†Œì¥ ì •ë³´ ì—†ìŒ ë˜ëŠ” êµ¬ì¡° ë‹¤ë¦„');return[];}catch(error){console.error('ğŸ’¥ ë„ì„œ ì†Œì¥ í˜„í™© ì¡°íšŒ ì‹¤íŒ¨:',error);// ì—ëŸ¬ ë°œìƒ ì‹œ ë¹ˆ ë°°ì—´ ë°˜í™˜ (ë”ë¯¸ ë°ì´í„°ëŠ” ì œê±°)\nreturn[];}}/**\n   * ë„ì„œ ì˜ˆì•½\n   * ì‹¤ì œ API: ê° ë„ì„œê´€ë³„ ëŒ€ì¶œ/ì˜ˆì•½ ì‹œìŠ¤í…œ API\n   */async reserveBook(bookId,libraryId,userId){try{// ì‹¤ì œ êµ¬í˜„ ì‹œ:\n// const response = await fetch(`${this.config.baseURL}/books/reserve`, {\n//   method: 'POST',\n//   headers: { 'Content-Type': 'application/json' },\n//   body: JSON.stringify({ bookId, libraryId, userId, apiKey: this.config.apiKey })\n// });\n// return response.ok;\n// í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\nconsole.log(`ë„ì„œ ì˜ˆì•½ ìš”ì²­: ë„ì„œ ${bookId}, ë„ì„œê´€ ${libraryId}, ì‚¬ìš©ì ${userId}`);return true;}catch(error){console.error('ë„ì„œ ì˜ˆì•½ ì‹¤íŒ¨:',error);return false;}}/**\n   * ë…ì„œ ëª¨ì„ ì¡°íšŒ\n   * ì‹¤ì œ API: ê° ë„ì„œê´€ë³„ í”„ë¡œê·¸ë¨ API ë˜ëŠ” ì»¤ë®¤ë‹ˆí‹° API\n   */async getReadingGroups(libraryId){try{// ì‹¤ì œ êµ¬í˜„ ì‹œ:\n// const response = await fetch(`${this.config.baseURL}/reading-groups?libraryId=${libraryId}&apiKey=${this.config.apiKey}`);\n// const data = await response.json();\n// return data.result;\n// í˜„ì¬ëŠ” ë”ë¯¸ ë°ì´í„° ë°˜í™˜\nif(libraryId){return dummyReadingGroups.filter(group=>group.libraryId===libraryId);}return dummyReadingGroups;}catch(error){console.error('ë…ì„œ ëª¨ì„ ì¡°íšŒ ì‹¤íŒ¨:',error);return[];}}/**\n   * ë…ì„œ ëª¨ì„ ê°€ì…\n   */async joinReadingGroup(groupId,userId){try{// ì‹¤ì œ êµ¬í˜„ ì‹œ:\n// const response = await fetch(`${this.config.baseURL}/reading-groups/${groupId}/join`, {\n//   method: 'POST',\n//   headers: { 'Content-Type': 'application/json' },\n//   body: JSON.stringify({ userId, apiKey: this.config.apiKey })\n// });\n// return response.ok;\n// í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\nconsole.log(`ë…ì„œ ëª¨ì„ ê°€ì… ìš”ì²­: ëª¨ì„ ${groupId}, ì‚¬ìš©ì ${userId}`);return true;}catch(error){console.error('ë…ì„œ ëª¨ì„ ê°€ì… ì‹¤íŒ¨:',error);return false;}}/**\n   * ë…ì„œ ëª¨ì„ ìƒì„±\n   */async createReadingGroup(groupData){try{// ì‹¤ì œ êµ¬í˜„ ì‹œ:\n// const response = await fetch(`${this.config.baseURL}/reading-groups`, {\n//   method: 'POST',\n//   headers: { 'Content-Type': 'application/json' },\n//   body: JSON.stringify({ ...groupData, apiKey: this.config.apiKey })\n// });\n// return response.ok;\n// í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\nconsole.log('ë…ì„œ ëª¨ì„ ìƒì„± ìš”ì²­:',groupData);return true;}catch(error){console.error('ë…ì„œ ëª¨ì„ ìƒì„± ì‹¤íŒ¨:',error);return false;}}}// ê¸°ë³¸ API ì„¤ì • (í™˜ê²½ë³€ìˆ˜ì—ì„œ ë¡œë“œ)\nexport const defaultLibraryAPI=new LibraryAPIService({baseURL:process.env.REACT_APP_GYEONGGI_API_URL||'https://openapi.gg.go.kr',apiKey:process.env.REACT_APP_GYEONGGI_API_KEY||'8b62aa70e514468596e9324d064d582d'});// API í‚¤ ì„¤ì • ê°€ì´ë“œ\nexport const API_SETUP_GUIDE={title:'ê²½ê¸°ë„ ê³µê³µë°ì´í„° API ì—°ë™ ê°€ì´ë“œ',steps:[{step:1,title:'ê²½ê¸°ë°ì´í„°ë“œë¦¼ íšŒì›ê°€ì…',description:'https://data.gg.go.kr ì—ì„œ íšŒì›ê°€ì…',url:'https://data.gg.go.kr'},{step:2,title:'API í‚¤ ë°œê¸‰',description:'ë„ì„œê´€ ì •ë³´ API ì„œë¹„ìŠ¤ ì‹ ì²­ ë° í‚¤ ë°œê¸‰',note:'ìŠ¹ì¸ê¹Œì§€ 1-2ì¼ ì†Œìš”'},{step:3,title:'í™˜ê²½ë³€ìˆ˜ ì„¤ì •',description:'.env íŒŒì¼ì— API í‚¤ ì¶”ê°€',code:`REACT_APP_GYEONGGI_API_URL=https://openapi.gg.go.kr\nREACT_APP_GYEONGGI_API_KEY=your_api_key_here\nREACT_APP_LIBRARY_API_KEY=your_library_api_key_here`},{step:4,title:'ë„ì„œê´€ì •ë³´ë‚˜ë£¨ ì—°ë™',description:'data4library.krì—ì„œ ì¶”ê°€ ë„ì„œ ì •ë³´ API í™œìš©',url:'https://www.data4library.kr'}],additionalAPIs:[{name:'ê²½ê¸°ë°ì´í„°ë“œë¦¼',url:'https://data.gg.go.kr',description:'ê²½ê¸°ë„ ê³µê³µë°ì´í„° í¬í„¸',apis:['ë„ì„œê´€ ì‹œì„¤ ì •ë³´','ë¬¸í™”ì‹œì„¤ í˜„í™©','ê³µê³µì‹œì„¤ ìœ„ì¹˜ ì •ë³´']},{name:'ë„ì„œê´€ì •ë³´ë‚˜ë£¨',url:'https://www.data4library.kr',description:'êµ­ê°€ë„ì„œê´€í†µê³„ì‹œìŠ¤í…œ',apis:['ì „êµ­ ë„ì„œê´€ ì •ë³´','ë„ì„œ ê²€ìƒ‰','ëŒ€ì¶œ í†µê³„']},{name:'ê° ì‹œêµ° Open API',description:'ìˆ˜ì›ì‹œ, ì„±ë‚¨ì‹œ ë“± ê° ì§€ì—­ë³„ API',apis:['ì§€ì—­ë³„ ë„ì„œê´€ API','ë¬¸í™” í”„ë¡œê·¸ë¨ ì •ë³´','ì‹œì„¤ ì˜ˆì•½ ì‹œìŠ¤í…œ']}]};// ë„ì„œê´€ ì •ë³´ë‚˜ë£¨ API ì„œë¹„ìŠ¤\nconst BASE_URL='http://data4library.kr/api';// API ì¸ì¦í‚¤ (ì‹¤ì œ ì¸ì¦í‚¤ë¡œ ì„¤ì •)\n// ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í‚¤ ì„¤ì •ë¨\nconst AUTH_KEY=process.env.REACT_APP_LIBRARY_API_KEY||'651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8';// API ìŠ¹ì¸ ìƒíƒœ í™•ì¸ í•¨ìˆ˜\nexport const checkApiApprovalStatus=async apiKey=>{try{var _data$message,_data$message2;const response=await fetch(`https://www.data4library.kr/api/loanItemSrch?authKey=${apiKey}&startDt=2024-01-01&endDt=2024-01-31&pageNo=1&pageSize=1&format=json`);const data=await response.json();// API í‚¤ê°€ ìŠ¹ì¸ë˜ì§€ ì•Šì€ ê²½ìš° ì—ëŸ¬ ì‘ë‹µì„ ë°›ìŒ\nif(data.error||(_data$message=data.message)!==null&&_data$message!==void 0&&_data$message.includes('ì¸ì¦í‚¤')||(_data$message2=data.message)!==null&&_data$message2!==void 0&&_data$message2.includes('ìŠ¹ì¸')){return false;}return true;}catch(error){console.error('API ìŠ¹ì¸ ìƒíƒœ í™•ì¸ ì¤‘ ì˜¤ë¥˜:',error);return false;}};// ì§€ì—­ ì½”ë“œ ë§¤í•‘ ë° ì—°ë ¹ëŒ€ ë§¤í•‘ (í•„ìš” ì‹œ ì‚¬ìš©)\n// XML ì‘ë‹µì„ íŒŒì‹±í•˜ëŠ” í•¨ìˆ˜\nconst parseXMLResponse=xmlString=>{try{// DOMParserë¥¼ ì‚¬ìš©í•˜ì—¬ XML íŒŒì‹±\nconst parser=new DOMParser();const xmlDoc=parser.parseFromString(xmlString,'text/xml');// íŒŒì‹± ì˜¤ë¥˜ ì²´í¬\nconst parseError=xmlDoc.getElementsByTagName('parsererror')[0];if(parseError){console.error('XML íŒŒì‹± ì˜¤ë¥˜:',parseError.textContent);return{response:{docs:[]}};}// ì¸ê¸°ëŒ€ì¶œë„ì„œ ë°ì´í„° ì¶”ì¶œ\nconst docs=xmlDoc.getElementsByTagName('doc');const books=[];for(let i=0;i<docs.length;i++){const doc=docs[i];const book={};// ê° í•„ë“œ ì¶”ì¶œ\nconst getTextContent=tagName=>{const element=doc.getElementsByTagName(tagName)[0];return(element===null||element===void 0?void 0:element.textContent)||'';};book.bookname=getTextContent('bookname');book.authors=getTextContent('authors');book.publisher=getTextContent('publisher');book.publication_year=getTextContent('publication_year');book.isbn13=getTextContent('isbn13');book.loan_count=parseInt(getTextContent('loan_count')||'0')||0;book.ranking=parseInt(getTextContent('ranking')||'0')||0;if(book.bookname&&book.bookname.trim()!==''){books.push(book);}}console.log(`ğŸ“š XMLì—ì„œ ì¶”ì¶œëœ ë„ì„œ ${books.length}ê¶Œ:`,books);return{response:{docs:books,numFound:books.length,start:0}};}catch(error){console.error('XML íŒŒì‹± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:',error);return{response:{docs:[]}};}};/**\n * ì¸ê¸° ëŒ€ì¶œ ë„ì„œ ì¡°íšŒ API\n */export const fetchPopularBooks=async(startDate,endDate)=>{// ê¸°ë³¸ê°’: ì‹¤ì œ ë°ì´í„°ê°€ ìˆëŠ” ìµœê·¼ ê¸°ê°„ (2025ë…„ ë°ì´í„° ì‚¬ìš©)\nconst defaultEndDate='2025-07-13';// 2025ë…„ 7ì›” 13ì¼\nconst defaultStartDate='2025-01-01';// 2025ë…„ ì‹œì‘\nconst actualStartDate=startDate||defaultStartDate;const actualEndDate=endDate||defaultEndDate;try{var _data$response3,_data$response4,_data$response4$docs,_rawBooks;const params=new URLSearchParams({authKey:process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY,startDt:actualStartDate,endDt:actualEndDate,pageNo:'1',pageSize:'20'});const url=`http://data4library.kr/api/loanItemSrch?${params}`;console.log(`ğŸ”¥ ì¸ê¸°ëŒ€ì¶œë„ì„œ API í˜¸ì¶œ (${actualStartDate} ~ ${actualEndDate}):`,url);const response=await fetch(url);if(!response.ok){throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status}`);}const responseText=await response.text();console.log('ğŸ“Š ì¸ê¸°ë„ì„œ API ì›ë³¸ ì‘ë‹µ:',responseText.substring(0,500)+'...');let data;try{// JSON íŒŒì‹± ì‹œë„\ndata=JSON.parse(responseText);}catch(jsonError){// XML ì‘ë‹µì¸ ê²½ìš° íŒŒì‹±\nconsole.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µ ì²˜ë¦¬ ì¤‘...');data=parseXMLResponse(responseText);}console.log('ğŸ“Š ì¸ê¸°ë„ì„œ API íŒŒì‹±ëœ ë°ì´í„°:',JSON.stringify(data,null,2));// API ì—ëŸ¬ ì²´í¬\nif(data.response&&data.response.error){console.warn('API ì—ëŸ¬:',data.response.error);if(data.response.error.includes('í™œì„±í™”')){console.log('ğŸ’¡ API í‚¤ê°€ ì•„ì§ í™œì„±í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');}throw new Error(data.response.error);}console.log('ğŸ” API ì‘ë‹µ êµ¬ì¡° ë¶„ì„:');console.log('- data.response:',data.response);console.log('- data.response.docs:',(_data$response3=data.response)===null||_data$response3===void 0?void 0:_data$response3.docs);console.log('- docs ê¸¸ì´:',(_data$response4=data.response)===null||_data$response4===void 0?void 0:(_data$response4$docs=_data$response4.docs)===null||_data$response4$docs===void 0?void 0:_data$response4$docs.length);// API ì‘ë‹µ ë°ì´í„° êµ¬ì¡°ì— ë§ê²Œ ë³€í™˜\nlet rawBooks=[];if(data.response&&data.response.docs){rawBooks=data.response.docs;}else if(data.response&&data.response.result){rawBooks=data.response.result.docs||[];}else if(Array.isArray(data.response)){rawBooks=data.response;}console.log('ğŸ“š ì›ë³¸ ë„ì„œ ë°ì´í„°:',rawBooks);const books=((_rawBooks=rawBooks)===null||_rawBooks===void 0?void 0:_rawBooks.filter(book=>{console.log('ğŸ“– ê°œë³„ ë„ì„œ ë°ì´í„°:',book);return book.bookname&&book.bookname.trim()!=='';}).map((book,index)=>({id:book.isbn||`book_${index}`,title:book.bookname.trim(),// ì œëª© ê³µë°± ì œê±°\nauthor:book.authors||'ì‘ê°€ ë¯¸ìƒ',publisher:book.publisher||'ì¶œíŒì‚¬ ë¯¸ìƒ',isbn:book.isbn||'',loanCount:parseInt(book.loan_count)||(index+1)*1000,// ëŒ€ì¶œìˆ˜ê°€ ì—†ìœ¼ë©´ ìˆœìœ„ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •\ncategory:book.class_nm||'ì¼ë°˜',publishYear:book.publication_year||'2023'})))||[];console.log(`ğŸ† ì¸ê¸°ë„ì„œ ${books.length}ê¶Œ ì¡°íšŒ ì™„ë£Œ:`,books);return books;}catch(error){console.error('âŒ ì¸ê¸°ë„ì„œ API í˜¸ì¶œ ì˜¤ë¥˜:',error);// API í˜¸ì¶œ ì‹¤íŒ¨ì‹œ ë”ë¯¸ ë°ì´í„° ë°˜í™˜\nreturn getFallbackPopularBooks();}};/**\n * API í˜¸ì¶œ ì‹¤íŒ¨ì‹œ ì‚¬ìš©í•  ë”ë¯¸ ë°ì´í„°\n */// ì„±ì¸ ëŒ€ìƒ ì¸ê¸° ë„ì„œ Top 5 (ì•„ë™ ë„ì„œ ì œì™¸, ìµœì‹ ìˆœ)\nconst getFallbackPopularBooks=()=>{console.log('ğŸ“š Fallback ì¸ê¸°ë„ì„œ ë°ì´í„° ì‚¬ìš© (ë‹¤ì–‘í•œ ì¥ë¥´ í¬í•¨)');return[{id:'1',title:'ì–´ë¦°ì™•ì',author:'ìƒí…ì¥í˜ë¦¬',publisher:'ì—´ë¦°ì±…ë“¤',isbn:'9788932917245',loanCount:6890,category:'ë¬¸í•™',publishYear:'2015'},{id:'2',title:'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',author:'J.K. ë¡¤ë§',publisher:'ë¬¸í•™ìˆ˜ì²©',isbn:'9788983920003',loanCount:6234,category:'íŒíƒ€ì§€',publishYear:'2014'},{id:'3',title:'2030 ìì‚°ê´€ë¦¬ ê³ ë¯¼ë°±ì„œ',author:'ì˜¤ê±´ì˜',publisher:'ë¹„ì¦ˆë‹ˆìŠ¤ë¶ìŠ¤',isbn:'9791162542439',loanCount:5420,category:'ê²½ì œ',publishYear:'2023'},{id:'4',title:'íŠ¸ë Œë“œ ì½”ë¦¬ì•„ 2024',author:'ê¹€ë‚œë„',publisher:'ë¯¸ë˜ì˜ì°½',isbn:'9788959897264',loanCount:4890,category:'ì‚¬íšŒ',publishYear:'2023'},{id:'5',title:'ì„¸ì´ë…¸ì˜ ê°€ë¥´ì¹¨',author:'ì„¸ì´ë…¸',publisher:'ë°ì´ì›',isbn:'9791191043297',loanCount:4321,category:'ìê¸°ê³„ë°œ',publishYear:'2023'},{id:'6',title:'ë¶ˆí¸í•œ í¸ì˜ì ',author:'ê¹€í˜¸ì—°',publisher:'ë‚˜ë¬´ì˜†ì˜ì',isbn:'9791167370778',loanCount:4156,category:'ì†Œì„¤',publishYear:'2021'},{id:'7',title:'ë‹¬ëŸ¬êµ¬íŠ¸ ê¿ˆ ë°±í™”ì ',author:'ì´ë¯¸ì˜ˆ',publisher:'íŒ©í† ë¦¬ë‚˜ì¸',isbn:'9791165340564',loanCount:3987,category:'ì†Œì„¤',publishYear:'2020'},{id:'8',title:'82ë…„ìƒ ê¹€ì§€ì˜',author:'ì¡°ë‚¨ì£¼',publisher:'ë¯¼ìŒì‚¬',isbn:'9788937473142',loanCount:3765,category:'ì†Œì„¤',publishYear:'2016'},{id:'9',title:'ë¯¸ë“œë‚˜ì‡ ë¼ì´ë¸ŒëŸ¬ë¦¬',author:'ë§¤íŠ¸ í—¤ì´ê·¸',publisher:'ì¸í”Œë£¨ì—”ì…œ',isbn:'9788960516618',loanCount:3542,category:'ì†Œì„¤',publishYear:'2021'},{id:'10',title:'ì†Œë…„ì´ ì˜¨ë‹¤',author:'í•œê°•',publisher:'ì°½ë¹„',isbn:'9788936434120',loanCount:3298,category:'ì†Œì„¤',publishYear:'2014'}];};/**\n * ë„ì„œ ê²€ìƒ‰ API í•¨ìˆ˜ (ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œìš©)\n */export const searchBooksAPI=async function(query){let pageNo=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let pageSize=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;const apiService=new LibraryAPIService({baseURL:BASE_URL,apiKey:AUTH_KEY});return await apiService.searchBooks({query,pageNo,pageSize});};/**\n * API ì—°ê²° ìƒíƒœ í…ŒìŠ¤íŠ¸\n */export const testApiConnection=async()=>{try{console.log('ğŸ”„ API ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œì‘...');// 1. ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í…ŒìŠ¤íŠ¸\nconst testQuery='í•´ë¦¬í¬í„°';const searchUrl=`${BASE_URL}/srchBooks`;const params=new URLSearchParams({authKey:AUTH_KEY,format:'json',pageNo:'1',pageSize:'5',keyword:testQuery});const libraryResponse=await fetch(`${searchUrl}?${params}`);const libraryData=await libraryResponse.json();// 2. ê²½ê¸°ë°ì´í„°ë“œë¦¼ API í…ŒìŠ¤íŠ¸ (ì—¬ëŸ¬ ì‹œë„)\nconst gyeonggiApiKey=process.env.REACT_APP_GYEONGGI_API_KEY||'8b62aa70e514468596e9324d064d582d';let gyeonggiResponse;let gyeonggiData;// ì²« ë²ˆì§¸ ì‹œë„: ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\ntry{const gyeonggiUrl1=`https://openapi.gg.go.kr/TBGGIBLLBR`;const gyeonggiParams1=new URLSearchParams({KEY:gyeonggiApiKey,Type:'json',pIndex:'1',pSize:'10'});gyeonggiResponse=await fetch(`${gyeonggiUrl1}?${gyeonggiParams1}`);gyeonggiData=await gyeonggiResponse.json();if(!gyeonggiResponse.ok){throw new Error('First attempt failed');}}catch(error){// ë‘ ë²ˆì§¸ ì‹œë„: ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ í˜•ì‹\ntry{const gyeonggiUrl2=`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${gyeonggiApiKey}&Type=json&pIndex=1&pSize=10`;gyeonggiResponse=await fetch(gyeonggiUrl2);gyeonggiData=await gyeonggiResponse.json();if(!gyeonggiResponse.ok){throw new Error('Second attempt failed');}}catch(error2){// ì„¸ ë²ˆì§¸ ì‹œë„: ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜ë§Œ ì‚¬ìš©\ntry{const gyeonggiUrl3=`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${gyeonggiApiKey}`;gyeonggiResponse=await fetch(gyeonggiUrl3);gyeonggiData=await gyeonggiResponse.json();if(!gyeonggiResponse.ok){throw new Error('Third attempt failed');}}catch(error3){// ëª¨ë“  ì‹œë„ ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’\ngyeonggiResponse={ok:false};gyeonggiData={error:'All attempts failed'};}}}const libraryApiSuccess=libraryResponse.ok&&libraryData.response&&libraryData.response.docs;const gyeonggiApiSuccess=gyeonggiResponse.ok&&gyeonggiData.TBGGIBLLBR&&gyeonggiData.TBGGIBLLBR[1];if(libraryApiSuccess&&gyeonggiApiSuccess){var _gyeonggiData$TBGGIBL;console.log('âœ… ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì„±ê³µ');console.log('âœ… ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì„±ê³µ');return{success:true,message:'ëª¨ë“  API ì—°ê²° ì„±ê³µ! ì‹¤ì œ ë„ì„œê´€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.',details:{libraryBooks:libraryData.response.numFound,gyeonggiLibraries:((_gyeonggiData$TBGGIBL=gyeonggiData.TBGGIBLLBR[1].row)===null||_gyeonggiData$TBGGIBL===void 0?void 0:_gyeonggiData$TBGGIBL.length)||0,sampleBooks:libraryData.response.docs.slice(0,3)}};}else if(libraryApiSuccess){console.log('âœ… ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì„±ê³µ');console.log('âŒ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì‹¤íŒ¨');return{success:true,message:'ë„ì„œê´€ì •ë³´ë‚˜ë£¨ APIë§Œ ì—°ê²°ë¨. ë„ì„œ ê²€ìƒ‰ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì¼ë¶€ ê¸°ëŠ¥ì´ ì œí•œë©ë‹ˆë‹¤.',details:{libraryBooks:libraryData.response.numFound,gyeonggiLibraries:0,sampleBooks:libraryData.response.docs.slice(0,3)}};}else{var _gyeonggiData;console.log('âŒ ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì‹¤íŒ¨');console.log('âŒ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì‹¤íŒ¨');// ê° APIì˜ ì‹¤íŒ¨ ì›ì¸ì„ ìì„¸íˆ ë¶„ì„\nconst failureAnalysis={libraryApi:{status:libraryResponse.status,statusText:libraryResponse.statusText,data:libraryData},gyeonggiApi:{status:gyeonggiResponse.ok?'ok':'failed',data:gyeonggiData,error:((_gyeonggiData=gyeonggiData)===null||_gyeonggiData===void 0?void 0:_gyeonggiData.error)||'Unknown error'}};return{success:false,message:'API ì—°ê²° ì‹¤íŒ¨. ë¸Œë¼ìš°ì €ì—ì„œ CORS ì œí•œì´ë‚˜ API í‚¤ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',details:failureAnalysis};}}catch(error){console.error('API ì—°ê²° í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:',error);return{success:false,message:'API ì—°ê²° ì˜¤ë¥˜. ë„¤íŠ¸ì›Œí¬ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.',details:error};}};/**\n * ê²½ê¸°ë°ì´í„°ë“œë¦¼ API CORS ìš°íšŒ í…ŒìŠ¤íŠ¸\n */export const testGyeonggiApiWithProxy=async function(){let apiKey=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'8b62aa70e514468596e9324d064d582d';try{// ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\nconst methods=[// 1. ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì§ì ‘ í˜¸ì¶œ\n{name:'Correct Endpoint',url:`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}&Type=json&pIndex=1&pSize=5`},// 2. ì¶”ê°€ ë§¤ê°œë³€ìˆ˜ í¬í•¨\n{name:'With Additional Params',url:`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}&Type=json&pIndex=1&pSize=10`},// 3. ë§¤ê°œë³€ìˆ˜ ìˆœì„œ ë³€ê²½\n{name:'Parameter Order Change',url:`https://openapi.gg.go.kr/TBGGIBLLBR?Type=json&KEY=${apiKey}&pIndex=1&pSize=5`},// 4. íŒŒë¼ë¯¸í„° ì—†ì´ ê¸°ë³¸ í˜¸ì¶œ\n{name:'Basic Call',url:`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}`}];for(const method of methods){try{console.log(`ğŸ”„ ${method.name} ì‹œë„:`,method.url);const response=await fetch(method.url,{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'},mode:'cors'});console.log(`ğŸ“Š ${method.name} ì‘ë‹µ:`,response.status,response.statusText);if(response.ok){const data=await response.json();console.log(`âœ… ${method.name} ì„±ê³µ:`,data);return{success:true,message:`ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì„±ê³µ (${method.name})`,details:{method:method.name,url:method.url,data:data}};}else{const errorText=await response.text();console.log(`âŒ ${method.name} ì‹¤íŒ¨:`,errorText);}}catch(error){console.log(`âŒ ${method.name} ì˜¤ë¥˜:`,error);}}return{success:false,message:'ëª¨ë“  ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ë°©ë²• ì‹¤íŒ¨. CORS ë¬¸ì œì´ê±°ë‚˜ API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',details:{attempted_methods:methods.map(m=>m.name),suggestion:'API í‚¤ê°€ í™œì„±í™”ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê±°ë‚˜, ì„œë²„ì‚¬ì´ë“œì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”.'}};}catch(error){return{success:false,message:'ê²½ê¸°ë°ì´í„°ë“œë¦¼ API í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ',details:error};}};/**\n * API ì—°ê²° ë¬¸ì œ í•´ê²° ê°€ì´ë“œ\n */export const getApiTroubleshootingGuide=()=>{return['ğŸ”§ API ì—°ê²° ë¬¸ì œ í•´ê²° ë°©ë²•:','','1. API í‚¤ í™•ì¸:','   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨: 651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8','   - ê²½ê¸°ë°ì´í„°ë“œë¦¼: 8b62aa70e514468596e9324d064d582d','','2. API í‚¤ í™œì„±í™” ìƒíƒœ:','   - ì‹ ì²­ í›„ 1-2ì‹œê°„ ì •ë„ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤','   - ê° ì‚¬ì´íŠ¸ì—ì„œ ìŠ¹ì¸ ìƒíƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”','','3. CORS ë¬¸ì œ (ë¸Œë¼ìš°ì € ë³´ì•ˆ ì •ì±…):','   - ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í˜¸ì¶œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤','   - ê°œë°œ ì¤‘ì—ëŠ” ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤','   - ë°°í¬ ì‹œì—ëŠ” ì„œë²„ì‚¬ì´ë“œì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ì„¸ìš”','','4. ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ:','   - ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ë³´ì„¸ìš”','   - ë°©í™”ë²½ì´ë‚˜ í”„ë¡ì‹œ ì„¤ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”','','5. í˜„ì¬ ìƒíƒœ:','   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API: ì •ìƒ ì‘ë™ ì¤‘','   - ê²½ê¸°ë°ì´í„°ë“œë¦¼ API: ì—°ê²° ë¬¸ì œ (CORS ë˜ëŠ” API í‚¤)','','ğŸ“ ë¬¸ì˜ì²˜:','   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨: http://data4library.kr','   - ê²½ê¸°ë°ì´í„°ë“œë¦¼: https://data.gg.go.kr'];};/**\n * í˜„ì¬ API ì„¤ì • ì •ë³´ í™•ì¸\n */export const getApiStatus=()=>{const hasApiKey=Boolean(AUTH_KEY&&AUTH_KEY!=='your_actual_api_key_here'&&AUTH_KEY.length>10);const isFromEnv=process.env.REACT_APP_LIBRARY_API_KEY!==undefined;return{configured:hasApiKey,apiKey:AUTH_KEY?`${AUTH_KEY.substring(0,10)}...`:'Not set',message:hasApiKey?`API í‚¤ ì„¤ì •ë¨ (${isFromEnv?'í™˜ê²½ë³€ìˆ˜':'ì½”ë“œ'})`:'API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”'};};/**\n * í™˜ê²½ ì„¤ì • í™•ì¸\n */export const checkApiConfiguration=()=>{if(!AUTH_KEY||AUTH_KEY.length<10){console.warn('âš ï¸ API ì¸ì¦í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');return false;}console.log('âœ… API ì¸ì¦í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');return true;};/**\n * ì‹¤ì œ API ì‚¬ìš© ì˜ˆì‹œ\n */export const exampleApiUsage=async()=>{try{// ë„ì„œ ê²€ìƒ‰ ì˜ˆì‹œ\nconsole.log('=== ë„ì„œ ê²€ìƒ‰ API í…ŒìŠ¤íŠ¸ ===');const searchResults=await searchBooksAPI('ì‚¬í”¼ì—”ìŠ¤',1,5);console.log('ê²€ìƒ‰ ê²°ê³¼:',searchResults);// ì¸ê¸° ë„ì„œ ì¡°íšŒ ì˜ˆì‹œ\nconsole.log('=== ì¸ê¸° ë„ì„œ API í…ŒìŠ¤íŠ¸ ===');const popularBooks=await fetchPopularBooks();console.log('ì¸ê¸°ë„ì„œ ëª©ë¡:',popularBooks);return{searchResults,popularBooks};}catch(error){console.error('API ì‚¬ìš© ì˜ˆì‹œ ì˜¤ë¥˜:',error);return{searchResults:[],popularBooks:[]};}};/**\n * ë¸Œë¼ìš°ì €ì—ì„œ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì „ì—­ í•¨ìˆ˜\n */if(typeof window!=='undefined'){window.testLibraryAPI=async()=>{console.log('ğŸ” ë„ì„œê´€ API í…ŒìŠ¤íŠ¸ ì‹œì‘...');// 1. API ì„¤ì • ìƒíƒœ í™•ì¸\nconst apiStatus=getApiStatus();console.log('ğŸ“Š API ì„¤ì • ìƒíƒœ:',apiStatus);// 2. API ì—°ê²° í…ŒìŠ¤íŠ¸\ntry{const connectionTest=await testApiConnection();console.log('ğŸ”— API ì—°ê²° í…ŒìŠ¤íŠ¸ ê²°ê³¼:',connectionTest);if(connectionTest.success){var _connectionTest$detai,_connectionTest$detai2,_connectionTest$detai3;console.log('âœ… ì„±ê³µ! ì‹¤ì œ ë„ì„œê´€ ë°ì´í„° ì‚¬ìš© ê°€ëŠ¥');console.log('ğŸ“š ë„ì„œ ê²€ìƒ‰ ê²°ê³¼:',(_connectionTest$detai=connectionTest.details)===null||_connectionTest$detai===void 0?void 0:_connectionTest$detai.libraryBooks,'ê¶Œ');console.log('ğŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:',(_connectionTest$detai2=connectionTest.details)===null||_connectionTest$detai2===void 0?void 0:_connectionTest$detai2.gyeonggiLibraries,'ê°œ');console.log('ğŸ“– ìƒ˜í”Œ ë„ì„œ ë°ì´í„°:',(_connectionTest$detai3=connectionTest.details)===null||_connectionTest$detai3===void 0?void 0:_connectionTest$detai3.sampleBooks);}else{console.log('âŒ ì‹¤íŒ¨:',connectionTest.message);}return connectionTest;}catch(error){console.error('ğŸš¨ API í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:',error);return{success:false,message:'API í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜',details:error};}};window.searchLibraryBooks=async function(){let query=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'í•´ë¦¬í¬í„°';console.log(`ğŸ” ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸: \"${query}\"`);try{const results=await searchBooksAPI(query,1,5);console.log('ğŸ“š ê²€ìƒ‰ ê²°ê³¼:',results);if(results&&results.length>0){console.log(`âœ… ${results.length}ê¶Œì˜ ë„ì„œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!`);results.forEach((book,index)=>{console.log(`${index+1}. ${book.title} - ${book.author} (${book.publisher})`);});}else{console.log('âŒ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');}return results;}catch(error){console.error('ğŸš¨ ë„ì„œ ê²€ìƒ‰ ì˜¤ë¥˜:',error);return[];}};window.testGyeonggiAPI=async()=>{console.log('ğŸ” ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ë‹¨ë… í…ŒìŠ¤íŠ¸...');return await testGyeonggiApiWithProxy();};window.showApiGuide=()=>{console.log('ğŸ“– API ë¬¸ì œ í•´ê²° ê°€ì´ë“œ:');const guide=getApiTroubleshootingGuide();guide.forEach(line=>console.log(line));return guide;};}/**\n * ì „ì²´ API ì‹œìŠ¤í…œ ì¢…í•© í…ŒìŠ¤íŠ¸\n */if(typeof window!=='undefined'){window.testAllLibraryAPIs=async()=>{console.log('ğŸ”¥ === ë„ì„œê´€ API ì¢…í•© í…ŒìŠ¤íŠ¸ ì‹œì‘ === ğŸ”¥');try{// 1. ê¸°ë³¸ API ì—°ê²° í…ŒìŠ¤íŠ¸\nconsole.log('\\n1ï¸âƒ£ ê¸°ë³¸ API ì—°ê²° í…ŒìŠ¤íŠ¸...');const connectionTest=await testApiConnection();console.log('ê²°ê³¼:',connectionTest);// 2. ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸\nconsole.log('\\n2ï¸âƒ£ ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸...');const searchResults=await searchBooksAPI('í•´ë¦¬í¬í„°',1,5);console.log('ê²€ìƒ‰ ê²°ê³¼:',searchResults);// 3. ì¸ê¸° ë„ì„œ ì¡°íšŒ í…ŒìŠ¤íŠ¸\nconsole.log('\\n3ï¸âƒ£ ì¸ê¸° ë„ì„œ ì¡°íšŒ í…ŒìŠ¤íŠ¸...');const popularBooks=await fetchPopularBooks();console.log('ì¸ê¸° ë„ì„œ:',popularBooks);// 4. ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ í…ŒìŠ¤íŠ¸\nconsole.log('\\n4ï¸âƒ£ ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ í…ŒìŠ¤íŠ¸...');const libraryAPI=new LibraryAPIService({baseURL:'https://openapi.gg.go.kr',apiKey:process.env.REACT_APP_GYEONGGI_API_KEY||'8b62aa70e514468596e9324d064d582d'});const libraries=await libraryAPI.getLibraries();console.log('ê²½ê¸°ë„ ë„ì„œê´€ ëª©ë¡:',libraries.length,'ê°œ');console.log('ìƒ˜í”Œ ë„ì„œê´€:',libraries.slice(0,3));// 5. ì¢…í•© ê²°ê³¼\nconsole.log('\\nğŸ¯ === ì¢…í•© í…ŒìŠ¤íŠ¸ ê²°ê³¼ === ğŸ¯');console.log('âœ… API ì—°ê²° ìƒíƒœ:',connectionTest.success?'ì„±ê³µ':'ì‹¤íŒ¨');console.log('ğŸ“š ê²€ìƒ‰ ê°€ëŠ¥ ë„ì„œ ìˆ˜:',searchResults.length,'ê¶Œ');console.log('ğŸ”¥ ì¸ê¸° ë„ì„œ ìˆ˜:',popularBooks.length,'ê¶Œ');console.log('ğŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:',libraries.length,'ê°œ');if(connectionTest.success&&searchResults.length>0){console.log('ğŸ‰ ëª¨ë“  APIê°€ ì •ìƒ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤!');}else{console.log('âš ï¸ ì¼ë¶€ APIì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');}return{connectionTest,searchResults,popularBooks,libraries:libraries.length};}catch(error){console.error('ğŸš¨ ì¢…í•© í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:',error);return null;}};}/**\n * ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜\n * ì‚¬ìš©ë²•: testCorrectGyeonggiAPI()\n */export const testCorrectGyeonggiAPI=async()=>{console.log('ğŸ” ì˜¬ë°”ë¥¸ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì‹œì‘...');const apiKey='8b62aa70e514468596e9324d064d582d';const correctUrl=`https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}`;try{console.log('ğŸ“ API í˜¸ì¶œ:',correctUrl);const response=await fetch(correctUrl);console.log('ğŸ“Š ì‘ë‹µ ìƒíƒœ:',response.status,response.statusText);if(response.ok){const data=await response.json();console.log('âœ… API ì—°ê²° ì„±ê³µ!');console.log('ğŸ“‹ ì‘ë‹µ ë°ì´í„°:',data);if(data.TBGGIBLLBR&&data.TBGGIBLLBR[1]&&data.TBGGIBLLBR[1].row){console.log('ğŸ“š ë„ì„œê´€ ê°œìˆ˜:',data.TBGGIBLLBR[1].row.length);console.log('ğŸ“ ì²« ë²ˆì§¸ ë„ì„œê´€:',data.TBGGIBLLBR[1].row[0]);}}else{console.log('âŒ API í˜¸ì¶œ ì‹¤íŒ¨:',response.status,response.statusText);}}catch(error){console.log('ğŸš¨ ì˜¤ë¥˜ ë°œìƒ:',error);}};// ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì§ì ‘ í…ŒìŠ¤íŠ¸\nexport const testLibraryAPI=async()=>{const apiKey=process.env.REACT_APP_LIBRARY_API_KEY||AUTH_KEY;console.log('ğŸ”‘ ì‚¬ìš© ì¤‘ì¸ API í‚¤:',`${apiKey.substring(0,10)}...`);// 1. ê°„ë‹¨í•œ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸\nconst libTestUrl=`http://data4library.kr/api/libSrch?authKey=${apiKey}&pageNo=1&pageSize=5`;console.log('ğŸ›ï¸ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸:',libTestUrl);try{const response=await fetch(libTestUrl);const data=await response.text();// ë¨¼ì € textë¡œ ë°›ì•„ë³´ê¸°\nconsole.log('ğŸ“„ ë„ì„œê´€ ì¡°íšŒ API ì‘ë‹µ (ì›ë³¸):',data);// XML ì‘ë‹µì„ JSONìœ¼ë¡œ íŒŒì‹± ì‹œë„\ntry{const jsonData=JSON.parse(data);console.log('âœ… JSON íŒŒì‹± ì„±ê³µ:',jsonData);}catch(parseError){console.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤');}}catch(error){console.error('âŒ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:',error);}// 2. ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸\nconst popularTestUrl=`http://data4library.kr/api/loanItemSrch?authKey=${apiKey}&startDt=2023-01-01&endDt=2023-12-31&pageNo=1&pageSize=5`;console.log('ğŸ† ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸:',popularTestUrl);try{const response=await fetch(popularTestUrl);const data=await response.text();// ë¨¼ì € textë¡œ ë°›ì•„ë³´ê¸°\nconsole.log('ğŸ“„ ì¸ê¸°ëŒ€ì¶œë„ì„œ API ì‘ë‹µ (ì›ë³¸):',data.substring(0,500)+'...');// XML ì‘ë‹µì„ JSONìœ¼ë¡œ íŒŒì‹± ì‹œë„\ntry{const jsonData=JSON.parse(data);console.log('âœ… JSON íŒŒì‹± ì„±ê³µ:',jsonData);}catch(parseError){console.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µ ì²˜ë¦¬ ì¤‘...');const xmlData=parseXMLResponse(data);console.log('âœ… XML íŒŒì‹± ì„±ê³µ:',xmlData);console.log('ğŸ“Š ì¶”ì¶œëœ ë„ì„œ ìˆ˜:',xmlData.response.docs.length);}}catch(error){console.error('âŒ ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:',error);}};// ì „ì—­ ê°ì²´ì— í•¨ìˆ˜ ì¶”ê°€ (ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‰½ê²Œ ì ‘ê·¼)\nif(typeof window!=='undefined'){window.testCorrectGyeonggiAPI=testCorrectGyeonggiAPI;window.testLibraryAPI=testLibraryAPI;}","map":{"version":3,"names":["dummyLibraries","id","name","address","phone","hours","website","distance","coordinates","lat","lng","type","dummyBooks","title","author","publisher","isbn","category","publishYear","description","imageUrl","dummyReadingGroups","libraryId","libraryName","meetingDate","meetingTime","maxMembers","currentMembers","bookTitle","bookAuthor","difficulty","meetingType","organizer","contact","status","LibraryAPIService","constructor","config","getLibraries","location","radius","apiUrl","params","URLSearchParams","KEY","process","env","REACT_APP_GYEONGGI_API_KEY","Type","pIndex","pSize","response","fetch","ok","Error","data","json","libraries","TBGGIBLLBR","row","map","item","index","toString","LBRRY_NM","REFINE_ROADNM_ADDR","REFINE_LOTNO_ADDR","TELNO","OPER_TIME","HMPG_ADDR","Math","round","random","parseFloat","REFINE_WGS84_LAT","REFINE_WGS84_LOGT","additionalLibraries","error","console","log","searchBooks","_data$response","_data$response2","cleanQuery","query","trim","replace","searchParams","authKey","REACT_APP_LIBRARY_API_KEY","AUTH_KEY","pageNo","pageSize","format","statusText","JSON","stringify","docs","numFound","authorSearchParams","authorResponse","authorData","rawBooks","length","bookname","doc","filter","book","Array","isArray","result","books","hasTitle","isbn13","authors","class_nm","publication_year","bookImageURL","loanCount","parseInt","loan_count","warn","getDummyBooksForQuery","searchTerm","Date","now","getBookAvailability","region","arguments","undefined","regionCodes","regionCode","includes","nationalParams","nationalResponse","nationalData","libs","availability","lib","_lib$lib","_lib$lib2","_lib$book","_lib$book2","_lib$book3","_lib$book4","libCode","libName","available","loanAvailable","loanable","reservable","reserveAvailable","dueDate","returnPlanDate","reserveBook","bookId","userId","getReadingGroups","group","joinReadingGroup","groupId","createReadingGroup","groupData","defaultLibraryAPI","baseURL","REACT_APP_GYEONGGI_API_URL","apiKey","API_SETUP_GUIDE","steps","step","url","note","code","additionalAPIs","apis","BASE_URL","checkApiApprovalStatus","_data$message","_data$message2","message","parseXMLResponse","xmlString","parser","DOMParser","xmlDoc","parseFromString","parseError","getElementsByTagName","textContent","i","getTextContent","tagName","element","ranking","push","start","fetchPopularBooks","startDate","endDate","defaultEndDate","defaultStartDate","actualStartDate","actualEndDate","_data$response3","_data$response4","_data$response4$docs","_rawBooks","startDt","endDt","responseText","text","substring","parse","jsonError","getFallbackPopularBooks","searchBooksAPI","apiService","testApiConnection","testQuery","searchUrl","keyword","libraryResponse","libraryData","gyeonggiApiKey","gyeonggiResponse","gyeonggiData","gyeonggiUrl1","gyeonggiParams1","gyeonggiUrl2","error2","gyeonggiUrl3","error3","libraryApiSuccess","gyeonggiApiSuccess","_gyeonggiData$TBGGIBL","success","details","libraryBooks","gyeonggiLibraries","sampleBooks","slice","_gyeonggiData","failureAnalysis","libraryApi","gyeonggiApi","testGyeonggiApiWithProxy","methods","method","headers","mode","errorText","attempted_methods","m","suggestion","getApiTroubleshootingGuide","getApiStatus","hasApiKey","Boolean","isFromEnv","configured","checkApiConfiguration","exampleApiUsage","searchResults","popularBooks","window","testLibraryAPI","apiStatus","connectionTest","_connectionTest$detai","_connectionTest$detai2","_connectionTest$detai3","searchLibraryBooks","results","forEach","testGyeonggiAPI","showApiGuide","guide","line","testAllLibraryAPIs","libraryAPI","testCorrectGyeonggiAPI","correctUrl","libTestUrl","jsonData","popularTestUrl","xmlData"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/services/LibraryAPI.ts"],"sourcesContent":["import { LatLng } from 'leaflet';\n\n// ë”ë¯¸ ë°ì´í„° - ê²½ê¸°ë„ ë„ì„œê´€ (ì‹œë¦½ ì¤‘ì•™ë„ì„œê´€ + ë™ë„¤ ì‘ì€ë„ì„œê´€)\nexport const dummyLibraries = [\n  // ìˆ˜ì›ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '1',\n    name: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235',\n    phone: '031-249-4800',\n    hours: '09:00-18:00',\n    website: 'https://www.library.kr/',\n    distance: 0.8,\n    coordinates: { lat: 37.299, lng: 127.070 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '2',\n    name: 'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë¡œ 183',\n    phone: '031-228-4300',\n    hours: '09:00-22:00',\n    website: 'https://www.suwonlib.go.kr/',\n    distance: 1.2,\n    coordinates: { lat: 37.295, lng: 127.075 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '3',\n    name: 'ì˜í†µêµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë™ 999-1',\n    phone: '031-228-4350',\n    hours: '09:00-20:00',\n    website: 'https://www.suwonlib.go.kr/',\n    distance: 1.5,\n    coordinates: { lat: 37.293, lng: 127.073 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '4',\n    name: 'ê´‘êµì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë™ 1275',\n    phone: '031-228-4380',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 1.8,\n    coordinates: { lat: 37.291, lng: 127.077 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  {\n    id: '5',\n    name: 'ë§í¬ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ë§í¬ë™ 578-2',\n    phone: '031-228-4390',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 2.1,\n    coordinates: { lat: 37.285, lng: 127.065 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  \n  // ì„±ë‚¨ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '6',\n    name: 'ì„±ë‚¨ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì–‘í˜„ë¡œ 346',\n    phone: '031-729-4600',\n    hours: '09:00-18:00',\n    website: 'https://www.snlib.go.kr/',\n    distance: 2.5,\n    coordinates: { lat: 37.350, lng: 127.105 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '7',\n    name: 'ë¶„ë‹¹êµ¬ë¦½ì •ìë„ì„œê´€',\n    address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì •ìë™ 178-1',\n    phone: '031-729-4650',\n    hours: '09:00-20:00',\n    website: 'https://www.snlib.go.kr/',\n    distance: 2.8,\n    coordinates: { lat: 37.365, lng: 127.110 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '8',\n    name: 'ì„œí˜„ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™ 271-3',\n    phone: '031-729-4670',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 3.1,\n    coordinates: { lat: 37.348, lng: 127.123 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  {\n    id: '9',\n    name: 'ì•¼íƒ‘ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì•¼íƒ‘ë™ 344-10',\n    phone: '031-729-4680',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 3.3,\n    coordinates: { lat: 37.341, lng: 127.128 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  \n  // ê³ ì–‘ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '10',\n    name: 'ê³ ì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ê³ ì–‘ì‹œ ë•ì–‘êµ¬ ê³ ì–‘ëŒ€ë¡œ 1955',\n    phone: '031-8075-9300',\n    hours: '09:00-18:00',\n    website: 'https://www.goyanglib.go.kr/',\n    distance: 4.2,\n    coordinates: { lat: 37.650, lng: 126.830 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '11',\n    name: 'ì¼ì‚°ë™êµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1256',\n    phone: '031-8075-9350',\n    hours: '09:00-20:00',\n    website: 'https://www.goyanglib.go.kr/',\n    distance: 4.5,\n    coordinates: { lat: 37.670, lng: 126.775 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '12',\n    name: 'ë°±ì„ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1234-5',\n    phone: '031-8075-9380',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 4.8,\n    coordinates: { lat: 37.675, lng: 126.780 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  {\n    id: '13',\n    name: 'ë§ˆë‘ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë§ˆë‘ë™ 775-2',\n    phone: '031-8075-9390',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 5.1,\n    coordinates: { lat: 37.655, lng: 126.785 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  \n  // ë¶€ì²œì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '14',\n    name: 'ë¶€ì²œì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ê¸¸ì£¼ë¡œ 1',\n    phone: '032-625-4700',\n    hours: '09:00-18:00',\n    website: 'https://www.bclib.go.kr/',\n    distance: 3.1,\n    coordinates: { lat: 37.490, lng: 126.783 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '15',\n    name: 'ì›ë¯¸êµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ 1033-3',\n    phone: '032-625-4750',\n    hours: '09:00-20:00',\n    website: 'https://www.bclib.go.kr/',\n    distance: 3.4,\n    coordinates: { lat: 37.485, lng: 126.788 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '16',\n    name: 'ì¤‘ë™ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ 1178-1',\n    phone: '032-625-4780',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 3.7,\n    coordinates: { lat: 37.488, lng: 126.791 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  {\n    id: '17',\n    name: 'ì—­ê³¡ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì—­ê³¡ë™ 201-8',\n    phone: '032-625-4790',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 4.0,\n    coordinates: { lat: 37.486, lng: 126.794 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  \n  // ì•ˆì–‘ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '18',\n    name: 'ì•ˆì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 30',\n    phone: '031-389-0800',\n    hours: '09:00-22:00',\n    website: 'https://www.aylib.go.kr/',\n    distance: 3.8,\n    coordinates: { lat: 37.400, lng: 126.950 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '19',\n    name: 'ë§Œì•ˆêµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ 678-49',\n    phone: '031-389-0850',\n    hours: '09:00-20:00',\n    website: 'https://www.aylib.go.kr/',\n    distance: 4.1,\n    coordinates: { lat: 37.395, lng: 126.955 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '20',\n    name: 'ì•ˆì–‘ë™ì‘ì€ë„ì„œê´€',\n    address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ 123-45',\n    phone: '031-389-0880',\n    hours: '10:00-18:00',\n    website: '',\n    distance: 4.4,\n    coordinates: { lat: 37.398, lng: 126.958 },\n    type: 'ì‘ì€ë„ì„œê´€'\n  },\n  \n  // ìš©ì¸ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '21',\n    name: 'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199',\n    phone: '031-324-4800',\n    hours: '09:00-18:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 4.8,\n    coordinates: { lat: 37.230, lng: 127.208 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '22',\n    name: 'ìˆ˜ì§€êµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ ìˆ˜ì§€ë™ 1234-1',\n    phone: '031-324-4850',\n    hours: '09:00-20:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 5.1,\n    coordinates: { lat: 37.325, lng: 127.095 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '23',\n    name: 'ê¸°í¥êµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ êµ¬ê°ˆë™ 567-8',\n    phone: '031-324-4880',\n    hours: '09:00-20:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 5.4,\n    coordinates: { lat: 37.275, lng: 127.115 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  },\n  {\n    id: '23-1',\n    name: 'ì²˜ì¸ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ê¸ˆë ¹ë¡œ 33ë²ˆê¸¸ 15',\n    phone: '031-324-4670',\n    hours: '09:00-18:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 5.6,\n    coordinates: { lat: 37.236, lng: 127.200 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '23-2',\n    name: 'ì„œë†ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83',\n    phone: '031-324-4680',\n    hours: '09:00-18:00',\n    website: '',\n    distance: 5.8,\n    coordinates: { lat: 37.241, lng: 127.077 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '23-3',\n    name: 'í¬ê³¡ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ í¬ê³¡ì ì—ë²„ëœë“œë¡œ 860',\n    phone: '031-324-4690',\n    hours: '09:00-18:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 6.0,\n    coordinates: { lat: 37.294, lng: 127.202 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '23-4',\n    name: 'í¥ë•ë„ì„œê´€',\n    address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ í¥ë•ì¤‘ì•™ë¡œ 120',\n    phone: '031-324-4700',\n    hours: '09:00-18:00',\n    website: 'https://www.yonginlib.go.kr/',\n    distance: 5.2,\n    coordinates: { lat: 37.238, lng: 127.119 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  \n  // í™”ì„±ì‹œ ë„ì„œê´€ë“¤\n  {\n    id: '24',\n    name: 'í™”ì„±ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    address: 'ê²½ê¸° í™”ì„±ì‹œ ë‚¨ì–‘ì ì‹œì²­ë¡œ 155',\n    phone: '031-369-6800',\n    hours: '09:00-18:00',\n    website: 'https://www.hscitylib.go.kr/',\n    distance: 6.2,\n    coordinates: { lat: 37.200, lng: 126.831 },\n    type: 'ê³µê³µë„ì„œê´€'\n  },\n  {\n    id: '25',\n    name: 'ë™íƒ„êµ¬ë¦½ë„ì„œê´€',\n    address: 'ê²½ê¸° í™”ì„±ì‹œ ë™íƒ„ë©´ ë™íƒ„ëŒ€ë¡œ 300',\n    phone: '031-369-6850',\n    hours: '09:00-20:00',\n    website: 'https://www.hscitylib.go.kr/',\n    distance: 6.5,\n    coordinates: { lat: 37.205, lng: 127.078 },\n    type: 'êµ¬ë¦½ë„ì„œê´€'\n  }\n];\n\n// ë”ë¯¸ ë„ì„œ ë°ì´í„°\nexport const dummyBooks = [\n  {\n    id: 1,\n    title: '82ë…„ìƒ ê¹€ì§€ì˜',\n    author: 'ì¡°ë‚¨ì£¼',\n    publisher: 'ë¯¼ìŒì‚¬',\n    isbn: '9788937473722',\n    category: 'ì†Œì„¤',\n    publishYear: '2016',\n    description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ë‹´ì€ í™”ì œì˜ ì†Œì„¤',\n    imageUrl: ''\n  },\n  {\n    id: 2,\n    title: 'ë¯¸ë“œë‚˜ì‡ ë¼ì´ë¸ŒëŸ¬ë¦¬',\n    author: 'ë§¤íŠ¸ í—¤ì´ê·¸',\n    publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n    isbn: '9791197377109',\n    category: 'ì†Œì„¤',\n    publishYear: '2020',\n    description: 'í›„íšŒì™€ ì„ íƒì— ê´€í•œ ì² í•™ì  ì†Œì„¤',\n    imageUrl: ''\n  },\n  {\n    id: 3,\n    title: 'ì‚¬í”¼ì—”ìŠ¤',\n    author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n    publisher: 'ê¹€ì˜ì‚¬',\n    isbn: '9788934972464',\n    category: 'ì¸ë¬¸',\n    publishYear: '2015',\n    description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ ë‹¤ë£¬ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n    imageUrl: ''\n  },\n  {\n    id: 4,\n    title: 'ì•„ëª¬ë“œ',\n    author: 'ì†ì›í‰',\n    publisher: 'ì°½ë¹„',\n    isbn: '9788936434267',\n    category: 'ì†Œì„¤',\n    publishYear: '2017',\n    description: 'ê°ì •ì„ ëŠë¼ì§€ ëª»í•˜ëŠ” ì†Œë…„ì˜ ì„±ì¥ ì†Œì„¤',\n    imageUrl: ''\n  },\n  {\n    id: 5,\n    title: 'ì •ì˜ë€ ë¬´ì—‡ì¸ê°€',\n    author: 'ë§ˆì´í´ ìƒŒë¸',\n    publisher: 'ê¹€ì˜ì‚¬',\n    isbn: '9788934942467',\n    category: 'ì² í•™',\n    publishYear: '2010',\n    description: 'ì •ì˜ì— ëŒ€í•œ ì² í•™ì  íƒêµ¬',\n    imageUrl: ''\n  }\n];\n\n// ë”ë¯¸ ë…ì„œëª¨ì„ ë°ì´í„°\nexport const dummyReadingGroups = [\n  {\n    id: 1,\n    name: 'ì‹œë‹ˆì–´ ë…ì„œ í´ëŸ½',\n    description: '50-60ëŒ€ë¥¼ ìœ„í•œ ë…ì„œ ëª¨ì„ì…ë‹ˆë‹¤.',\n    libraryId: '1',\n    libraryName: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',\n    meetingDate: '2024-01-15',\n    meetingTime: '14:00',\n    maxMembers: 15,\n    currentMembers: 8,\n    bookTitle: '82ë…„ìƒ ê¹€ì§€ì˜',\n    bookAuthor: 'ì¡°ë‚¨ì£¼',\n    category: 'ì†Œì„¤',\n    difficulty: 'ì‰¬ì›€',\n    meetingType: 'library',\n    organizer: 'ê¹€ë„ì„œ',\n    contact: '010-1234-5678',\n    status: 'active'\n  },\n  {\n    id: 2,\n    name: 'ì—­ì‚¬ íƒêµ¬ ëª¨ì„',\n    description: 'í•œêµ­ì‚¬ì™€ ì„¸ê³„ì‚¬ë¥¼ í•¨ê»˜ ì½ëŠ” ëª¨ì„',\n    libraryId: '2',\n    libraryName: 'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n    meetingDate: '2024-01-20',\n    meetingTime: '10:00',\n    maxMembers: 12,\n    currentMembers: 6,\n    bookTitle: 'ì‚¬í”¼ì—”ìŠ¤',\n    bookAuthor: 'ìœ ë°œ í•˜ë¼ë¦¬',\n    category: 'ì¸ë¬¸',\n    difficulty: 'ë³´í†µ',\n    meetingType: 'library',\n    organizer: 'ë°•ì—­ì‚¬',\n    contact: '010-2345-6789',\n    status: 'active'\n  }\n];\n\nexport interface LibraryAPIConfig {\n  baseURL: string;\n  apiKey: string;\n}\n\nexport interface GyeonggiLibraryData {\n  libraryName: string;\n  address: string;\n  phoneNumber: string;\n  website?: string;\n  operatingHours: string;\n  latitude?: number;\n  longitude?: number;\n  libraryType: string;\n}\n\nexport interface BookSearchParams {\n  query: string;\n  libraryId?: string;\n  startDate?: string;\n  endDate?: string;\n  pageNo?: number;\n  pageSize?: number;\n}\n\nexport interface BookSearchResult {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  publishYear: string;\n  description?: string;\n  imageUrl?: string;\n  loanCount?: number;\n  availability?: LibraryAvailability[];\n}\n\nexport interface LibraryAvailability {\n  libraryId: string;\n  libraryName: string;\n  available: boolean;\n  loanable: boolean;\n  reservable: boolean;\n  dueDate?: string;\n}\n\n/**\n * ê²½ê¸°ë„ ê³µê³µë°ì´í„° API ì„œë¹„ìŠ¤ í´ë˜ìŠ¤\n * ì‹¤ì œ êµ¬í˜„ ì‹œ ì•„ë˜ APIë“¤ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n * \n * 1. ê²½ê¸°ë°ì´í„°ë“œë¦¼ (data.gg.go.kr)\n *    - ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ API\n *    - ë„ì„œê´€ ì‹œì„¤ í˜„í™© API\n *    - ë¬¸í™”ì‹œì„¤ í†µí•© ì •ë³´ API\n * \n * 2. ë„ì„œê´€ì •ë³´ë‚˜ë£¨ (data4library.kr) \n *    - ì „êµ­ ë„ì„œê´€ í‘œì¤€ API\n *    - ë„ì„œ ê²€ìƒ‰ API\n *    - ëŒ€ì¶œ/ì˜ˆì•½ í˜„í™© API\n * \n * 3. ì„œìš¸ì—´ë¦°ë°ì´í„°ê´‘ì¥ ë“± ì‹œêµ°ë³„ Open API\n *    - ê° ì‹œêµ°ë³„ ë„ì„œê´€ API\n *    - ì§€ì—­ë³„ ë¬¸í™”ì‹œì„¤ API\n */\nexport class LibraryAPIService {\n  private config: LibraryAPIConfig;\n\n  constructor(config: LibraryAPIConfig) {\n    this.config = config;\n  }\n\n  /**\n   * ê²½ê¸°ë„ ë„ì„œê´€ ëª©ë¡ ì¡°íšŒ\n   * ì‹¤ì œ API: https://openapi.gg.go.kr/TBGGIBLLBR\n   */\n  async getLibraries(location?: LatLng, radius?: number): Promise<any[]> {\n    try {\n      // ê²½ê¸°ë°ì´í„°ë“œë¦¼ ë„ì„œê´€ í˜„í™© API í˜¸ì¶œ (ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸)\n      const apiUrl = `https://openapi.gg.go.kr/TBGGIBLLBR`;\n      const params = new URLSearchParams({\n        KEY: process.env.REACT_APP_GYEONGGI_API_KEY || '8b62aa70e514468596e9324d064d582d',\n        Type: 'json',\n        pIndex: '1',\n        pSize: '500' // ê²€ìƒ‰ ë²”ìœ„ í™•ëŒ€\n      });\n\n      const response = await fetch(`${apiUrl}?${params}`);\n      \n      if (!response.ok) {\n        throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      \n      // ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì‘ë‹µ êµ¬ì¡°ì— ë§ê²Œ ë°ì´í„° ë³€í™˜\n      let libraries = [];\n      if (data.TBGGIBLLBR && data.TBGGIBLLBR[1] && data.TBGGIBLLBR[1].row) {\n        libraries = data.TBGGIBLLBR[1].row.map((item: any, index: number) => ({\n          id: (index + 1).toString(),\n          name: item.LBRRY_NM || 'ë„ì„œê´€ëª… ì—†ìŒ',\n          address: item.REFINE_ROADNM_ADDR || item.REFINE_LOTNO_ADDR || 'ì£¼ì†Œ ì—†ìŒ',\n          phone: item.TELNO || 'ì „í™”ë²ˆí˜¸ ì—†ìŒ',\n          hours: item.OPER_TIME || '09:00-18:00', // ì‹¤ì œ ìš´ì˜ì‹œê°„ ì‚¬ìš©\n          website: item.HMPG_ADDR || '',\n          distance: Math.round(Math.random() * 5 * 10) / 10, // ì„ì‹œ ê±°ë¦¬ ê³„ì‚°\n          coordinates: {\n            lat: parseFloat(item.REFINE_WGS84_LAT) || 37.5,\n            lng: parseFloat(item.REFINE_WGS84_LOGT) || 127.0\n          },\n          type: 'ê³µê³µë„ì„œê´€'\n        }));\n      }\n\n      // ìš©ì¸ì‹œ ë„ì„œê´€ë“¤ ìˆ˜ë™ ì¶”ê°€ (APIì—ì„œ ê²€ìƒ‰ë˜ì§€ ì•ŠëŠ” ê²½ìš° ëŒ€ë¹„)\n      const additionalLibraries = [\n        {\n          id: 'yongin_central',\n          name: 'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199',\n          phone: '031-324-4600',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 1.2,\n          coordinates: { lat: 37.231, lng: 127.208 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'giheung_lib',\n          name: 'ê¸°í¥ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ ê¸°í¥ë¡œ 19',\n          phone: '031-324-4660',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 1.8,\n          coordinates: { lat: 37.275, lng: 127.115 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'suji_lib',\n          name: 'ìˆ˜ì§€ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ í¬ì€ëŒ€ë¡œ 435',\n          phone: '031-324-4650',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 2.1,\n          coordinates: { lat: 37.324, lng: 127.094 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'cheoin_lib',\n          name: 'ì²˜ì¸ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ê¸ˆë ¹ë¡œ 33ë²ˆê¸¸ 15',\n          phone: '031-324-4670',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 2.3,\n          coordinates: { lat: 37.236, lng: 127.200 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'seongnam_lib',\n          name: 'ì„œë†ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83',\n          phone: '031-324-4680',\n          hours: '09:00-18:00',\n          website: '',\n          distance: 2.5,\n          coordinates: { lat: 37.241, lng: 127.077 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'pogok_lib',\n          name: 'í¬ê³¡ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ í¬ê³¡ì ì—ë²„ëœë“œë¡œ 860',\n          phone: '031-324-4690',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 3.2,\n          coordinates: { lat: 37.294, lng: 127.202 },\n          type: 'ê³µê³µë„ì„œê´€'\n        },\n        {\n          id: 'heungdeok_lib',\n          name: 'í¥ë•ë„ì„œê´€',\n          address: 'ê²½ê¸°ë„ ìš©ì¸ì‹œ ê¸°í¥êµ¬ í¥ë•ì¤‘ì•™ë¡œ 120',\n          phone: '031-324-4700',\n          hours: '09:00-18:00',\n          website: 'https://www.yonginlib.go.kr',\n          distance: 2.8,\n          coordinates: { lat: 37.238, lng: 127.119 },\n          type: 'ê³µê³µë„ì„œê´€'\n        }\n      ];\n\n      return [...libraries, ...additionalLibraries];\n      \n    } catch (error) {\n      console.error('ë„ì„œê´€ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨:', error);\n      console.log('ë”ë¯¸ ë°ì´í„°ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');\n      return dummyLibraries; // ì˜¤ë¥˜ ì‹œ ë”ë¯¸ ë°ì´í„° ë°˜í™˜\n    }\n  }\n\n  /**\n   * ë„ì„œ ê²€ìƒ‰ - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í™œìš©\n   * ì‹¤ì œ API: http://data4library.kr/api/srchBooks\n   */\n  async searchBooks(params: BookSearchParams): Promise<BookSearchResult[]> {\n    try {\n      const apiUrl = 'http://data4library.kr/api/srchBooks';\n      \n      // ê²€ìƒ‰ì–´ ì „ì²˜ë¦¬ ë° ì¸ì½”ë”©\n      const cleanQuery = params.query.trim().replace(/\\s+/g, ' ');\n      \n      const searchParams = new URLSearchParams({\n        authKey: process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY,\n        title: cleanQuery,\n        pageNo: (params.pageNo || 1).toString(),\n        pageSize: (params.pageSize || 10).toString(),\n        format: 'json'\n      });\n\n      console.log('ğŸ” ë„ì„œ ê²€ìƒ‰ API í˜¸ì¶œ:', `${apiUrl}?${searchParams}`);\n      console.log('ğŸ” ê²€ìƒ‰ì–´:', cleanQuery);\n      \n      const response = await fetch(`${apiUrl}?${searchParams}`);\n      \n      if (!response.ok) {\n        throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      console.log('ğŸ“Š ë„ì„œê²€ìƒ‰ API ì „ì²´ ì‘ë‹µ:', JSON.stringify(data, null, 2));\n      \n      // API ì‘ë‹µ êµ¬ì¡° ë¶„ì„\n      console.log('ğŸ” ë„ì„œê²€ìƒ‰ API ì‘ë‹µ êµ¬ì¡° ë¶„ì„:');\n      console.log('- data.response:', data.response);\n      console.log('- data.response.docs:', data.response?.docs);\n      console.log('- data.response.numFound:', data.response?.numFound);\n      \n      // ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„\n      if (data.response && data.response.numFound === 0) {\n        console.log('âš ï¸ ì²« ë²ˆì§¸ ê²€ìƒ‰ì—ì„œ ê²°ê³¼ ì—†ìŒ, ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„');\n        \n        // ì‘ê°€ëª…ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ê¸°\n        const authorSearchParams = new URLSearchParams({\n          authKey: process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY,\n          author: cleanQuery,\n          pageNo: (params.pageNo || 1).toString(),\n          pageSize: (params.pageSize || 10).toString(),\n          format: 'json'\n        });\n        \n        console.log('ğŸ” ì‘ê°€ëª…ìœ¼ë¡œ ì¬ê²€ìƒ‰:', `${apiUrl}?${authorSearchParams}`);\n        \n        const authorResponse = await fetch(`${apiUrl}?${authorSearchParams}`);\n        if (authorResponse.ok) {\n          const authorData = await authorResponse.json();\n          console.log('ğŸ“Š ì‘ê°€ëª… ê²€ìƒ‰ ê²°ê³¼:', JSON.stringify(authorData, null, 2));\n          \n          if (authorData.response && authorData.response.numFound > 0) {\n            data.response = authorData.response;\n          }\n        }\n      }\n      \n      // API ì‘ë‹µ êµ¬ì¡° í™•ì¸ ë° ë°ì´í„° ì¶”ì¶œ\n      let rawBooks = [];\n      if (data.response && data.response.docs && data.response.docs.length > 0) {\n        // ê° docs ìš”ì†Œì—ì„œ doc ê°ì²´ ì¶”ì¶œ\n        rawBooks = data.response.docs.map((item: any) => {\n          // itemì´ ì§ì ‘ ë„ì„œ ë°ì´í„°ì¸ì§€ í™•ì¸\n          if (item.bookname || item.title) {\n            return item;\n          }\n          // ë˜ëŠ” item.doc í˜•íƒœì¸ì§€ í™•ì¸\n          if (item.doc) {\n            return item.doc;\n          }\n          return item;\n        }).filter((doc: any) => doc && (doc.bookname || doc.title));\n      } else if (data.response && data.response.book) {\n        rawBooks = Array.isArray(data.response.book) ? data.response.book : [data.response.book];\n      } else if (data.response && data.response.result) {\n        rawBooks = data.response.result.docs || data.response.result;\n      }\n      \n      console.log('ğŸ“š ì›ë³¸ ë„ì„œ ë°ì´í„°:', rawBooks);\n      \n      if (rawBooks && rawBooks.length > 0) {\n        const books: BookSearchResult[] = rawBooks\n          .filter((book: any) => {\n            console.log('ğŸ“– ê°œë³„ ë„ì„œ ë°ì´í„° í™•ì¸:', book);\n            const hasTitle = book.bookname || book.title;\n            return hasTitle && hasTitle.trim() !== '';\n          })\n          .map((book: any, index: number) => ({\n            id: book.isbn13 || book.isbn || `book_${index}`,\n            title: (book.bookname || book.title || '').trim(),\n            author: book.authors || book.author || 'ì‘ê°€ ë¯¸ìƒ',\n            publisher: book.publisher || 'ì¶œíŒì‚¬ ë¯¸ìƒ',\n            isbn: book.isbn13 || book.isbn || '',\n            category: book.class_nm || book.category || 'ì¼ë°˜',\n            publishYear: book.publication_year || book.publishYear || '2023',\n            description: book.description || '',\n            imageUrl: book.bookImageURL || book.imageUrl || '',\n            loanCount: parseInt(book.loan_count || book.loanCount || '0') || 0\n          }));\n        \n        console.log('âœ… ë³€í™˜ëœ ë„ì„œ ë°ì´í„°:', books);\n        console.log(`ğŸ¯ ì œëª©ì´ ìˆëŠ” ë„ì„œ ${books.length}ê¶Œì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.`);\n        return books;\n      }\n      \n      // API ì‘ë‹µì´ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ê²½ìš° ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±\n      console.warn('âš ï¸ API ì‘ë‹µ êµ¬ì¡°ê°€ ì˜ˆìƒê³¼ ë‹¤ë¦„, ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±');\n      return this.getDummyBooksForQuery(params.query);\n      \n    } catch (error) {\n      console.error('ğŸ’¥ ë„ì„œ ê²€ìƒ‰ ì‹¤íŒ¨:', error);\n      console.log('ğŸ”„ ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„°ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');\n      return this.getDummyBooksForQuery(params.query);\n    }\n  }\n\n  /**\n   * ê²€ìƒ‰ì–´ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±\n   */\n  private getDummyBooksForQuery(query: string): BookSearchResult[] {\n    const searchTerm = query.trim();\n    \n    // ê²€ìƒ‰ì–´ì— ë”°ë¥¸ ë§ì¶¤ ë”ë¯¸ ë°ì´í„°\n    const dummyBooks: BookSearchResult[] = [\n      {\n        id: `dummy_${Date.now()}`,\n        title: searchTerm,\n        author: 'ì‘ê°€ ë¯¸ìƒ',\n        publisher: 'ì¶œíŒì‚¬ ì •ë³´ ì—†ìŒ',\n        isbn: '9788000000000',\n        category: 'ì¼ë°˜',\n        publishYear: '2023',\n        description: `\"${searchTerm}\"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ì…ë‹ˆë‹¤. ì •í™•í•œ ë„ì„œ ì •ë³´ëŠ” ì§ì ‘ ë„ì„œê´€ì— ë¬¸ì˜í•´ ì£¼ì„¸ìš”.`,\n        imageUrl: '',\n        loanCount: 0\n      }\n    ];\n    \n    console.log(`ğŸ¯ ê²€ìƒ‰ì–´ \"${searchTerm}\" ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„±:`, dummyBooks);\n    return dummyBooks;\n  }\n\n\n\n  /**\n   * ë„ì„œ ì†Œì¥ í˜„í™© ì¡°íšŒ - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í™œìš©\n   * ì‹¤ì œ API: http://data4library.kr/api/libSrchByBook\n   */\n  async getBookAvailability(isbn: string, region: string = '41'): Promise<LibraryAvailability[]> {\n    try {\n      const apiUrl = 'http://data4library.kr/api/libSrchByBook';\n      \n      // ì§€ì—­ì½”ë“œ ë§¤í•‘ (ê²½ê¸°ë„: 41, ì„œìš¸: 11, ë¶€ì‚°: 26, ëŒ€êµ¬: 27, ì¸ì²œ: 28, ê´‘ì£¼: 29, ëŒ€ì „: 30, ìš¸ì‚°: 31, ì„¸ì¢…: 36, ê°•ì›: 42, ì¶©ë¶: 43, ì¶©ë‚¨: 44, ì „ë¶: 45, ì „ë‚¨: 46, ê²½ë¶: 47, ê²½ë‚¨: 48, ì œì£¼: 50)\n      const regionCodes: Record<string, string> = {\n        'ì„œìš¸': '11',\n        'ë¶€ì‚°': '26',\n        'ëŒ€êµ¬': '27',\n        'ì¸ì²œ': '28',\n        'ê´‘ì£¼': '29',\n        'ëŒ€ì „': '30',\n        'ìš¸ì‚°': '31',\n        'ì„¸ì¢…': '36',\n        'ê²½ê¸°': '41',\n        'ê²½ê¸°ë„': '41',\n        'ê°•ì›': '42',\n        'ì¶©ë¶': '43',\n        'ì¶©ë‚¨': '44',\n        'ì „ë¶': '45',\n        'ì „ë‚¨': '46',\n        'ê²½ë¶': '47',\n        'ê²½ë‚¨': '48',\n        'ì œì£¼': '50'\n      };\n      \n      // ì§€ì—­ëª…ì„ ì½”ë“œë¡œ ë³€í™˜\n      const regionCode = regionCodes[region] || region || '41'; // ê¸°ë³¸ê°’: ê²½ê¸°ë„\n      \n      const params = new URLSearchParams({\n        authKey: process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY,\n        isbn: isbn,\n        region: regionCode,\n        format: 'json'\n      });\n\n      console.log('ğŸ“š ë„ì„œ ì†Œì¥ í˜„í™© API í˜¸ì¶œ:', `${apiUrl}?${params}`);\n      console.log('ğŸ—ºï¸ ì§€ì—­:', region, 'â†’ ì§€ì—­ì½”ë“œ:', regionCode);\n      \n      const response = await fetch(`${apiUrl}?${params}`);\n      \n      if (!response.ok) {\n        throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      console.log('ğŸ“Š ì†Œì¥ í˜„í™© API ì „ì²´ ì‘ë‹µ:', JSON.stringify(data, null, 2));\n      \n      // ì—ëŸ¬ ì‘ë‹µ ì²´í¬\n      if (data.response && data.response.error) {\n        console.error('âŒ API ì—ëŸ¬:', data.response.error);\n        \n        // ì§€ì—­ì½”ë“œ ì—ëŸ¬ì¸ ê²½ìš° ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ì¬ì‹œë„\n        if (data.response.error.includes('ì§€ì—­ì½”ë“œ')) {\n          console.log('âš ï¸ ì§€ì—­ì½”ë“œ ì—ëŸ¬, ì „êµ­ ê²€ìƒ‰ìœ¼ë¡œ ì¬ì‹œë„');\n          \n          // ì „êµ­ ê²€ìƒ‰ (ì§€ì—­ì½”ë“œ ì—†ì´)\n          const nationalParams = new URLSearchParams({\n            authKey: process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY,\n            isbn: isbn,\n            format: 'json'\n          });\n          \n          const nationalResponse = await fetch(`${apiUrl}?${nationalParams}`);\n          if (nationalResponse.ok) {\n            const nationalData = await nationalResponse.json();\n            console.log('ğŸŒ ì „êµ­ ê²€ìƒ‰ ê²°ê³¼:', JSON.stringify(nationalData, null, 2));\n            \n            if (nationalData.response && nationalData.response.libs) {\n              data.response = nationalData.response;\n            }\n          }\n        }\n      }\n      \n      if (data.response && data.response.libs && data.response.libs.length > 0) {\n        const availability: LibraryAvailability[] = data.response.libs.map((lib: any) => ({\n          libraryId: lib.lib?.libCode || lib.libCode || '',\n          libraryName: lib.lib?.libName || lib.libName || 'ë„ì„œê´€ëª… ì—†ìŒ',\n          available: lib.book?.loanAvailable === 'Y' || lib.loanAvailable === 'Y',\n          loanable: lib.book?.loanAvailable === 'Y' || lib.loanAvailable === 'Y',\n          reservable: lib.book?.reserveAvailable === 'Y' || lib.reserveAvailable === 'Y',\n          dueDate: lib.book?.returnPlanDate || lib.returnPlanDate || undefined\n        }));\n        \n        console.log('âœ… ì†Œì¥ í˜„í™© ì¡°íšŒ ì„±ê³µ:', availability);\n        return availability;\n      }\n      \n      console.log('âš ï¸ ì†Œì¥ ì •ë³´ ì—†ìŒ ë˜ëŠ” êµ¬ì¡° ë‹¤ë¦„');\n      return [];\n      \n    } catch (error) {\n      console.error('ğŸ’¥ ë„ì„œ ì†Œì¥ í˜„í™© ì¡°íšŒ ì‹¤íŒ¨:', error);\n      \n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë¹ˆ ë°°ì—´ ë°˜í™˜ (ë”ë¯¸ ë°ì´í„°ëŠ” ì œê±°)\n      return [];\n    }\n  }\n\n  /**\n   * ë„ì„œ ì˜ˆì•½\n   * ì‹¤ì œ API: ê° ë„ì„œê´€ë³„ ëŒ€ì¶œ/ì˜ˆì•½ ì‹œìŠ¤í…œ API\n   */\n  async reserveBook(bookId: string, libraryId: string, userId: string): Promise<boolean> {\n    try {\n      // ì‹¤ì œ êµ¬í˜„ ì‹œ:\n      // const response = await fetch(`${this.config.baseURL}/books/reserve`, {\n      //   method: 'POST',\n      //   headers: { 'Content-Type': 'application/json' },\n      //   body: JSON.stringify({ bookId, libraryId, userId, apiKey: this.config.apiKey })\n      // });\n      // return response.ok;\n      \n      // í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\n      console.log(`ë„ì„œ ì˜ˆì•½ ìš”ì²­: ë„ì„œ ${bookId}, ë„ì„œê´€ ${libraryId}, ì‚¬ìš©ì ${userId}`);\n      return true;\n    } catch (error) {\n      console.error('ë„ì„œ ì˜ˆì•½ ì‹¤íŒ¨:', error);\n      return false;\n    }\n  }\n\n  /**\n   * ë…ì„œ ëª¨ì„ ì¡°íšŒ\n   * ì‹¤ì œ API: ê° ë„ì„œê´€ë³„ í”„ë¡œê·¸ë¨ API ë˜ëŠ” ì»¤ë®¤ë‹ˆí‹° API\n   */\n  async getReadingGroups(libraryId?: string): Promise<any[]> {\n    try {\n      // ì‹¤ì œ êµ¬í˜„ ì‹œ:\n      // const response = await fetch(`${this.config.baseURL}/reading-groups?libraryId=${libraryId}&apiKey=${this.config.apiKey}`);\n      // const data = await response.json();\n      // return data.result;\n      \n      // í˜„ì¬ëŠ” ë”ë¯¸ ë°ì´í„° ë°˜í™˜\n      if (libraryId) {\n        return dummyReadingGroups.filter(group => group.libraryId === libraryId);\n      }\n      return dummyReadingGroups;\n    } catch (error) {\n      console.error('ë…ì„œ ëª¨ì„ ì¡°íšŒ ì‹¤íŒ¨:', error);\n      return [];\n    }\n  }\n\n  /**\n   * ë…ì„œ ëª¨ì„ ê°€ì…\n   */\n  async joinReadingGroup(groupId: string, userId: string): Promise<boolean> {\n    try {\n      // ì‹¤ì œ êµ¬í˜„ ì‹œ:\n      // const response = await fetch(`${this.config.baseURL}/reading-groups/${groupId}/join`, {\n      //   method: 'POST',\n      //   headers: { 'Content-Type': 'application/json' },\n      //   body: JSON.stringify({ userId, apiKey: this.config.apiKey })\n      // });\n      // return response.ok;\n      \n      // í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\n      console.log(`ë…ì„œ ëª¨ì„ ê°€ì… ìš”ì²­: ëª¨ì„ ${groupId}, ì‚¬ìš©ì ${userId}`);\n      return true;\n    } catch (error) {\n      console.error('ë…ì„œ ëª¨ì„ ê°€ì… ì‹¤íŒ¨:', error);\n      return false;\n    }\n  }\n\n  /**\n   * ë…ì„œ ëª¨ì„ ìƒì„±\n   */\n  async createReadingGroup(groupData: any): Promise<boolean> {\n    try {\n      // ì‹¤ì œ êµ¬í˜„ ì‹œ:\n      // const response = await fetch(`${this.config.baseURL}/reading-groups`, {\n      //   method: 'POST',\n      //   headers: { 'Content-Type': 'application/json' },\n      //   body: JSON.stringify({ ...groupData, apiKey: this.config.apiKey })\n      // });\n      // return response.ok;\n      \n      // í˜„ì¬ëŠ” ë”ë¯¸ ì‘ë‹µ ë°˜í™˜\n      console.log('ë…ì„œ ëª¨ì„ ìƒì„± ìš”ì²­:', groupData);\n      return true;\n    } catch (error) {\n      console.error('ë…ì„œ ëª¨ì„ ìƒì„± ì‹¤íŒ¨:', error);\n      return false;\n    }\n  }\n}\n\n// ê¸°ë³¸ API ì„¤ì • (í™˜ê²½ë³€ìˆ˜ì—ì„œ ë¡œë“œ)\nexport const defaultLibraryAPI = new LibraryAPIService({\n  baseURL: process.env.REACT_APP_GYEONGGI_API_URL || 'https://openapi.gg.go.kr',\n      apiKey: process.env.REACT_APP_GYEONGGI_API_KEY || '8b62aa70e514468596e9324d064d582d'\n});\n\n// API í‚¤ ì„¤ì • ê°€ì´ë“œ\nexport const API_SETUP_GUIDE = {\n  title: 'ê²½ê¸°ë„ ê³µê³µë°ì´í„° API ì—°ë™ ê°€ì´ë“œ',\n  steps: [\n    {\n      step: 1,\n      title: 'ê²½ê¸°ë°ì´í„°ë“œë¦¼ íšŒì›ê°€ì…',\n      description: 'https://data.gg.go.kr ì—ì„œ íšŒì›ê°€ì…',\n      url: 'https://data.gg.go.kr'\n    },\n    {\n      step: 2,\n      title: 'API í‚¤ ë°œê¸‰',\n      description: 'ë„ì„œê´€ ì •ë³´ API ì„œë¹„ìŠ¤ ì‹ ì²­ ë° í‚¤ ë°œê¸‰',\n      note: 'ìŠ¹ì¸ê¹Œì§€ 1-2ì¼ ì†Œìš”'\n    },\n    {\n      step: 3,\n      title: 'í™˜ê²½ë³€ìˆ˜ ì„¤ì •',\n      description: '.env íŒŒì¼ì— API í‚¤ ì¶”ê°€',\n      code: `REACT_APP_GYEONGGI_API_URL=https://openapi.gg.go.kr\nREACT_APP_GYEONGGI_API_KEY=your_api_key_here\nREACT_APP_LIBRARY_API_KEY=your_library_api_key_here`\n    },\n    {\n      step: 4,\n      title: 'ë„ì„œê´€ì •ë³´ë‚˜ë£¨ ì—°ë™',\n      description: 'data4library.krì—ì„œ ì¶”ê°€ ë„ì„œ ì •ë³´ API í™œìš©',\n      url: 'https://www.data4library.kr'\n    }\n  ],\n  additionalAPIs: [\n    {\n      name: 'ê²½ê¸°ë°ì´í„°ë“œë¦¼',\n      url: 'https://data.gg.go.kr',\n      description: 'ê²½ê¸°ë„ ê³µê³µë°ì´í„° í¬í„¸',\n      apis: [\n        'ë„ì„œê´€ ì‹œì„¤ ì •ë³´',\n        'ë¬¸í™”ì‹œì„¤ í˜„í™©',\n        'ê³µê³µì‹œì„¤ ìœ„ì¹˜ ì •ë³´'\n      ]\n    },\n    {\n      name: 'ë„ì„œê´€ì •ë³´ë‚˜ë£¨',\n      url: 'https://www.data4library.kr',\n      description: 'êµ­ê°€ë„ì„œê´€í†µê³„ì‹œìŠ¤í…œ',\n      apis: [\n        'ì „êµ­ ë„ì„œê´€ ì •ë³´',\n        'ë„ì„œ ê²€ìƒ‰',\n        'ëŒ€ì¶œ í†µê³„'\n      ]\n    },\n    {\n      name: 'ê° ì‹œêµ° Open API',\n      description: 'ìˆ˜ì›ì‹œ, ì„±ë‚¨ì‹œ ë“± ê° ì§€ì—­ë³„ API',\n      apis: [\n        'ì§€ì—­ë³„ ë„ì„œê´€ API',\n        'ë¬¸í™” í”„ë¡œê·¸ë¨ ì •ë³´',\n        'ì‹œì„¤ ì˜ˆì•½ ì‹œìŠ¤í…œ'\n      ]\n    }\n  ]\n};\n\n// ë„ì„œê´€ ì •ë³´ë‚˜ë£¨ API ì„œë¹„ìŠ¤\nconst BASE_URL = 'http://data4library.kr/api';\n\n// API ì¸ì¦í‚¤ (ì‹¤ì œ ì¸ì¦í‚¤ë¡œ ì„¤ì •)\n// ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í‚¤ ì„¤ì •ë¨\nconst AUTH_KEY = process.env.REACT_APP_LIBRARY_API_KEY || '651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8';\n\n// API ìŠ¹ì¸ ìƒíƒœ í™•ì¸ í•¨ìˆ˜\nexport const checkApiApprovalStatus = async (apiKey: string): Promise<boolean> => {\n  try {\n    const response = await fetch(`https://www.data4library.kr/api/loanItemSrch?authKey=${apiKey}&startDt=2024-01-01&endDt=2024-01-31&pageNo=1&pageSize=1&format=json`);\n    const data = await response.json();\n    \n    // API í‚¤ê°€ ìŠ¹ì¸ë˜ì§€ ì•Šì€ ê²½ìš° ì—ëŸ¬ ì‘ë‹µì„ ë°›ìŒ\n    if (data.error || data.message?.includes('ì¸ì¦í‚¤') || data.message?.includes('ìŠ¹ì¸')) {\n      return false;\n    }\n    \n    return true;\n  } catch (error) {\n    console.error('API ìŠ¹ì¸ ìƒíƒœ í™•ì¸ ì¤‘ ì˜¤ë¥˜:', error);\n    return false;\n  }\n};\n\n// ì§€ì—­ ì½”ë“œ ë§¤í•‘ ë° ì—°ë ¹ëŒ€ ë§¤í•‘ (í•„ìš” ì‹œ ì‚¬ìš©)\n\n// XML ì‘ë‹µì„ íŒŒì‹±í•˜ëŠ” í•¨ìˆ˜\nconst parseXMLResponse = (xmlString: string): any => {\n  try {\n    // DOMParserë¥¼ ì‚¬ìš©í•˜ì—¬ XML íŒŒì‹±\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xmlString, 'text/xml');\n    \n    // íŒŒì‹± ì˜¤ë¥˜ ì²´í¬\n    const parseError = xmlDoc.getElementsByTagName('parsererror')[0];\n    if (parseError) {\n      console.error('XML íŒŒì‹± ì˜¤ë¥˜:', parseError.textContent);\n      return { response: { docs: [] } };\n    }\n    \n    // ì¸ê¸°ëŒ€ì¶œë„ì„œ ë°ì´í„° ì¶”ì¶œ\n    const docs = xmlDoc.getElementsByTagName('doc');\n    const books: any[] = [];\n    \n    for (let i = 0; i < docs.length; i++) {\n      const doc = docs[i];\n      const book: any = {};\n      \n      // ê° í•„ë“œ ì¶”ì¶œ\n      const getTextContent = (tagName: string): string => {\n        const element = doc.getElementsByTagName(tagName)[0];\n        return element?.textContent || '';\n      };\n      \n      book.bookname = getTextContent('bookname');\n      book.authors = getTextContent('authors');\n      book.publisher = getTextContent('publisher');\n      book.publication_year = getTextContent('publication_year');\n      book.isbn13 = getTextContent('isbn13');\n      book.loan_count = parseInt(getTextContent('loan_count') || '0') || 0;\n      book.ranking = parseInt(getTextContent('ranking') || '0') || 0;\n      \n      if (book.bookname && book.bookname.trim() !== '') {\n        books.push(book);\n      }\n    }\n    \n    console.log(`ğŸ“š XMLì—ì„œ ì¶”ì¶œëœ ë„ì„œ ${books.length}ê¶Œ:`, books);\n    \n    return {\n      response: {\n        docs: books,\n        numFound: books.length,\n        start: 0\n      }\n    };\n  } catch (error) {\n    console.error('XML íŒŒì‹± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);\n    return { response: { docs: [] } };\n  }\n};\n\nexport interface PopularBookData {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  loanCount: number;\n  category: string;\n  publishYear: string;\n}\n\nexport interface ApiResponse {\n  response: {\n    docs: PopularBookData[];\n    numFound: number;\n    start: number;\n  };\n}\n\n/**\n * ì¸ê¸° ëŒ€ì¶œ ë„ì„œ ì¡°íšŒ API\n */\nexport const fetchPopularBooks = async (\n  startDate?: string,\n  endDate?: string\n): Promise<PopularBookData[]> => {\n  // ê¸°ë³¸ê°’: ì‹¤ì œ ë°ì´í„°ê°€ ìˆëŠ” ìµœê·¼ ê¸°ê°„ (2025ë…„ ë°ì´í„° ì‚¬ìš©)\n  const defaultEndDate = '2025-07-13';  // 2025ë…„ 7ì›” 13ì¼\n  const defaultStartDate = '2025-01-01'; // 2025ë…„ ì‹œì‘\n  \n  const actualStartDate = startDate || defaultStartDate;\n  const actualEndDate = endDate || defaultEndDate;\n  try {\n    const params = new URLSearchParams({\n      authKey: process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY,\n      startDt: actualStartDate,\n      endDt: actualEndDate,\n      pageNo: '1',\n      pageSize: '20'\n    });\n\n    const url = `http://data4library.kr/api/loanItemSrch?${params}`;\n    \n    console.log(`ğŸ”¥ ì¸ê¸°ëŒ€ì¶œë„ì„œ API í˜¸ì¶œ (${actualStartDate} ~ ${actualEndDate}):`, url);\n    \n    const response = await fetch(url);\n    \n    if (!response.ok) {\n      throw new Error(`API í˜¸ì¶œ ì‹¤íŒ¨: ${response.status}`);\n    }\n    \n    const responseText = await response.text();\n    console.log('ğŸ“Š ì¸ê¸°ë„ì„œ API ì›ë³¸ ì‘ë‹µ:', responseText.substring(0, 500) + '...');\n    \n    let data;\n    try {\n      // JSON íŒŒì‹± ì‹œë„\n      data = JSON.parse(responseText);\n    } catch (jsonError) {\n      // XML ì‘ë‹µì¸ ê²½ìš° íŒŒì‹±\n      console.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µ ì²˜ë¦¬ ì¤‘...');\n      data = parseXMLResponse(responseText);\n    }\n    \n    console.log('ğŸ“Š ì¸ê¸°ë„ì„œ API íŒŒì‹±ëœ ë°ì´í„°:', JSON.stringify(data, null, 2));\n    \n    // API ì—ëŸ¬ ì²´í¬\n    if (data.response && data.response.error) {\n      console.warn('API ì—ëŸ¬:', data.response.error);\n      if (data.response.error.includes('í™œì„±í™”')) {\n        console.log('ğŸ’¡ API í‚¤ê°€ ì•„ì§ í™œì„±í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');\n      }\n      throw new Error(data.response.error);\n    }\n    \n    console.log('ğŸ” API ì‘ë‹µ êµ¬ì¡° ë¶„ì„:');\n    console.log('- data.response:', data.response);\n    console.log('- data.response.docs:', data.response?.docs);\n    console.log('- docs ê¸¸ì´:', data.response?.docs?.length);\n    \n    // API ì‘ë‹µ ë°ì´í„° êµ¬ì¡°ì— ë§ê²Œ ë³€í™˜\n    let rawBooks = [];\n    if (data.response && data.response.docs) {\n      rawBooks = data.response.docs;\n    } else if (data.response && data.response.result) {\n      rawBooks = data.response.result.docs || [];\n    } else if (Array.isArray(data.response)) {\n      rawBooks = data.response;\n    }\n    \n    console.log('ğŸ“š ì›ë³¸ ë„ì„œ ë°ì´í„°:', rawBooks);\n    \n    const books: PopularBookData[] = rawBooks\n      ?.filter((book: any) => {\n        console.log('ğŸ“– ê°œë³„ ë„ì„œ ë°ì´í„°:', book);\n        return book.bookname && book.bookname.trim() !== '';\n      })\n      .map((book: any, index: number) => ({\n        id: book.isbn || `book_${index}`,\n        title: book.bookname.trim(), // ì œëª© ê³µë°± ì œê±°\n        author: book.authors || 'ì‘ê°€ ë¯¸ìƒ',\n        publisher: book.publisher || 'ì¶œíŒì‚¬ ë¯¸ìƒ',\n        isbn: book.isbn || '',\n        loanCount: parseInt(book.loan_count) || (index + 1) * 1000, // ëŒ€ì¶œìˆ˜ê°€ ì—†ìœ¼ë©´ ìˆœìœ„ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •\n        category: book.class_nm || 'ì¼ë°˜',\n        publishYear: book.publication_year || '2023'\n      })) || [];\n    \n    console.log(`ğŸ† ì¸ê¸°ë„ì„œ ${books.length}ê¶Œ ì¡°íšŒ ì™„ë£Œ:`, books);\n    return books;\n    \n  } catch (error) {\n    console.error('âŒ ì¸ê¸°ë„ì„œ API í˜¸ì¶œ ì˜¤ë¥˜:', error);\n    \n    // API í˜¸ì¶œ ì‹¤íŒ¨ì‹œ ë”ë¯¸ ë°ì´í„° ë°˜í™˜\n    return getFallbackPopularBooks();\n  }\n};\n\n/**\n * API í˜¸ì¶œ ì‹¤íŒ¨ì‹œ ì‚¬ìš©í•  ë”ë¯¸ ë°ì´í„°\n */\n// ì„±ì¸ ëŒ€ìƒ ì¸ê¸° ë„ì„œ Top 5 (ì•„ë™ ë„ì„œ ì œì™¸, ìµœì‹ ìˆœ)\nconst getFallbackPopularBooks = (): PopularBookData[] => {\n  console.log('ğŸ“š Fallback ì¸ê¸°ë„ì„œ ë°ì´í„° ì‚¬ìš© (ë‹¤ì–‘í•œ ì¥ë¥´ í¬í•¨)');\n  \n  return [\n    {\n      id: '1',\n      title: 'ì–´ë¦°ì™•ì',\n      author: 'ìƒí…ì¥í˜ë¦¬',\n      publisher: 'ì—´ë¦°ì±…ë“¤',\n      isbn: '9788932917245',\n      loanCount: 6890,\n      category: 'ë¬¸í•™',\n      publishYear: '2015'\n    },\n    {\n      id: '2',\n      title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n      author: 'J.K. ë¡¤ë§',\n      publisher: 'ë¬¸í•™ìˆ˜ì²©',\n      isbn: '9788983920003',\n      loanCount: 6234,\n      category: 'íŒíƒ€ì§€',\n      publishYear: '2014'\n    },\n    {\n      id: '3',\n      title: '2030 ìì‚°ê´€ë¦¬ ê³ ë¯¼ë°±ì„œ',\n      author: 'ì˜¤ê±´ì˜',\n      publisher: 'ë¹„ì¦ˆë‹ˆìŠ¤ë¶ìŠ¤',\n      isbn: '9791162542439',\n      loanCount: 5420,\n      category: 'ê²½ì œ',\n      publishYear: '2023'\n    },\n    {\n      id: '4',\n      title: 'íŠ¸ë Œë“œ ì½”ë¦¬ì•„ 2024',\n      author: 'ê¹€ë‚œë„',\n      publisher: 'ë¯¸ë˜ì˜ì°½',\n      isbn: '9788959897264',\n      loanCount: 4890,\n      category: 'ì‚¬íšŒ',\n      publishYear: '2023'\n    },\n    {\n      id: '5',\n      title: 'ì„¸ì´ë…¸ì˜ ê°€ë¥´ì¹¨',\n      author: 'ì„¸ì´ë…¸',\n      publisher: 'ë°ì´ì›',\n      isbn: '9791191043297',\n      loanCount: 4321,\n      category: 'ìê¸°ê³„ë°œ',\n      publishYear: '2023'\n    },\n    {\n      id: '6',\n      title: 'ë¶ˆí¸í•œ í¸ì˜ì ',\n      author: 'ê¹€í˜¸ì—°',\n      publisher: 'ë‚˜ë¬´ì˜†ì˜ì',\n      isbn: '9791167370778',\n      loanCount: 4156,\n      category: 'ì†Œì„¤',\n      publishYear: '2021'\n    },\n    {\n      id: '7',\n      title: 'ë‹¬ëŸ¬êµ¬íŠ¸ ê¿ˆ ë°±í™”ì ',\n      author: 'ì´ë¯¸ì˜ˆ',\n      publisher: 'íŒ©í† ë¦¬ë‚˜ì¸',\n      isbn: '9791165340564',\n      loanCount: 3987,\n      category: 'ì†Œì„¤',\n      publishYear: '2020'\n    },\n    {\n      id: '8',\n      title: '82ë…„ìƒ ê¹€ì§€ì˜',\n      author: 'ì¡°ë‚¨ì£¼',\n      publisher: 'ë¯¼ìŒì‚¬',\n      isbn: '9788937473142',\n      loanCount: 3765,\n      category: 'ì†Œì„¤',\n      publishYear: '2016'\n    },\n    {\n      id: '9',\n      title: 'ë¯¸ë“œë‚˜ì‡ ë¼ì´ë¸ŒëŸ¬ë¦¬',\n      author: 'ë§¤íŠ¸ í—¤ì´ê·¸',\n      publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n      isbn: '9788960516618',\n      loanCount: 3542,\n      category: 'ì†Œì„¤',\n      publishYear: '2021'\n    },\n    {\n      id: '10',\n      title: 'ì†Œë…„ì´ ì˜¨ë‹¤',\n      author: 'í•œê°•',\n      publisher: 'ì°½ë¹„',\n      isbn: '9788936434120',\n      loanCount: 3298,\n      category: 'ì†Œì„¤',\n      publishYear: '2014'\n    }\n  ];\n};\n\n/**\n * ë„ì„œ ê²€ìƒ‰ API í•¨ìˆ˜ (ì™¸ë¶€ì—ì„œ ì§ì ‘ í˜¸ì¶œìš©)\n */\nexport const searchBooksAPI = async (\n  query: string,\n  pageNo: number = 1,\n  pageSize: number = 10\n): Promise<BookSearchResult[]> => {\n  const apiService = new LibraryAPIService({\n    baseURL: BASE_URL,\n    apiKey: AUTH_KEY\n  });\n  \n  return await apiService.searchBooks({\n    query,\n    pageNo,\n    pageSize\n  });\n};\n\n/**\n * API ì—°ê²° ìƒíƒœ í…ŒìŠ¤íŠ¸\n */\nexport const testApiConnection = async (): Promise<{\n  success: boolean;\n  message: string;\n  details?: any;\n}> => {\n  try {\n    console.log('ğŸ”„ API ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œì‘...');\n    \n    // 1. ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API í…ŒìŠ¤íŠ¸\n    const testQuery = 'í•´ë¦¬í¬í„°';\n    const searchUrl = `${BASE_URL}/srchBooks`;\n    const params = new URLSearchParams({\n      authKey: AUTH_KEY,\n      format: 'json',\n      pageNo: '1',\n      pageSize: '5',\n      keyword: testQuery\n    });\n\n    const libraryResponse = await fetch(`${searchUrl}?${params}`);\n    const libraryData = await libraryResponse.json();\n\n    // 2. ê²½ê¸°ë°ì´í„°ë“œë¦¼ API í…ŒìŠ¤íŠ¸ (ì—¬ëŸ¬ ì‹œë„)\n    const gyeonggiApiKey = process.env.REACT_APP_GYEONGGI_API_KEY || '8b62aa70e514468596e9324d064d582d';\n    let gyeonggiResponse: Response;\n    let gyeonggiData: any;\n    \n    // ì²« ë²ˆì§¸ ì‹œë„: ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\n    try {\n      const gyeonggiUrl1 = `https://openapi.gg.go.kr/TBGGIBLLBR`;\n      const gyeonggiParams1 = new URLSearchParams({\n        KEY: gyeonggiApiKey,\n        Type: 'json',\n        pIndex: '1',\n        pSize: '10'\n      });\n      \n      gyeonggiResponse = await fetch(`${gyeonggiUrl1}?${gyeonggiParams1}`);\n      gyeonggiData = await gyeonggiResponse.json();\n      \n      if (!gyeonggiResponse.ok) {\n        throw new Error('First attempt failed');\n      }\n    } catch (error) {\n      // ë‘ ë²ˆì§¸ ì‹œë„: ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ í˜•ì‹\n      try {\n        const gyeonggiUrl2 = `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${gyeonggiApiKey}&Type=json&pIndex=1&pSize=10`;\n        gyeonggiResponse = await fetch(gyeonggiUrl2);\n        gyeonggiData = await gyeonggiResponse.json();\n        \n        if (!gyeonggiResponse.ok) {\n          throw new Error('Second attempt failed');\n        }\n      } catch (error2) {\n        // ì„¸ ë²ˆì§¸ ì‹œë„: ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜ë§Œ ì‚¬ìš©\n        try {\n          const gyeonggiUrl3 = `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${gyeonggiApiKey}`;\n          gyeonggiResponse = await fetch(gyeonggiUrl3);\n          gyeonggiData = await gyeonggiResponse.json();\n          \n          if (!gyeonggiResponse.ok) {\n            throw new Error('Third attempt failed');\n          }\n        } catch (error3) {\n          // ëª¨ë“  ì‹œë„ ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’\n          gyeonggiResponse = { ok: false } as Response;\n          gyeonggiData = { error: 'All attempts failed' };\n        }\n      }\n    }\n\n    const libraryApiSuccess = libraryResponse.ok && libraryData.response && libraryData.response.docs;\n    const gyeonggiApiSuccess = gyeonggiResponse.ok && gyeonggiData.TBGGIBLLBR && gyeonggiData.TBGGIBLLBR[1];\n\n    if (libraryApiSuccess && gyeonggiApiSuccess) {\n      console.log('âœ… ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì„±ê³µ');\n      console.log('âœ… ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì„±ê³µ');\n      return {\n        success: true,\n        message: 'ëª¨ë“  API ì—°ê²° ì„±ê³µ! ì‹¤ì œ ë„ì„œê´€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.',\n        details: {\n          libraryBooks: libraryData.response.numFound,\n          gyeonggiLibraries: gyeonggiData.TBGGIBLLBR[1].row?.length || 0,\n          sampleBooks: libraryData.response.docs.slice(0, 3)\n        }\n      };\n    } else if (libraryApiSuccess) {\n      console.log('âœ… ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì„±ê³µ');\n      console.log('âŒ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì‹¤íŒ¨');\n      return {\n        success: true,\n        message: 'ë„ì„œê´€ì •ë³´ë‚˜ë£¨ APIë§Œ ì—°ê²°ë¨. ë„ì„œ ê²€ìƒ‰ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì¼ë¶€ ê¸°ëŠ¥ì´ ì œí•œë©ë‹ˆë‹¤.',\n        details: {\n          libraryBooks: libraryData.response.numFound,\n          gyeonggiLibraries: 0,\n          sampleBooks: libraryData.response.docs.slice(0, 3)\n        }\n      };\n    } else {\n      console.log('âŒ ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì—°ê²° ì‹¤íŒ¨');\n      console.log('âŒ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì‹¤íŒ¨');\n      \n      // ê° APIì˜ ì‹¤íŒ¨ ì›ì¸ì„ ìì„¸íˆ ë¶„ì„\n      const failureAnalysis = {\n        libraryApi: {\n          status: libraryResponse.status,\n          statusText: libraryResponse.statusText,\n          data: libraryData\n        },\n        gyeonggiApi: {\n          status: gyeonggiResponse.ok ? 'ok' : 'failed',\n          data: gyeonggiData,\n          error: gyeonggiData?.error || 'Unknown error'\n        }\n      };\n      \n      return {\n        success: false,\n        message: 'API ì—°ê²° ì‹¤íŒ¨. ë¸Œë¼ìš°ì €ì—ì„œ CORS ì œí•œì´ë‚˜ API í‚¤ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\n        details: failureAnalysis\n      };\n    }\n  } catch (error) {\n    console.error('API ì—°ê²° í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);\n    return {\n      success: false,\n      message: 'API ì—°ê²° ì˜¤ë¥˜. ë„¤íŠ¸ì›Œí¬ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.',\n      details: error\n    };\n  }\n};\n\n/**\n * ê²½ê¸°ë°ì´í„°ë“œë¦¼ API CORS ìš°íšŒ í…ŒìŠ¤íŠ¸\n */\nexport const testGyeonggiApiWithProxy = async (apiKey: string = '8b62aa70e514468596e9324d064d582d'): Promise<{\n  success: boolean;\n  message: string;\n  details?: any;\n}> => {\n  try {\n    // ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\n    const methods = [\n      // 1. ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ ì§ì ‘ í˜¸ì¶œ\n      {\n        name: 'Correct Endpoint',\n        url: `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}&Type=json&pIndex=1&pSize=5`\n      },\n      // 2. ì¶”ê°€ ë§¤ê°œë³€ìˆ˜ í¬í•¨\n      {\n        name: 'With Additional Params',\n        url: `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}&Type=json&pIndex=1&pSize=10`\n      },\n      // 3. ë§¤ê°œë³€ìˆ˜ ìˆœì„œ ë³€ê²½\n      {\n        name: 'Parameter Order Change',\n        url: `https://openapi.gg.go.kr/TBGGIBLLBR?Type=json&KEY=${apiKey}&pIndex=1&pSize=5`\n      },\n      // 4. íŒŒë¼ë¯¸í„° ì—†ì´ ê¸°ë³¸ í˜¸ì¶œ\n      {\n        name: 'Basic Call',\n        url: `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}`\n      }\n    ];\n\n    for (const method of methods) {\n      try {\n        console.log(`ğŸ”„ ${method.name} ì‹œë„:`, method.url);\n        \n        const response = await fetch(method.url, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors'\n        });\n\n        console.log(`ğŸ“Š ${method.name} ì‘ë‹µ:`, response.status, response.statusText);\n        \n        if (response.ok) {\n          const data = await response.json();\n          console.log(`âœ… ${method.name} ì„±ê³µ:`, data);\n          \n          return {\n            success: true,\n            message: `ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ì„±ê³µ (${method.name})`,\n            details: {\n              method: method.name,\n              url: method.url,\n              data: data\n            }\n          };\n        } else {\n          const errorText = await response.text();\n          console.log(`âŒ ${method.name} ì‹¤íŒ¨:`, errorText);\n        }\n      } catch (error) {\n        console.log(`âŒ ${method.name} ì˜¤ë¥˜:`, error);\n      }\n    }\n\n    return {\n      success: false,\n      message: 'ëª¨ë“  ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—°ê²° ë°©ë²• ì‹¤íŒ¨. CORS ë¬¸ì œì´ê±°ë‚˜ API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\n      details: {\n        attempted_methods: methods.map(m => m.name),\n        suggestion: 'API í‚¤ê°€ í™œì„±í™”ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê±°ë‚˜, ì„œë²„ì‚¬ì´ë“œì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”.'\n      }\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ê²½ê¸°ë°ì´í„°ë“œë¦¼ API í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ',\n      details: error\n    };\n  }\n};\n\n/**\n * API ì—°ê²° ë¬¸ì œ í•´ê²° ê°€ì´ë“œ\n */\nexport const getApiTroubleshootingGuide = (): string[] => {\n  return [\n    'ğŸ”§ API ì—°ê²° ë¬¸ì œ í•´ê²° ë°©ë²•:',\n    '',\n    '1. API í‚¤ í™•ì¸:',\n    '   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨: 651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8',\n    '   - ê²½ê¸°ë°ì´í„°ë“œë¦¼: 8b62aa70e514468596e9324d064d582d',\n    '',\n    '2. API í‚¤ í™œì„±í™” ìƒíƒœ:',\n    '   - ì‹ ì²­ í›„ 1-2ì‹œê°„ ì •ë„ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤',\n    '   - ê° ì‚¬ì´íŠ¸ì—ì„œ ìŠ¹ì¸ ìƒíƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”',\n    '',\n    '3. CORS ë¬¸ì œ (ë¸Œë¼ìš°ì € ë³´ì•ˆ ì •ì±…):',\n    '   - ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í˜¸ì¶œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',\n    '   - ê°œë°œ ì¤‘ì—ëŠ” ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤',\n    '   - ë°°í¬ ì‹œì—ëŠ” ì„œë²„ì‚¬ì´ë“œì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ì„¸ìš”',\n    '',\n    '4. ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ:',\n    '   - ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ë³´ì„¸ìš”',\n    '   - ë°©í™”ë²½ì´ë‚˜ í”„ë¡ì‹œ ì„¤ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”',\n    '',\n    '5. í˜„ì¬ ìƒíƒœ:',\n    '   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API: ì •ìƒ ì‘ë™ ì¤‘',\n    '   - ê²½ê¸°ë°ì´í„°ë“œë¦¼ API: ì—°ê²° ë¬¸ì œ (CORS ë˜ëŠ” API í‚¤)',\n    '',\n    'ğŸ“ ë¬¸ì˜ì²˜:',\n    '   - ë„ì„œê´€ì •ë³´ë‚˜ë£¨: http://data4library.kr',\n    '   - ê²½ê¸°ë°ì´í„°ë“œë¦¼: https://data.gg.go.kr'\n  ];\n};\n\n/**\n * í˜„ì¬ API ì„¤ì • ì •ë³´ í™•ì¸\n */\nexport const getApiStatus = (): {\n  configured: boolean;\n  apiKey: string;\n  message: string;\n} => {\n  const hasApiKey = Boolean(AUTH_KEY && AUTH_KEY !== 'your_actual_api_key_here' && AUTH_KEY.length > 10);\n  const isFromEnv = process.env.REACT_APP_LIBRARY_API_KEY !== undefined;\n  \n  return {\n    configured: hasApiKey,\n    apiKey: AUTH_KEY ? `${AUTH_KEY.substring(0, 10)}...` : 'Not set',\n    message: hasApiKey \n      ? `API í‚¤ ì„¤ì •ë¨ (${isFromEnv ? 'í™˜ê²½ë³€ìˆ˜' : 'ì½”ë“œ'})`\n      : 'API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”'\n  };\n};\n\n/**\n * í™˜ê²½ ì„¤ì • í™•ì¸\n */\nexport const checkApiConfiguration = (): boolean => {\n  if (!AUTH_KEY || AUTH_KEY.length < 10) {\n    console.warn('âš ï¸ API ì¸ì¦í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');\n    return false;\n  }\n  console.log('âœ… API ì¸ì¦í‚¤ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');\n  return true;\n};\n\n/**\n * ì‹¤ì œ API ì‚¬ìš© ì˜ˆì‹œ\n */\nexport const exampleApiUsage = async () => {\n  try {\n    // ë„ì„œ ê²€ìƒ‰ ì˜ˆì‹œ\n    console.log('=== ë„ì„œ ê²€ìƒ‰ API í…ŒìŠ¤íŠ¸ ===');\n    const searchResults = await searchBooksAPI('ì‚¬í”¼ì—”ìŠ¤', 1, 5);\n    console.log('ê²€ìƒ‰ ê²°ê³¼:', searchResults);\n    \n    // ì¸ê¸° ë„ì„œ ì¡°íšŒ ì˜ˆì‹œ\n    console.log('=== ì¸ê¸° ë„ì„œ API í…ŒìŠ¤íŠ¸ ===');\n    const popularBooks = await fetchPopularBooks();\n    console.log('ì¸ê¸°ë„ì„œ ëª©ë¡:', popularBooks);\n    \n    return { searchResults, popularBooks };\n  } catch (error) {\n    console.error('API ì‚¬ìš© ì˜ˆì‹œ ì˜¤ë¥˜:', error);\n    return { searchResults: [], popularBooks: [] };\n  }\n}; \n\n/**\n * ë¸Œë¼ìš°ì €ì—ì„œ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì „ì—­ í•¨ìˆ˜\n */\nif (typeof window !== 'undefined') {\n  (window as any).testLibraryAPI = async () => {\n    console.log('ğŸ” ë„ì„œê´€ API í…ŒìŠ¤íŠ¸ ì‹œì‘...');\n    \n    // 1. API ì„¤ì • ìƒíƒœ í™•ì¸\n    const apiStatus = getApiStatus();\n    console.log('ğŸ“Š API ì„¤ì • ìƒíƒœ:', apiStatus);\n    \n    // 2. API ì—°ê²° í…ŒìŠ¤íŠ¸\n    try {\n      const connectionTest = await testApiConnection();\n      console.log('ğŸ”— API ì—°ê²° í…ŒìŠ¤íŠ¸ ê²°ê³¼:', connectionTest);\n      \n      if (connectionTest.success) {\n        console.log('âœ… ì„±ê³µ! ì‹¤ì œ ë„ì„œê´€ ë°ì´í„° ì‚¬ìš© ê°€ëŠ¥');\n        console.log('ğŸ“š ë„ì„œ ê²€ìƒ‰ ê²°ê³¼:', connectionTest.details?.libraryBooks, 'ê¶Œ');\n        console.log('ğŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:', connectionTest.details?.gyeonggiLibraries, 'ê°œ');\n        console.log('ğŸ“– ìƒ˜í”Œ ë„ì„œ ë°ì´í„°:', connectionTest.details?.sampleBooks);\n      } else {\n        console.log('âŒ ì‹¤íŒ¨:', connectionTest.message);\n      }\n      \n      return connectionTest;\n    } catch (error) {\n      console.error('ğŸš¨ API í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);\n      return { success: false, message: 'API í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜', details: error };\n    }\n  };\n  \n  (window as any).searchLibraryBooks = async (query: string = 'í•´ë¦¬í¬í„°') => {\n    console.log(`ğŸ” ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸: \"${query}\"`);\n    \n    try {\n      const results = await searchBooksAPI(query, 1, 5);\n      console.log('ğŸ“š ê²€ìƒ‰ ê²°ê³¼:', results);\n      \n      if (results && results.length > 0) {\n        console.log(`âœ… ${results.length}ê¶Œì˜ ë„ì„œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!`);\n        results.forEach((book, index) => {\n          console.log(`${index + 1}. ${book.title} - ${book.author} (${book.publisher})`);\n        });\n      } else {\n        console.log('âŒ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');\n      }\n      \n      return results;\n    } catch (error) {\n      console.error('ğŸš¨ ë„ì„œ ê²€ìƒ‰ ì˜¤ë¥˜:', error);\n      return [];\n    }\n  };\n  \n  (window as any).testGyeonggiAPI = async () => {\n    console.log('ğŸ” ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ë‹¨ë… í…ŒìŠ¤íŠ¸...');\n    return await testGyeonggiApiWithProxy();\n  };\n  \n  (window as any).showApiGuide = () => {\n    console.log('ğŸ“– API ë¬¸ì œ í•´ê²° ê°€ì´ë“œ:');\n    const guide = getApiTroubleshootingGuide();\n    guide.forEach(line => console.log(line));\n    return guide;\n  };\n} \n\n/**\n * ì „ì²´ API ì‹œìŠ¤í…œ ì¢…í•© í…ŒìŠ¤íŠ¸\n */\nif (typeof window !== 'undefined') {\n  (window as any).testAllLibraryAPIs = async () => {\n    console.log('ğŸ”¥ === ë„ì„œê´€ API ì¢…í•© í…ŒìŠ¤íŠ¸ ì‹œì‘ === ğŸ”¥');\n    \n    try {\n      // 1. ê¸°ë³¸ API ì—°ê²° í…ŒìŠ¤íŠ¸\n      console.log('\\n1ï¸âƒ£ ê¸°ë³¸ API ì—°ê²° í…ŒìŠ¤íŠ¸...');\n      const connectionTest = await testApiConnection();\n      console.log('ê²°ê³¼:', connectionTest);\n      \n      // 2. ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸\n      console.log('\\n2ï¸âƒ£ ë„ì„œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸...');\n      const searchResults = await searchBooksAPI('í•´ë¦¬í¬í„°', 1, 5);\n      console.log('ê²€ìƒ‰ ê²°ê³¼:', searchResults);\n      \n      // 3. ì¸ê¸° ë„ì„œ ì¡°íšŒ í…ŒìŠ¤íŠ¸\n      console.log('\\n3ï¸âƒ£ ì¸ê¸° ë„ì„œ ì¡°íšŒ í…ŒìŠ¤íŠ¸...');\n              const popularBooks = await fetchPopularBooks();\n      console.log('ì¸ê¸° ë„ì„œ:', popularBooks);\n      \n      // 4. ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ í…ŒìŠ¤íŠ¸\n      console.log('\\n4ï¸âƒ£ ê²½ê¸°ë„ ë„ì„œê´€ ì •ë³´ í…ŒìŠ¤íŠ¸...');\n      const libraryAPI = new LibraryAPIService({\n        baseURL: 'https://openapi.gg.go.kr',\n        apiKey: process.env.REACT_APP_GYEONGGI_API_KEY || '8b62aa70e514468596e9324d064d582d'\n      });\n      \n      const libraries = await libraryAPI.getLibraries();\n      console.log('ê²½ê¸°ë„ ë„ì„œê´€ ëª©ë¡:', libraries.length, 'ê°œ');\n      console.log('ìƒ˜í”Œ ë„ì„œê´€:', libraries.slice(0, 3));\n      \n      // 5. ì¢…í•© ê²°ê³¼\n      console.log('\\nğŸ¯ === ì¢…í•© í…ŒìŠ¤íŠ¸ ê²°ê³¼ === ğŸ¯');\n      console.log('âœ… API ì—°ê²° ìƒíƒœ:', connectionTest.success ? 'ì„±ê³µ' : 'ì‹¤íŒ¨');\n      console.log('ğŸ“š ê²€ìƒ‰ ê°€ëŠ¥ ë„ì„œ ìˆ˜:', searchResults.length, 'ê¶Œ');\n      console.log('ğŸ”¥ ì¸ê¸° ë„ì„œ ìˆ˜:', popularBooks.length, 'ê¶Œ');\n      console.log('ğŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:', libraries.length, 'ê°œ');\n      \n      if (connectionTest.success && searchResults.length > 0) {\n        console.log('ğŸ‰ ëª¨ë“  APIê°€ ì •ìƒ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤!');\n      } else {\n        console.log('âš ï¸ ì¼ë¶€ APIì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë”ë¯¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.');\n      }\n      \n      return {\n        connectionTest,\n        searchResults,\n        popularBooks,\n        libraries: libraries.length\n      };\n      \n    } catch (error) {\n      console.error('ğŸš¨ ì¢…í•© í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);\n      return null;\n    }\n  };\n} \n\n/**\n * ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜\n * ì‚¬ìš©ë²•: testCorrectGyeonggiAPI()\n */\nexport const testCorrectGyeonggiAPI = async (): Promise<void> => {\n  console.log('ğŸ” ì˜¬ë°”ë¥¸ ê²½ê¸°ë°ì´í„°ë“œë¦¼ API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ì‹œì‘...');\n  \n  const apiKey = '8b62aa70e514468596e9324d064d582d';\n  const correctUrl = `https://openapi.gg.go.kr/TBGGIBLLBR?KEY=${apiKey}`;\n  \n  try {\n    console.log('ğŸ“ API í˜¸ì¶œ:', correctUrl);\n    const response = await fetch(correctUrl);\n    \n    console.log('ğŸ“Š ì‘ë‹µ ìƒíƒœ:', response.status, response.statusText);\n    \n    if (response.ok) {\n      const data = await response.json();\n      console.log('âœ… API ì—°ê²° ì„±ê³µ!');\n      console.log('ğŸ“‹ ì‘ë‹µ ë°ì´í„°:', data);\n      \n      if (data.TBGGIBLLBR && data.TBGGIBLLBR[1] && data.TBGGIBLLBR[1].row) {\n        console.log('ğŸ“š ë„ì„œê´€ ê°œìˆ˜:', data.TBGGIBLLBR[1].row.length);\n        console.log('ğŸ“ ì²« ë²ˆì§¸ ë„ì„œê´€:', data.TBGGIBLLBR[1].row[0]);\n      }\n    } else {\n      console.log('âŒ API í˜¸ì¶œ ì‹¤íŒ¨:', response.status, response.statusText);\n    }\n  } catch (error) {\n    console.log('ğŸš¨ ì˜¤ë¥˜ ë°œìƒ:', error);\n  }\n};\n\n// ë„ì„œê´€ì •ë³´ë‚˜ë£¨ API ì§ì ‘ í…ŒìŠ¤íŠ¸\nexport const testLibraryAPI = async (): Promise<void> => {\n  const apiKey = process.env.REACT_APP_LIBRARY_API_KEY || AUTH_KEY;\n  \n  console.log('ğŸ”‘ ì‚¬ìš© ì¤‘ì¸ API í‚¤:', `${apiKey.substring(0, 10)}...`);\n  \n  // 1. ê°„ë‹¨í•œ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸\n  const libTestUrl = `http://data4library.kr/api/libSrch?authKey=${apiKey}&pageNo=1&pageSize=5`;\n  console.log('ğŸ›ï¸ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸:', libTestUrl);\n  \n  try {\n    const response = await fetch(libTestUrl);\n    const data = await response.text(); // ë¨¼ì € textë¡œ ë°›ì•„ë³´ê¸°\n    \n    console.log('ğŸ“„ ë„ì„œê´€ ì¡°íšŒ API ì‘ë‹µ (ì›ë³¸):', data);\n    \n    // XML ì‘ë‹µì„ JSONìœ¼ë¡œ íŒŒì‹± ì‹œë„\n    try {\n      const jsonData = JSON.parse(data);\n      console.log('âœ… JSON íŒŒì‹± ì„±ê³µ:', jsonData);\n    } catch (parseError) {\n      console.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤');\n    }\n  } catch (error) {\n    console.error('âŒ ë„ì„œê´€ ì¡°íšŒ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);\n  }\n  \n  // 2. ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸\n  const popularTestUrl = `http://data4library.kr/api/loanItemSrch?authKey=${apiKey}&startDt=2023-01-01&endDt=2023-12-31&pageNo=1&pageSize=5`;\n  console.log('ğŸ† ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸:', popularTestUrl);\n  \n  try {\n    const response = await fetch(popularTestUrl);\n    const data = await response.text(); // ë¨¼ì € textë¡œ ë°›ì•„ë³´ê¸°\n    \n    console.log('ğŸ“„ ì¸ê¸°ëŒ€ì¶œë„ì„œ API ì‘ë‹µ (ì›ë³¸):', data.substring(0, 500) + '...');\n    \n    // XML ì‘ë‹µì„ JSONìœ¼ë¡œ íŒŒì‹± ì‹œë„\n    try {\n      const jsonData = JSON.parse(data);\n      console.log('âœ… JSON íŒŒì‹± ì„±ê³µ:', jsonData);\n    } catch (parseError) {\n      console.log('âš ï¸ JSON íŒŒì‹± ì‹¤íŒ¨, XML ì‘ë‹µ ì²˜ë¦¬ ì¤‘...');\n      const xmlData = parseXMLResponse(data);\n      console.log('âœ… XML íŒŒì‹± ì„±ê³µ:', xmlData);\n      console.log('ğŸ“Š ì¶”ì¶œëœ ë„ì„œ ìˆ˜:', xmlData.response.docs.length);\n    }\n  } catch (error) {\n    console.error('âŒ ì¸ê¸°ëŒ€ì¶œë„ì„œ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);\n  }\n};\n\n// ì „ì—­ ê°ì²´ì— í•¨ìˆ˜ ì¶”ê°€ (ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‰½ê²Œ ì ‘ê·¼)\nif (typeof window !== 'undefined') {\n  (window as any).testCorrectGyeonggiAPI = testCorrectGyeonggiAPI;\n  (window as any).testLibraryAPI = testLibraryAPI;\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}