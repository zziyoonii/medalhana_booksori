{"ast":null,"code":"import React,{useState,useEffect}from'react';import styled from'styled-components';import RegionSelector from'./RegionSelector';import{searchBooksAPI,checkApiApprovalStatus}from'../services/LibraryAPI';// Ïä§ÌÉÄÏùºÎìú Ïª¥Ìè¨ÎÑåÌä∏ Ï†ïÏùò\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  width: 100%;\n  padding: 20px;\n`;const SearchForm=styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;const SearchInputContainer=styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;const SearchInput=styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;const AutocompleteDropdown=styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;const AutocompleteItemElement=styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;const SearchButton=styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;const QuickSearchSection=styled.div`\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #e0e0e0;\n`;const QuickSearchTitle=styled.h4`\n  margin: 0 0 10px 0;\n  color: #333;\n  font-size: 16px;\n`;const QuickSearchTags=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;const QuickSearchTag=styled.button`\n  padding: 6px 12px;\n  background: #f0f8ff;\n  border: 1px solid #4CAF50;\n  color: #4CAF50;\n  border-radius: 16px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &:hover {\n    background: #4CAF50;\n    color: white;\n  }\n`;const LoadingDiv=styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;const EmptyState=styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;const SearchResults=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;const BookCard=styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;const BookTitle=styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;const BookInfo=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;const BookDescription=styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;const AvailabilitySection=styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;const AvailabilityTitle=styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;const LibraryList=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;const LibraryItem=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;const LibraryInfo=styled.div`\n  .name {\n    font-weight: 600;\n    color: #333;\n    font-size: 16px;\n    margin-bottom: 4px;\n  }\n  \n  .address {\n    color: #666;\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n  \n  .phone {\n    color: #4CAF50;\n    font-size: 14px;\n    font-weight: 600;\n  }\n  \n  .hours {\n    color: #666;\n    font-size: 12px;\n    margin-top: 4px;\n  }\n\n  .inventory {\n    color: #2196F3;\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: 4px;\n  }\n`;const ButtonGroup=styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: space-between;\n  }\n`;const StatusButton=styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &.available {\n    background: #4CAF50;\n    color: white;\n    \n    &:hover {\n      background: #45a049;\n    }\n  }\n  \n  &.unavailable {\n    background: #ff9800;\n    color: white;\n    \n    &:hover {\n      background: #f57c00;\n    }\n  }\n`;const CallButton=styled.button`\n  padding: 10px 16px;\n  background: #2196F3;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  \n  &:hover {\n    background: #1976D2;\n  }\n`;const ApiStatus=styled.div`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  \n  background: ${props=>props.isError?'#ffebee':'#e8f5e8'};\n  color: ${props=>props.isError?'#c62828':'#2e7d32'};\n  border: 1px solid ${props=>props.isError?'#ffcdd2':'#c8e6c9'};\n`;// Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï†ïÏùò\nconst BookSearchSection=_ref=>{let{externalSearchQuery,onExternalSearchComplete,selectedRegion:parentSelectedRegion,onRegionUpdate}=_ref;const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[loading,setLoading]=useState(false);const[hasSearched,setHasSearched]=useState(false);const[selectedRegion,setSelectedRegion]=useState(parentSelectedRegion||'');const[libraries,setLibraries]=useState([]);const[apiStatus,setApiStatus]=useState('');const[apiError,setApiError]=useState('');// ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ ÏÉÅÌÉú\nconst[recentSearches,setRecentSearches]=useState([]);// ÏûêÎèôÏôÑÏÑ± ÏÉÅÌÉú\nconst[showAutocomplete,setShowAutocomplete]=useState(false);const[autocompleteItems,setAutocompleteItems]=useState([]);// Ï¶êÍ≤®Ï∞æÍ∏∞ ÏÉÅÌÉú\nconst[bookmarks,setBookmarks]=useState([]);// Îπ†Î•∏ Í≤ÄÏÉâ ÌÇ§ÏõåÎìú\nconst quickSearchKeywords=['Î≤†Ïä§Ìä∏ÏÖÄÎü¨','ÏÜåÏÑ§','ÏóêÏÑ∏Ïù¥','Í±¥Í∞ï','ÏöîÎ¶¨','Ï∑®ÎØ∏','Ïó≠ÏÇ¨','ÏûêÍ∏∞Í≥ÑÎ∞ú','ÏãúÏßë','Ïó¨Ìñâ'];// Ïù∏Í∏∞ Í≤ÄÏÉâÏñ¥ Î™©Î°ù\nconst popularSearches=[{text:'Îã¨Í≥º 6ÌéúÏä§',category:'Î¨∏Ìïô'},{text:'ÎØ∏ÏõÄÎ∞õÏùÑ Ïö©Í∏∞',category:'ÏûêÍ∏∞Í≥ÑÎ∞ú'},{text:'ÏàòÌïôÏùò Ï†ïÏÑù',category:'ÍµêÏú°'},{text:'82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ',category:'ÏÜåÏÑ§'},{text:'ÏõêÏîΩ',category:'ÏûêÍ∏∞Í≥ÑÎ∞ú'},{text:'ÏÑ∏Í≥ÑÏÇ¨ Ìé∏ÏßÄ',category:'Ïó≠ÏÇ¨'},{text:'ÏΩîÏä§Î™®Ïä§',category:'Í≥ºÌïô'},{text:'ÏûëÎ≥ÑÌïòÏßÄ ÏïäÎäîÎã§',category:'ÏÜåÏÑ§'},{text:'ÏïÑÌîÑÎãàÍπå Ï≤≠Ï∂òÏù¥Îã§',category:'ÏóêÏÑ∏Ïù¥'},{text:'Î∂àÌé∏Ìïú Ìé∏ÏùòÏ†ê',category:'ÏÜåÏÑ§'},{text:'ÏïÑÎ™¨Îìú',category:'ÏÜåÏÑ§'},{text:'ÎãπÏã†Ïù¥ Ïò≥Îã§',category:'ÏóêÏÑ∏Ïù¥'},{text:'ÏÇ¨ÌîºÏóîÏä§',category:'Ïù∏Î¨∏'},{text:'Îç∞ÎØ∏Ïïà',category:'Î¨∏Ìïô'},{text:'Ïñ¥Î¶∞ÏôïÏûê',category:'Î¨∏Ìïô'}];// ÏûêÎèôÏôÑÏÑ± Í∏∞Îä•\nconst updateAutocomplete=inputValue=>{if(!inputValue.trim()){const items=[...recentSearches.slice(0,5).map(search=>({text:search,category:'ÏµúÍ∑º Í≤ÄÏÉâ',type:'recent'})),...popularSearches.slice(0,5).map(search=>({text:search.text,category:search.category,type:'popular'}))];setAutocompleteItems(items);setShowAutocomplete(true);return;}const searchValue=inputValue.toLowerCase();const matchedItems=[];recentSearches.forEach(search=>{if(search.toLowerCase().includes(searchValue)){matchedItems.push({text:search,category:'ÏµúÍ∑º Í≤ÄÏÉâ',type:'recent'});}});popularSearches.forEach(search=>{if(search.text.toLowerCase().includes(searchValue)){matchedItems.push({text:search.text,category:search.category,type:'popular'});}});setAutocompleteItems(matchedItems.slice(0,10));setShowAutocomplete(matchedItems.length>0);};// ÏûêÎèôÏôÑÏÑ± ÏïÑÏù¥ÌÖú ÏÑ†ÌÉù Ï≤òÎ¶¨\nconst handleAutocompleteSelect=item=>{setSearchTerm(item.text);setShowAutocomplete(false);saveRecentSearch(item.text);performSearch(item.text);};// Í≤ÄÏÉâ ÏûÖÎ†• Ï≤òÎ¶¨\nconst handleSearchInputChange=e=>{const value=e.target.value;setSearchTerm(value);setTimeout(()=>{updateAutocomplete(value);},300);};// Í≤ÄÏÉâ ÏûÖÎ†• Ìè¨Ïª§Ïä§ Ï≤òÎ¶¨\nconst handleSearchInputFocus=()=>{updateAutocomplete(searchTerm);};// ÏûêÎèôÏôÑÏÑ± Îã´Í∏∞\nconst handleAutocompleteClose=()=>{setTimeout(()=>setShowAutocomplete(false),150);};// Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Î∞è Ï¶êÍ≤®Ï∞æÍ∏∞ Î∂àÎü¨Ïò§Í∏∞\nuseEffect(()=>{const savedSearches=localStorage.getItem('recentSearches');if(savedSearches){setRecentSearches(JSON.parse(savedSearches));}const savedBookmarks=localStorage.getItem('bookmarks');if(savedBookmarks){setBookmarks(JSON.parse(savedBookmarks));}},[]);// ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Ï†ÄÏû•\nconst saveRecentSearch=query=>{const updated=[query,...recentSearches.filter(s=>s!==query)].slice(0,10);setRecentSearches(updated);localStorage.setItem('recentSearches',JSON.stringify(updated));};// Ï¶êÍ≤®Ï∞æÍ∏∞ ÌÜ†Í∏Ä\nconst toggleBookmark=bookId=>{let updated;if(bookmarks.includes(bookId)){updated=bookmarks.filter(id=>id!==bookId);}else{updated=[...bookmarks,bookId];}setBookmarks(updated);localStorage.setItem('bookmarks',JSON.stringify(updated));};// Ï¶êÍ≤®Ï∞æÍ∏∞ Ïó¨Î∂Ä ÌôïÏù∏\nconst isBookmarked=bookId=>bookmarks.includes(bookId);// API ÏäπÏù∏ ÏÉÅÌÉú ÌôïÏù∏\nuseEffect(()=>{const checkApprovalStatus=async()=>{try{const isApproved=await checkApiApprovalStatus('651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8');if(isApproved){setApiStatus('‚úÖ Ïã§ÏãúÍ∞Ñ ÎèÑÏÑúÍ¥Ä API Ïó∞Í≤∞Îê®');}else{setApiStatus('‚ö†Ô∏è API ÏäπÏù∏ ÎåÄÍ∏∞ Ï§ë - ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï†úÍ≥µ');}}catch(error){setApiStatus('‚ö†Ô∏è API Ïó∞Í≤∞ ÌôïÏù∏ Ï§ë - ÏïàÏ†ïÏ†ÅÏù∏ ÏÑúÎπÑÏä§ Ï†úÍ≥µ');}};checkApprovalStatus();},[]);// ÏßÄÏó≠Î≥Ñ ÎèÑÏÑúÍ¥Ä ÏÉùÏÑ±\nconst generateLibrariesByRegion=region=>{const regionLower=region.toLowerCase();if(regionLower.includes('Îèô')){const cityName=region.replace('Îèô','');return[{id:1,name:`${cityName}Îèô Ï£ºÎØºÏÑºÌÑ∞ ÎèÑÏÑúÍ¥Ä`,address:`Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Ï§ëÏïôÎ°ú 123`,phone:'031-123-4567',hours:'09:00-18:00'},{id:2,name:`${cityName}Îèô Íµ¨ÎØºÌöåÍ¥Ä ÎèÑÏÑúÍ¥Ä`,address:`Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Î≥µÌï©Î¨∏ÌôîÏÑºÌÑ∞ 2Ï∏µ`,phone:'031-234-5678',hours:'10:00-20:00'},{id:3,name:`${cityName}Îèô ÏûëÏùÄÎèÑÏÑúÍ¥Ä`,address:`Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Ï£ºÌÉùÍ∞Ä ÎÇ¥ ÏûëÏùÄÎèÑÏÑúÍ¥Ä`,phone:'031-345-6789',hours:'10:00-18:00'}];}const libraryData={'ÏàòÏõê':[{id:1,name:'ÏàòÏõêÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ Í¥ëÍµêÎ°ú 183',phone:'031-228-4300',hours:'09:00-22:00'},{id:2,name:'Í≤ΩÍ∏∞ÎèÑÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ ÏõîÎìúÏªµÎ°ú 235',phone:'031-249-4800',hours:'09:00-18:00'},{id:3,name:'ÏòÅÌÜµÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ ÏòÅÌÜµÎèô 999-1',phone:'031-228-4350',hours:'09:00-20:00'}],'ÏÑ±ÎÇ®':[{id:1,name:'ÏÑ±ÎÇ®ÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ ÏñëÌòÑÎ°ú 346',phone:'031-729-4600',hours:'09:00-18:00'},{id:2,name:'Î∂ÑÎãπÍµ¨Î¶ΩÏ†ïÏûêÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ Ï†ïÏûêÎèô 178-1',phone:'031-729-4650',hours:'09:00-20:00'},{id:3,name:'ÏÑúÌòÑÏûëÏùÄÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ ÏÑúÌòÑÎèô 271-3',phone:'031-729-4670',hours:'10:00-18:00'}],'Í≥†Ïñë':[{id:1,name:'Í≥†ÏñëÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÎçïÏñëÍµ¨ Í≥†ÏñëÎåÄÎ°ú 1955',phone:'031-8075-9300',hours:'09:00-18:00'},{id:2,name:'ÏùºÏÇ∞ÎèôÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÏùºÏÇ∞ÎèôÍµ¨ Î∞±ÏÑùÎèô 1256',phone:'031-8075-9350',hours:'09:00-20:00'},{id:3,name:'Î∞±ÏÑùÏûëÏùÄÎèÑÏÑúÍ¥Ä',address:'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÏùºÏÇ∞ÎèôÍµ¨ Î∞±ÏÑùÎèô 1234-5',phone:'031-8075-9380',hours:'10:00-18:00'}]};for(const[key,data]of Object.entries(libraryData)){if(regionLower.includes(key)){return data;}}return[{id:1,name:'ÏÑúÏö∏ÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä',address:'ÏÑúÏö∏ÌäπÎ≥ÑÏãú Ï§ëÍµ¨ ÏÑ∏Ï¢ÖÎåÄÎ°ú 110',phone:'02-2133-0300',hours:'09:00-20:00'},{id:2,name:'Í∞ïÎÇ®Íµ¨Î¶ΩÎèÑÏÑúÍ¥Ä',address:'ÏÑúÏö∏ÌäπÎ≥ÑÏãú Í∞ïÎÇ®Íµ¨ ÌÖåÌó§ÎûÄÎ°ú 114',phone:'02-2182-0300',hours:'09:00-22:00'},{id:3,name:'ÏÑúÏ¥àÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä',address:'ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑúÏ¥àÍµ¨ Î∞òÌè¨ÎåÄÎ°ú 58',phone:'02-2155-8000',hours:'10:00-20:00'}];};// ÎèÑÏÑúÍ¥ÄÎ≥Ñ ÏÜåÏû• ÌòÑÌô© ÏÉùÏÑ±\nconst generateLibraryAvailability=libraries=>{return libraries.map(library=>({libraryId:library.id,libraryName:library.name,libraryAddress:library.address,libraryPhone:library.phone,libraryHours:library.hours,available:Math.random()>0.4,waitingList:Math.floor(Math.random()*5)+1,totalBooks:Math.floor(Math.random()*5)+1,availableBooks:Math.floor(Math.random()*3),location:`${Math.floor(Math.random()*10)+1}Ï∏µ ${String.fromCharCode(65+Math.floor(Math.random()*5))}Íµ¨Ïó≠`}));};// Í≤ÄÏÉâ ÏàòÌñâ\nconst performSearch=async query=>{setLoading(true);setHasSearched(true);setApiError('');try{const results=await searchBooksAPI(query,1,20);if(results&&results.length>0){setApiStatus('‚úÖ Ïã§Ï†ú ÎèÑÏÑúÍ¥Ä Îç∞Ïù¥ÌÑ∞Î°ú Í≤ÄÏÉâ ÏôÑÎ£å');const booksWithAvailability=results.map(book=>({...book,availability:generateLibraryAvailability(libraries)}));setSearchResults(booksWithAvailability);}else{setApiStatus('‚ö†Ô∏è ÎèÑÏÑúÍ¥Ä API Ïó∞Í≤∞ Ï§ë - ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï†úÍ≥µ');const dummyResults=getDummySearchResults(query);setSearchResults(dummyResults);}}catch(error){console.error('Í≤ÄÏÉâ Ï§ë Ïò§Î•ò:',error);setApiError('API Ïó∞Í≤∞ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏÉòÌîå Îç∞Ïù¥ÌÑ∞Î•º Ï†úÍ≥µÌï©ÎãàÎã§.');setApiStatus('‚ö†Ô∏è API Ïó∞Í≤∞ Ïò§Î•ò - ÏïàÏ†ïÏ†ÅÏù∏ ÏÑúÎπÑÏä§ Ï†úÍ≥µ');const dummyResults=getDummySearchResults(query);setSearchResults(dummyResults);}finally{setLoading(false);}};// ÎçîÎØ∏ Í≤ÄÏÉâ Í≤∞Í≥º ÏÉùÏÑ±\nconst getDummySearchResults=query=>{const dummyBooks=[{id:'1',title:'ÎØ∏ÏõÄÎ∞õÏùÑ Ïö©Í∏∞',author:'Í∏∞ÏãúÎØ∏ Ïù¥ÏπòÎ°ú, Í≥†Í∞Ä ÌõÑÎØ∏ÌÉÄÏºÄ',publisher:'Ïù∏ÌîåÎ£®ÏóîÏÖú',isbn:'9788950955671',category:'ÏûêÍ∏∞Í≥ÑÎ∞ú',publishYear:'2014',description:'ÏïÑÎì§Îü¨ Ïã¨Î¶¨ÌïôÏùÑ Î∞îÌÉïÏúºÎ°ú Ìïú Ïù∏Í∞ÑÍ¥ÄÍ≥ÑÏôÄ ÏÇ∂Ïùò ÏßÄÌòúÎ•º Îã¥ÏùÄ Ï±Ö',loanCount:2847},{id:'2',title:'82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ',author:'Ï°∞ÎÇ®Ï£º',publisher:'ÎØºÏùåÏÇ¨',isbn:'9788937473371',category:'ÏÜåÏÑ§',publishYear:'2016',description:'ÌïúÍµ≠ Ïó¨ÏÑ±Ïùò ÌòÑÏã§ÏùÑ ÏÉùÏÉùÌïòÍ≤å Í∑∏Î¶∞ ÏÜåÏÑ§',loanCount:1923},{id:'3',title:'ÏÇ¨ÌîºÏóîÏä§',author:'Ïú†Î∞ú ÌïòÎùºÎ¶¨',publisher:'ÍπÄÏòÅÏÇ¨',isbn:'9788934972464',category:'Ïù∏Î¨∏',publishYear:'2015',description:'Ïù∏Î•òÏùò Ïó≠ÏÇ¨Î•º ÌÜµÏ∞∞Ìïú Î≤†Ïä§Ìä∏ÏÖÄÎü¨',loanCount:1456}];const filtered=dummyBooks.filter(book=>book.title.toLowerCase().includes(query.toLowerCase())||book.author.toLowerCase().includes(query.toLowerCase())||book.category.toLowerCase().includes(query.toLowerCase()));return filtered.length>0?filtered.map(book=>({...book,availability:generateLibraryAvailability(libraries)})):dummyBooks.map(book=>({...book,availability:generateLibraryAvailability(libraries)}));};// Í≤ÄÏÉâ Ìèº Ï†úÏ∂ú\nconst handleSearch=e=>{e.preventDefault();if(searchTerm.trim()){saveRecentSearch(searchTerm.trim());performSearch(searchTerm.trim());}};// Îπ†Î•∏ Í≤ÄÏÉâ Ï≤òÎ¶¨\nconst handleQuickSearch=keyword=>{setSearchTerm(keyword);saveRecentSearch(keyword);performSearch(keyword);};// Ï†ÑÌôî Ïó∞Í≤∞ Ï≤òÎ¶¨\nconst handleCall=(libraryName,libraryPhone,libraryHours)=>{const currentTime=new Date();const currentHour=currentTime.getHours();const isOpen=currentHour>=9&&currentHour<18;let message=`${libraryName}Ïóê Ï†ÑÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;if(libraryHours){message+=`\\n\\nüìû Ï†ÑÌôîÎ≤àÌò∏: ${libraryPhone}`;message+=`\\n‚è∞ Ïö¥ÏòÅÏãúÍ∞Ñ: ${libraryHours}`;}if(!isOpen){message+=`\\n\\n‚ö†Ô∏è ÌòÑÏû¨ ÏãúÍ∞Ñ(${currentHour}Ïãú)ÏùÄ ÎèÑÏÑúÍ¥Ä Ïö¥ÏòÅÏãúÍ∞Ñ Ïô∏ÏûÖÎãàÎã§.`;}const confirmed=window.confirm(message);if(confirmed){window.location.href=`tel:${libraryPhone}`;}};// ÏòàÏïΩ Ï≤òÎ¶¨\nconst handleReserve=function(bookId,libraryId,libraryName,libraryPhone){let libraryHours=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';let isAvailable=arguments.length>5?arguments[5]:undefined;const currentTime=new Date();const currentHour=currentTime.getHours();const isOpen=currentHour>=9&&currentHour<18;let message='';if(isAvailable){message=`${libraryName}ÏóêÏÑú Ïù¥ ÎèÑÏÑúÎ•º ÏòàÏïΩÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;}else{message=`${libraryName}Ïóê ÎåÄÍ∏∞Ïã†Ï≤≠ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;}message+=`\\n\\nüìû Ï†ÑÌôîÎ≤àÌò∏: ${libraryPhone}`;if(libraryHours){message+=`\\n‚è∞ Ïö¥ÏòÅÏãúÍ∞Ñ: ${libraryHours}`;}if(!isOpen){message+=`\\n\\n‚ö†Ô∏è ÌòÑÏû¨ ÏãúÍ∞ÑÏùÄ ÎèÑÏÑúÍ¥Ä Ïö¥ÏòÅÏãúÍ∞Ñ Ïô∏ÏûÖÎãàÎã§.`;message+=`\\nÏö¥ÏòÅÏãúÍ∞ÑÏóê Îã§Ïãú Ï†ÑÌôîÌï¥Ï£ºÏÑ∏Ïöî.`;}const confirmed=window.confirm(message);if(confirmed){if(isAvailable){alert('ÏòàÏïΩ ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÎèÑÏÑúÍ¥ÄÏóê ÏßÅÏ†ë Ï†ÑÌôîÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.');}else{alert('ÎåÄÍ∏∞Ïã†Ï≤≠ ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÎèÑÏÑúÍ¥ÄÏóê ÏßÅÏ†ë Ï†ÑÌôîÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.');}window.location.href=`tel:${libraryPhone}`;}};// Ïô∏Î∂Ä Í≤ÄÏÉâÏñ¥ Ï≤òÎ¶¨\nuseEffect(()=>{if(externalSearchQuery&&externalSearchQuery.trim()){setSearchTerm(externalSearchQuery);performSearch(externalSearchQuery);if(onExternalSearchComplete){onExternalSearchComplete();}}},[externalSearchQuery,onExternalSearchComplete]);// Î∂ÄÎ™®ÏóêÏÑú Ï†ÑÎã¨Î∞õÏùÄ ÏßÄÏó≠ Ï†ïÎ≥¥ ÎèôÍ∏∞Ìôî\nuseEffect(()=>{if(parentSelectedRegion!==undefined){setSelectedRegion(parentSelectedRegion);}},[parentSelectedRegion]);// ÏßÄÏó≠ ÏÑ†ÌÉù Ï≤òÎ¶¨\nuseEffect(()=>{if(selectedRegion){const regionLibraries=generateLibrariesByRegion(selectedRegion);setLibraries(regionLibraries);if(searchResults.length>0){const updatedResults=searchResults.map(book=>({...book,availability:generateLibraryAvailability(regionLibraries)}));setSearchResults(updatedResults);}}},[selectedRegion,searchResults]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(SearchForm,{onSubmit:handleSearch,children:[/*#__PURE__*/_jsxs(SearchInputContainer,{children:[/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uB3C4\\uC11C\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",value:searchTerm,onChange:handleSearchInputChange,onFocus:handleSearchInputFocus,onBlur:handleAutocompleteClose}),showAutocomplete&&autocompleteItems.length>0&&/*#__PURE__*/_jsx(AutocompleteDropdown,{children:autocompleteItems.map((item,index)=>/*#__PURE__*/_jsxs(AutocompleteItemElement,{onClick:()=>handleAutocompleteSelect(item),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:item.type==='recent'?'üïê':item.type==='popular'?'üî•':'üí°'}),/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:item.text}),/*#__PURE__*/_jsx(\"span\",{className:\"category\",children:item.category})]},index))})]}),/*#__PURE__*/_jsx(SearchButton,{type:\"submit\",disabled:loading,children:loading?'Í≤ÄÏÉâ Ï§ë...':'üîç Í≤ÄÏÉâ'})]}),/*#__PURE__*/_jsx(RegionSelector,{onLibrariesUpdate:setLibraries,selectedRegion:selectedRegion,onRegionUpdate:region=>{setSelectedRegion(region);if(onRegionUpdate){onRegionUpdate(region);}}}),/*#__PURE__*/_jsxs(QuickSearchSection,{children:[/*#__PURE__*/_jsx(QuickSearchTitle,{children:\"\\uBE60\\uB978 \\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(QuickSearchTags,{children:quickSearchKeywords.map(keyword=>/*#__PURE__*/_jsx(QuickSearchTag,{onClick:()=>handleQuickSearch(keyword),children:keyword},keyword))})]}),recentSearches.length>0&&/*#__PURE__*/_jsxs(QuickSearchSection,{children:[/*#__PURE__*/_jsx(QuickSearchTitle,{children:\"\\uCD5C\\uADFC \\uAC80\\uC0C9\\uC5B4\"}),/*#__PURE__*/_jsxs(QuickSearchTags,{children:[recentSearches.slice(0,8).map((search,index)=>/*#__PURE__*/_jsxs(QuickSearchTag,{onClick:()=>handleQuickSearch(search),children:[\"\\uD83D\\uDD50 \",search]},index)),recentSearches.length>0&&/*#__PURE__*/_jsx(QuickSearchTag,{onClick:()=>{setRecentSearches([]);localStorage.removeItem('recentSearches');},style:{background:'#ffebee',color:'#c62828',border:'1px solid #ffcdd2'},children:\"\\uD83D\\uDDD1\\uFE0F \\uC804\\uCCB4 \\uC0AD\\uC81C\"})]})]}),apiStatus&&/*#__PURE__*/_jsx(ApiStatus,{isError:!!apiError,children:apiStatus}),loading&&/*#__PURE__*/_jsx(LoadingDiv,{children:\"\\uD83D\\uDCDA \\uC2E4\\uC81C \\uB3C4\\uC11C\\uAD00 API\\uC5D0\\uC11C \\uAC80\\uC0C9\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"}),!loading&&hasSearched&&searchResults.length===0&&/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"emoji\",children:\"\\uD83D\\uDCD6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"\\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694\"})]}),!loading&&searchResults.length>0&&/*#__PURE__*/_jsx(SearchResults,{children:searchResults.map(book=>/*#__PURE__*/_jsxs(BookCard,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(BookTitle,{children:book.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleBookmark(book.id),style:{background:'none',border:'none',fontSize:'24px',cursor:'pointer',color:isBookmarked(book.id)?'#ff6b6b':'#ccc',transition:'color 0.3s'},title:isBookmarked(book.id)?'Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú':'Ï¶êÍ≤®Ï∞æÍ∏∞ Ï∂îÍ∞Ä',children:isBookmarked(book.id)?'‚ù§Ô∏è':'ü§ç'})]}),/*#__PURE__*/_jsxs(BookInfo,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC800\\uC790: \",book.author]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uCD9C\\uD310\\uC0AC: \",book.publisher]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uCE74\\uD14C\\uACE0\\uB9AC: \",book.category]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uCD9C\\uAC04\\uB144\\uB3C4: \",book.publishYear]}),book.loanCount&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uB300\\uCD9C \\uD69F\\uC218: \",book.loanCount.toLocaleString(),\"\\uD68C\"]})]}),book.description&&/*#__PURE__*/_jsx(BookDescription,{children:book.description}),/*#__PURE__*/_jsxs(AvailabilitySection,{children:[/*#__PURE__*/_jsxs(AvailabilityTitle,{children:[\"\\uD83D\\uDCCD \",selectedRegion||'Í≤ΩÍ∏∞ÎèÑ',\" \\uB3C4\\uC11C\\uAD00 \\uC18C\\uC7A5 \\uD604\\uD669\"]}),/*#__PURE__*/_jsx(LibraryList,{children:book.availability.sort((a,b)=>{if(a.available&&!b.available)return-1;if(!a.available&&b.available)return 1;if(a.available&&b.available)return a.waitingList-b.waitingList;return a.waitingList-b.waitingList;}).map(avail=>/*#__PURE__*/_jsxs(LibraryItem,{children:[/*#__PURE__*/_jsxs(LibraryInfo,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[avail.available?'‚úÖ ':'‚è≥ ',avail.libraryName]}),/*#__PURE__*/_jsx(\"div\",{className:\"address\",children:avail.libraryAddress}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory\",children:[\"\\uD83D\\uDCDA \\uCD1D \",avail.totalBooks,\"\\uAD8C \\uBCF4\\uC720 | \\uB300\\uCD9C \\uAC00\\uB2A5: \",avail.availableBooks,\"\\uAD8C\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory\",children:[\"\\uD83D\\uDCCD \\uC704\\uCE58: \",avail.location]}),/*#__PURE__*/_jsx(\"div\",{className:\"phone\",children:avail.libraryPhone}),avail.libraryHours&&/*#__PURE__*/_jsxs(\"div\",{className:\"hours\",children:[\"\\u23F0 \",avail.libraryHours]})]}),/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(StatusButton,{className:avail.available?'available':'unavailable',onClick:()=>handleReserve(book.id,avail.libraryId,avail.libraryName,avail.libraryPhone,avail.libraryHours,avail.available),children:avail.available?'‚úì Î∞îÎ°ú ÏòàÏïΩ':`üí§ ÎåÄÍ∏∞Ïã†Ï≤≠ (${avail.waitingList}Î™Ö)`}),/*#__PURE__*/_jsx(CallButton,{onClick:()=>handleCall(avail.libraryName,avail.libraryPhone,avail.libraryHours),children:\"\\uD83D\\uDCDE \\uC804\\uD654\\uD558\\uAE30\"})]})]},avail.libraryId))})]})]},book.id))})]});};export default BookSearchSection;","map":{"version":3,"names":["React","useState","useEffect","styled","RegionSelector","searchBooksAPI","checkApiApprovalStatus","jsx","_jsx","jsxs","_jsxs","Container","div","SearchForm","form","SearchInputContainer","SearchInput","input","AutocompleteDropdown","AutocompleteItemElement","SearchButton","button","QuickSearchSection","QuickSearchTitle","h4","QuickSearchTags","QuickSearchTag","LoadingDiv","EmptyState","SearchResults","BookCard","BookTitle","h3","BookInfo","BookDescription","p","AvailabilitySection","AvailabilityTitle","LibraryList","LibraryItem","LibraryInfo","ButtonGroup","StatusButton","CallButton","ApiStatus","props","isError","BookSearchSection","_ref","externalSearchQuery","onExternalSearchComplete","selectedRegion","parentSelectedRegion","onRegionUpdate","searchTerm","setSearchTerm","searchResults","setSearchResults","loading","setLoading","hasSearched","setHasSearched","setSelectedRegion","libraries","setLibraries","apiStatus","setApiStatus","apiError","setApiError","recentSearches","setRecentSearches","showAutocomplete","setShowAutocomplete","autocompleteItems","setAutocompleteItems","bookmarks","setBookmarks","quickSearchKeywords","popularSearches","text","category","updateAutocomplete","inputValue","trim","items","slice","map","search","type","searchValue","toLowerCase","matchedItems","forEach","includes","push","length","handleAutocompleteSelect","item","saveRecentSearch","performSearch","handleSearchInputChange","e","value","target","setTimeout","handleSearchInputFocus","handleAutocompleteClose","savedSearches","localStorage","getItem","JSON","parse","savedBookmarks","query","updated","filter","s","setItem","stringify","toggleBookmark","bookId","id","isBookmarked","checkApprovalStatus","isApproved","error","generateLibrariesByRegion","region","regionLower","cityName","replace","name","address","phone","hours","libraryData","key","data","Object","entries","generateLibraryAvailability","library","libraryId","libraryName","libraryAddress","libraryPhone","libraryHours","available","Math","random","waitingList","floor","totalBooks","availableBooks","location","String","fromCharCode","results","booksWithAvailability","book","availability","dummyResults","getDummySearchResults","console","dummyBooks","title","author","publisher","isbn","publishYear","description","loanCount","filtered","handleSearch","preventDefault","handleQuickSearch","keyword","handleCall","currentTime","Date","currentHour","getHours","isOpen","message","confirmed","window","confirm","href","handleReserve","arguments","undefined","isAvailable","alert","regionLibraries","updatedResults","children","onSubmit","placeholder","onChange","onFocus","onBlur","index","onClick","className","disabled","onLibrariesUpdate","removeItem","style","background","color","border","display","justifyContent","alignItems","marginBottom","fontSize","cursor","transition","toLocaleString","sort","a","b","avail"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/components/BookSearchSection.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { searchBooksAPI, checkApiApprovalStatus } from '../services/LibraryAPI';\n\n// Ïä§ÌÉÄÏùºÎìú Ïª¥Ìè¨ÎÑåÌä∏ Ï†ïÏùò\nconst Container = styled.div`\n  width: 100%;\n  padding: 20px;\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;\n\nconst SearchInputContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;\n\nconst AutocompleteDropdown = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;\n\nconst AutocompleteItemElement = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;\n\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst QuickSearchSection = styled.div`\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #e0e0e0;\n`;\n\nconst QuickSearchTitle = styled.h4`\n  margin: 0 0 10px 0;\n  color: #333;\n  font-size: 16px;\n`;\n\nconst QuickSearchTags = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n\nconst QuickSearchTag = styled.button`\n  padding: 6px 12px;\n  background: #f0f8ff;\n  border: 1px solid #4CAF50;\n  color: #4CAF50;\n  border-radius: 16px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &:hover {\n    background: #4CAF50;\n    color: white;\n  }\n`;\n\nconst LoadingDiv = styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;\n\nconst SearchResults = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nconst BookCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;\n\nconst BookTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;\n\nconst BookInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;\n\nconst BookDescription = styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;\n\nconst AvailabilitySection = styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;\n\nconst AvailabilityTitle = styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nconst LibraryList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst LibraryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;\n\nconst LibraryInfo = styled.div`\n  .name {\n    font-weight: 600;\n    color: #333;\n    font-size: 16px;\n    margin-bottom: 4px;\n  }\n  \n  .address {\n    color: #666;\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n  \n  .phone {\n    color: #4CAF50;\n    font-size: 14px;\n    font-weight: 600;\n  }\n  \n  .hours {\n    color: #666;\n    font-size: 12px;\n    margin-top: 4px;\n  }\n\n  .inventory {\n    color: #2196F3;\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: 4px;\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nconst StatusButton = styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &.available {\n    background: #4CAF50;\n    color: white;\n    \n    &:hover {\n      background: #45a049;\n    }\n  }\n  \n  &.unavailable {\n    background: #ff9800;\n    color: white;\n    \n    &:hover {\n      background: #f57c00;\n    }\n  }\n`;\n\nconst CallButton = styled.button`\n  padding: 10px 16px;\n  background: #2196F3;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  \n  &:hover {\n    background: #1976D2;\n  }\n`;\n\nconst ApiStatus = styled.div<{ isError: boolean }>`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  \n  background: ${props => props.isError ? '#ffebee' : '#e8f5e8'};\n  color: ${props => props.isError ? '#c62828' : '#2e7d32'};\n  border: 1px solid ${props => props.isError ? '#ffcdd2' : '#c8e6c9'};\n`;\n\n// Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Ï†ïÏùò\ninterface Library {\n  id: number;\n  name: string;\n  address: string;\n  phone: string;\n  hours?: string;\n}\n\ninterface AutocompleteItemData {\n  text: string;\n  category: string;\n  type: 'popular' | 'recent' | 'suggestion';\n}\n\ninterface Book {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  publishYear: string;\n  description?: string;\n  imageUrl?: string;\n  loanCount?: number;\n  availability: Array<{\n    libraryId: number;\n    libraryName: string;\n    libraryAddress: string;\n    libraryPhone: string;\n    libraryHours?: string;\n    available: boolean;\n    waitingList: number;\n    totalBooks: number;\n    availableBooks: number;\n    location: string;\n  }>;\n}\n\ninterface BookSearchSectionProps {\n  externalSearchQuery?: string;\n  onExternalSearchComplete?: () => void;\n  selectedRegion?: string;\n  onRegionUpdate?: (region: string) => void;\n}\n\nconst BookSearchSection: React.FC<BookSearchSectionProps> = ({ \n  externalSearchQuery, \n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate \n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<Book[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [libraries, setLibraries] = useState<Library[]>([]);\n  const [apiStatus, setApiStatus] = useState<string>('');\n  const [apiError, setApiError] = useState<string>('');\n\n  // ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ ÏÉÅÌÉú\n  const [recentSearches, setRecentSearches] = useState<string[]>([]);\n\n  // ÏûêÎèôÏôÑÏÑ± ÏÉÅÌÉú\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteItems, setAutocompleteItems] = useState<AutocompleteItemData[]>([]);\n\n  // Ï¶êÍ≤®Ï∞æÍ∏∞ ÏÉÅÌÉú\n  const [bookmarks, setBookmarks] = useState<string[]>([]);\n\n  // Îπ†Î•∏ Í≤ÄÏÉâ ÌÇ§ÏõåÎìú\n  const quickSearchKeywords = [\n    'Î≤†Ïä§Ìä∏ÏÖÄÎü¨', 'ÏÜåÏÑ§', 'ÏóêÏÑ∏Ïù¥', 'Í±¥Í∞ï', 'ÏöîÎ¶¨', 'Ï∑®ÎØ∏', 'Ïó≠ÏÇ¨', 'ÏûêÍ∏∞Í≥ÑÎ∞ú', 'ÏãúÏßë', 'Ïó¨Ìñâ'\n  ];\n\n  // Ïù∏Í∏∞ Í≤ÄÏÉâÏñ¥ Î™©Î°ù\n  const popularSearches = [\n    { text: 'Îã¨Í≥º 6ÌéúÏä§', category: 'Î¨∏Ìïô' },\n    { text: 'ÎØ∏ÏõÄÎ∞õÏùÑ Ïö©Í∏∞', category: 'ÏûêÍ∏∞Í≥ÑÎ∞ú' },\n    { text: 'ÏàòÌïôÏùò Ï†ïÏÑù', category: 'ÍµêÏú°' },\n    { text: '82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ', category: 'ÏÜåÏÑ§' },\n    { text: 'ÏõêÏîΩ', category: 'ÏûêÍ∏∞Í≥ÑÎ∞ú' },\n    { text: 'ÏÑ∏Í≥ÑÏÇ¨ Ìé∏ÏßÄ', category: 'Ïó≠ÏÇ¨' },\n    { text: 'ÏΩîÏä§Î™®Ïä§', category: 'Í≥ºÌïô' },\n    { text: 'ÏûëÎ≥ÑÌïòÏßÄ ÏïäÎäîÎã§', category: 'ÏÜåÏÑ§' },\n    { text: 'ÏïÑÌîÑÎãàÍπå Ï≤≠Ï∂òÏù¥Îã§', category: 'ÏóêÏÑ∏Ïù¥' },\n    { text: 'Î∂àÌé∏Ìïú Ìé∏ÏùòÏ†ê', category: 'ÏÜåÏÑ§' },\n    { text: 'ÏïÑÎ™¨Îìú', category: 'ÏÜåÏÑ§' },\n    { text: 'ÎãπÏã†Ïù¥ Ïò≥Îã§', category: 'ÏóêÏÑ∏Ïù¥' },\n    { text: 'ÏÇ¨ÌîºÏóîÏä§', category: 'Ïù∏Î¨∏' },\n    { text: 'Îç∞ÎØ∏Ïïà', category: 'Î¨∏Ìïô' },\n    { text: 'Ïñ¥Î¶∞ÏôïÏûê', category: 'Î¨∏Ìïô' }\n  ];\n\n  // ÏûêÎèôÏôÑÏÑ± Í∏∞Îä•\n  const updateAutocomplete = (inputValue: string) => {\n    if (!inputValue.trim()) {\n      const items: AutocompleteItemData[] = [\n        ...recentSearches.slice(0, 5).map(search => ({\n          text: search,\n          category: 'ÏµúÍ∑º Í≤ÄÏÉâ',\n          type: 'recent' as const\n        })),\n        ...popularSearches.slice(0, 5).map(search => ({\n          text: search.text,\n          category: search.category,\n          type: 'popular' as const\n        }))\n      ];\n      setAutocompleteItems(items);\n      setShowAutocomplete(true);\n      return;\n    }\n\n    const searchValue = inputValue.toLowerCase();\n    const matchedItems: AutocompleteItemData[] = [];\n\n    recentSearches.forEach(search => {\n      if (search.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search,\n          category: 'ÏµúÍ∑º Í≤ÄÏÉâ',\n          type: 'recent'\n        });\n      }\n    });\n\n    popularSearches.forEach(search => {\n      if (search.text.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search.text,\n          category: search.category,\n          type: 'popular'\n        });\n      }\n    });\n\n    setAutocompleteItems(matchedItems.slice(0, 10));\n    setShowAutocomplete(matchedItems.length > 0);\n  };\n\n  // ÏûêÎèôÏôÑÏÑ± ÏïÑÏù¥ÌÖú ÏÑ†ÌÉù Ï≤òÎ¶¨\n  const handleAutocompleteSelect = (item: AutocompleteItemData) => {\n    setSearchTerm(item.text);\n    setShowAutocomplete(false);\n    saveRecentSearch(item.text);\n    performSearch(item.text);\n  };\n\n  // Í≤ÄÏÉâ ÏûÖÎ†• Ï≤òÎ¶¨\n  const handleSearchInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    \n    setTimeout(() => {\n      updateAutocomplete(value);\n    }, 300);\n  };\n\n  // Í≤ÄÏÉâ ÏûÖÎ†• Ìè¨Ïª§Ïä§ Ï≤òÎ¶¨\n  const handleSearchInputFocus = () => {\n    updateAutocomplete(searchTerm);\n  };\n\n  // ÏûêÎèôÏôÑÏÑ± Îã´Í∏∞\n  const handleAutocompleteClose = () => {\n    setTimeout(() => setShowAutocomplete(false), 150);\n  };\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Î∞è Ï¶êÍ≤®Ï∞æÍ∏∞ Î∂àÎü¨Ïò§Í∏∞\n  useEffect(() => {\n    const savedSearches = localStorage.getItem('recentSearches');\n    if (savedSearches) {\n      setRecentSearches(JSON.parse(savedSearches));\n    }\n    \n    const savedBookmarks = localStorage.getItem('bookmarks');\n    if (savedBookmarks) {\n      setBookmarks(JSON.parse(savedBookmarks));\n    }\n  }, []);\n\n  // ÏµúÍ∑º Í≤ÄÏÉâÏñ¥ Ï†ÄÏû•\n  const saveRecentSearch = (query: string) => {\n    const updated = [query, ...recentSearches.filter(s => s !== query)].slice(0, 10);\n    setRecentSearches(updated);\n    localStorage.setItem('recentSearches', JSON.stringify(updated));\n  };\n\n  // Ï¶êÍ≤®Ï∞æÍ∏∞ ÌÜ†Í∏Ä\n  const toggleBookmark = (bookId: string) => {\n    let updated: string[];\n    if (bookmarks.includes(bookId)) {\n      updated = bookmarks.filter(id => id !== bookId);\n    } else {\n      updated = [...bookmarks, bookId];\n    }\n    setBookmarks(updated);\n    localStorage.setItem('bookmarks', JSON.stringify(updated));\n  };\n\n  // Ï¶êÍ≤®Ï∞æÍ∏∞ Ïó¨Î∂Ä ÌôïÏù∏\n  const isBookmarked = (bookId: string) => bookmarks.includes(bookId);\n\n  // API ÏäπÏù∏ ÏÉÅÌÉú ÌôïÏù∏\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        const isApproved = await checkApiApprovalStatus('651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8');\n        if (isApproved) {\n          setApiStatus('‚úÖ Ïã§ÏãúÍ∞Ñ ÎèÑÏÑúÍ¥Ä API Ïó∞Í≤∞Îê®');\n        } else {\n          setApiStatus('‚ö†Ô∏è API ÏäπÏù∏ ÎåÄÍ∏∞ Ï§ë - ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï†úÍ≥µ');\n        }\n      } catch (error) {\n        setApiStatus('‚ö†Ô∏è API Ïó∞Í≤∞ ÌôïÏù∏ Ï§ë - ÏïàÏ†ïÏ†ÅÏù∏ ÏÑúÎπÑÏä§ Ï†úÍ≥µ');\n      }\n    };\n\n    checkApprovalStatus();\n  }, []);\n\n  // ÏßÄÏó≠Î≥Ñ ÎèÑÏÑúÍ¥Ä ÏÉùÏÑ±\n  const generateLibrariesByRegion = (region: string): Library[] => {\n    const regionLower = region.toLowerCase();\n    \n    if (regionLower.includes('Îèô')) {\n      const cityName = region.replace('Îèô', '');\n      return [\n        { id: 1, name: `${cityName}Îèô Ï£ºÎØºÏÑºÌÑ∞ ÎèÑÏÑúÍ¥Ä`, address: `Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Ï§ëÏïôÎ°ú 123`, phone: '031-123-4567', hours: '09:00-18:00' },\n        { id: 2, name: `${cityName}Îèô Íµ¨ÎØºÌöåÍ¥Ä ÎèÑÏÑúÍ¥Ä`, address: `Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Î≥µÌï©Î¨∏ÌôîÏÑºÌÑ∞ 2Ï∏µ`, phone: '031-234-5678', hours: '10:00-20:00' },\n        { id: 3, name: `${cityName}Îèô ÏûëÏùÄÎèÑÏÑúÍ¥Ä`, address: `Í≤ΩÍ∏∞ÎèÑ ${cityName}Îèô Ï£ºÌÉùÍ∞Ä ÎÇ¥ ÏûëÏùÄÎèÑÏÑúÍ¥Ä`, phone: '031-345-6789', hours: '10:00-18:00' }\n      ];\n    }\n    \n    const libraryData: { [key: string]: Library[] } = {\n      'ÏàòÏõê': [\n        { id: 1, name: 'ÏàòÏõêÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ Í¥ëÍµêÎ°ú 183', phone: '031-228-4300', hours: '09:00-22:00' },\n        { id: 2, name: 'Í≤ΩÍ∏∞ÎèÑÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ ÏõîÎìúÏªµÎ°ú 235', phone: '031-249-4800', hours: '09:00-18:00' },\n        { id: 3, name: 'ÏòÅÌÜµÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏàòÏõêÏãú ÏòÅÌÜµÍµ¨ ÏòÅÌÜµÎèô 999-1', phone: '031-228-4350', hours: '09:00-20:00' }\n      ],\n      'ÏÑ±ÎÇ®': [\n        { id: 1, name: 'ÏÑ±ÎÇ®ÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ ÏñëÌòÑÎ°ú 346', phone: '031-729-4600', hours: '09:00-18:00' },\n        { id: 2, name: 'Î∂ÑÎãπÍµ¨Î¶ΩÏ†ïÏûêÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ Ï†ïÏûêÎèô 178-1', phone: '031-729-4650', hours: '09:00-20:00' },\n        { id: 3, name: 'ÏÑúÌòÑÏûëÏùÄÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ ÏÑúÌòÑÎèô 271-3', phone: '031-729-4670', hours: '10:00-18:00' }\n      ],\n      'Í≥†Ïñë': [\n        { id: 1, name: 'Í≥†ÏñëÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÎçïÏñëÍµ¨ Í≥†ÏñëÎåÄÎ°ú 1955', phone: '031-8075-9300', hours: '09:00-18:00' },\n        { id: 2, name: 'ÏùºÏÇ∞ÎèôÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÏùºÏÇ∞ÎèôÍµ¨ Î∞±ÏÑùÎèô 1256', phone: '031-8075-9350', hours: '09:00-20:00' },\n        { id: 3, name: 'Î∞±ÏÑùÏûëÏùÄÎèÑÏÑúÍ¥Ä', address: 'Í≤ΩÍ∏∞ Í≥†ÏñëÏãú ÏùºÏÇ∞ÎèôÍµ¨ Î∞±ÏÑùÎèô 1234-5', phone: '031-8075-9380', hours: '10:00-18:00' }\n      ]\n    };\n    \n    for (const [key, data] of Object.entries(libraryData)) {\n      if (regionLower.includes(key)) {\n        return data;\n      }\n    }\n    \n    return [\n      { id: 1, name: 'ÏÑúÏö∏ÏãúÎ¶ΩÏ§ëÏïôÎèÑÏÑúÍ¥Ä', address: 'ÏÑúÏö∏ÌäπÎ≥ÑÏãú Ï§ëÍµ¨ ÏÑ∏Ï¢ÖÎåÄÎ°ú 110', phone: '02-2133-0300', hours: '09:00-20:00' },\n      { id: 2, name: 'Í∞ïÎÇ®Íµ¨Î¶ΩÎèÑÏÑúÍ¥Ä', address: 'ÏÑúÏö∏ÌäπÎ≥ÑÏãú Í∞ïÎÇ®Íµ¨ ÌÖåÌó§ÎûÄÎ°ú 114', phone: '02-2182-0300', hours: '09:00-22:00' },\n      { id: 3, name: 'ÏÑúÏ¥àÍµ¨Î¶ΩÎèÑÏÑúÍ¥Ä', address: 'ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑúÏ¥àÍµ¨ Î∞òÌè¨ÎåÄÎ°ú 58', phone: '02-2155-8000', hours: '10:00-20:00' }\n    ];\n  };\n\n  // ÎèÑÏÑúÍ¥ÄÎ≥Ñ ÏÜåÏû• ÌòÑÌô© ÏÉùÏÑ±\n  const generateLibraryAvailability = (libraries: Library[]) => {\n    return libraries.map(library => ({\n      libraryId: library.id,\n      libraryName: library.name,\n      libraryAddress: library.address,\n      libraryPhone: library.phone,\n      libraryHours: library.hours,\n      available: Math.random() > 0.4,\n      waitingList: Math.floor(Math.random() * 5) + 1,\n      totalBooks: Math.floor(Math.random() * 5) + 1,\n      availableBooks: Math.floor(Math.random() * 3),\n      location: `${Math.floor(Math.random() * 10) + 1}Ï∏µ ${String.fromCharCode(65 + Math.floor(Math.random() * 5))}Íµ¨Ïó≠`\n    }));\n  };\n\n  // Í≤ÄÏÉâ ÏàòÌñâ\n  const performSearch = async (query: string) => {\n    setLoading(true);\n    setHasSearched(true);\n    setApiError('');\n\n    try {\n      const results = await searchBooksAPI(query, 1, 20);\n      \n      if (results && results.length > 0) {\n        setApiStatus('‚úÖ Ïã§Ï†ú ÎèÑÏÑúÍ¥Ä Îç∞Ïù¥ÌÑ∞Î°ú Í≤ÄÏÉâ ÏôÑÎ£å');\n        \n        const booksWithAvailability = results.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(libraries)\n        }));\n        \n        setSearchResults(booksWithAvailability);\n      } else {\n        setApiStatus('‚ö†Ô∏è ÎèÑÏÑúÍ¥Ä API Ïó∞Í≤∞ Ï§ë - ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï†úÍ≥µ');\n        const dummyResults = getDummySearchResults(query);\n        setSearchResults(dummyResults);\n      }\n    } catch (error) {\n      console.error('Í≤ÄÏÉâ Ï§ë Ïò§Î•ò:', error);\n      setApiError('API Ïó∞Í≤∞ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏÉòÌîå Îç∞Ïù¥ÌÑ∞Î•º Ï†úÍ≥µÌï©ÎãàÎã§.');\n      setApiStatus('‚ö†Ô∏è API Ïó∞Í≤∞ Ïò§Î•ò - ÏïàÏ†ïÏ†ÅÏù∏ ÏÑúÎπÑÏä§ Ï†úÍ≥µ');\n      \n      const dummyResults = getDummySearchResults(query);\n      setSearchResults(dummyResults);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ÎçîÎØ∏ Í≤ÄÏÉâ Í≤∞Í≥º ÏÉùÏÑ±\n  const getDummySearchResults = (query: string): Book[] => {\n    const dummyBooks = [\n      {\n        id: '1',\n        title: 'ÎØ∏ÏõÄÎ∞õÏùÑ Ïö©Í∏∞',\n        author: 'Í∏∞ÏãúÎØ∏ Ïù¥ÏπòÎ°ú, Í≥†Í∞Ä ÌõÑÎØ∏ÌÉÄÏºÄ',\n        publisher: 'Ïù∏ÌîåÎ£®ÏóîÏÖú',\n        isbn: '9788950955671',\n        category: 'ÏûêÍ∏∞Í≥ÑÎ∞ú',\n        publishYear: '2014',\n        description: 'ÏïÑÎì§Îü¨ Ïã¨Î¶¨ÌïôÏùÑ Î∞îÌÉïÏúºÎ°ú Ìïú Ïù∏Í∞ÑÍ¥ÄÍ≥ÑÏôÄ ÏÇ∂Ïùò ÏßÄÌòúÎ•º Îã¥ÏùÄ Ï±Ö',\n        loanCount: 2847\n      },\n      {\n        id: '2',\n        title: '82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ',\n        author: 'Ï°∞ÎÇ®Ï£º',\n        publisher: 'ÎØºÏùåÏÇ¨',\n        isbn: '9788937473371',\n        category: 'ÏÜåÏÑ§',\n        publishYear: '2016',\n        description: 'ÌïúÍµ≠ Ïó¨ÏÑ±Ïùò ÌòÑÏã§ÏùÑ ÏÉùÏÉùÌïòÍ≤å Í∑∏Î¶∞ ÏÜåÏÑ§',\n        loanCount: 1923\n      },\n      {\n        id: '3',\n        title: 'ÏÇ¨ÌîºÏóîÏä§',\n        author: 'Ïú†Î∞ú ÌïòÎùºÎ¶¨',\n        publisher: 'ÍπÄÏòÅÏÇ¨',\n        isbn: '9788934972464',\n        category: 'Ïù∏Î¨∏',\n        publishYear: '2015',\n        description: 'Ïù∏Î•òÏùò Ïó≠ÏÇ¨Î•º ÌÜµÏ∞∞Ìïú Î≤†Ïä§Ìä∏ÏÖÄÎü¨',\n        loanCount: 1456\n      }\n    ];\n\n    const filtered = dummyBooks.filter(book =>\n      book.title.toLowerCase().includes(query.toLowerCase()) ||\n      book.author.toLowerCase().includes(query.toLowerCase()) ||\n      book.category.toLowerCase().includes(query.toLowerCase())\n    );\n\n    return filtered.length > 0 ? filtered.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    })) : dummyBooks.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    }));\n  };\n\n  // Í≤ÄÏÉâ Ìèº Ï†úÏ∂ú\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      saveRecentSearch(searchTerm.trim());\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // Îπ†Î•∏ Í≤ÄÏÉâ Ï≤òÎ¶¨\n  const handleQuickSearch = (keyword: string) => {\n    setSearchTerm(keyword);\n    saveRecentSearch(keyword);\n    performSearch(keyword);\n  };\n\n  // Ï†ÑÌôî Ïó∞Í≤∞ Ï≤òÎ¶¨\n  const handleCall = (libraryName: string, libraryPhone: string, libraryHours?: string) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    \n    const isOpen = currentHour >= 9 && currentHour < 18;\n    \n    let message = `${libraryName}Ïóê Ï†ÑÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;\n    if (libraryHours) {\n      message += `\\n\\nüìû Ï†ÑÌôîÎ≤àÌò∏: ${libraryPhone}`;\n      message += `\\n‚è∞ Ïö¥ÏòÅÏãúÍ∞Ñ: ${libraryHours}`;\n    }\n    \n    if (!isOpen) {\n      message += `\\n\\n‚ö†Ô∏è ÌòÑÏû¨ ÏãúÍ∞Ñ(${currentHour}Ïãú)ÏùÄ ÎèÑÏÑúÍ¥Ä Ïö¥ÏòÅÏãúÍ∞Ñ Ïô∏ÏûÖÎãàÎã§.`;\n    }\n    \n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // ÏòàÏïΩ Ï≤òÎ¶¨\n  const handleReserve = (bookId: string, libraryId: number, libraryName: string, libraryPhone: string, libraryHours: string = '', isAvailable: boolean) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    \n    let message = '';\n    if (isAvailable) {\n      message = `${libraryName}ÏóêÏÑú Ïù¥ ÎèÑÏÑúÎ•º ÏòàÏïΩÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;\n    } else {\n      message = `${libraryName}Ïóê ÎåÄÍ∏∞Ïã†Ï≤≠ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`;\n    }\n    \n    message += `\\n\\nüìû Ï†ÑÌôîÎ≤àÌò∏: ${libraryPhone}`;\n    if (libraryHours) {\n      message += `\\n‚è∞ Ïö¥ÏòÅÏãúÍ∞Ñ: ${libraryHours}`;\n    }\n    \n    if (!isOpen) {\n      message += `\\n\\n‚ö†Ô∏è ÌòÑÏû¨ ÏãúÍ∞ÑÏùÄ ÎèÑÏÑúÍ¥Ä Ïö¥ÏòÅÏãúÍ∞Ñ Ïô∏ÏûÖÎãàÎã§.`;\n      message += `\\nÏö¥ÏòÅÏãúÍ∞ÑÏóê Îã§Ïãú Ï†ÑÌôîÌï¥Ï£ºÏÑ∏Ïöî.`;\n    }\n    \n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      if (isAvailable) {\n        alert('ÏòàÏïΩ ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÎèÑÏÑúÍ¥ÄÏóê ÏßÅÏ†ë Ï†ÑÌôîÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.');\n      } else {\n        alert('ÎåÄÍ∏∞Ïã†Ï≤≠ ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÎèÑÏÑúÍ¥ÄÏóê ÏßÅÏ†ë Ï†ÑÌôîÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.');\n      }\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // Ïô∏Î∂Ä Í≤ÄÏÉâÏñ¥ Ï≤òÎ¶¨\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete]);\n\n  // Î∂ÄÎ™®ÏóêÏÑú Ï†ÑÎã¨Î∞õÏùÄ ÏßÄÏó≠ Ï†ïÎ≥¥ ÎèôÍ∏∞Ìôî\n  useEffect(() => {\n    if (parentSelectedRegion !== undefined) {\n      setSelectedRegion(parentSelectedRegion);\n    }\n  }, [parentSelectedRegion]);\n\n  // ÏßÄÏó≠ ÏÑ†ÌÉù Ï≤òÎ¶¨\n  useEffect(() => {\n    if (selectedRegion) {\n      const regionLibraries = generateLibrariesByRegion(selectedRegion);\n      setLibraries(regionLibraries);\n      \n      if (searchResults.length > 0) {\n        const updatedResults = searchResults.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(regionLibraries)\n        }));\n        setSearchResults(updatedResults);\n      }\n    }\n  }, [selectedRegion, searchResults]);\n\n  return (\n    <Container>\n      <SearchForm onSubmit={handleSearch}>\n        <SearchInputContainer>\n          <SearchInput\n            type=\"text\"\n            placeholder=\"Ï∞æÏúºÏãúÎäî ÎèÑÏÑúÎ™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî\"\n            value={searchTerm}\n            onChange={handleSearchInputChange}\n            onFocus={handleSearchInputFocus}\n            onBlur={handleAutocompleteClose}\n          />\n          {showAutocomplete && autocompleteItems.length > 0 && (\n            <AutocompleteDropdown>\n              {autocompleteItems.map((item, index) => (\n                <AutocompleteItemElement key={index} onClick={() => handleAutocompleteSelect(item)}>\n                  <span className=\"icon\">\n                    {item.type === 'recent' ? 'üïê' : item.type === 'popular' ? 'üî•' : 'üí°'}\n                  </span>\n                  <span className=\"text\">{item.text}</span>\n                  <span className=\"category\">{item.category}</span>\n                </AutocompleteItemElement>\n              ))}\n            </AutocompleteDropdown>\n          )}\n        </SearchInputContainer>\n        <SearchButton type=\"submit\" disabled={loading}>\n          {loading ? 'Í≤ÄÏÉâ Ï§ë...' : 'üîç Í≤ÄÏÉâ'}\n        </SearchButton>\n      </SearchForm>\n\n      <RegionSelector \n        onLibrariesUpdate={setLibraries} \n        selectedRegion={selectedRegion} \n        onRegionUpdate={(region) => {\n          setSelectedRegion(region);\n          if (onRegionUpdate) {\n            onRegionUpdate(region);\n          }\n        }} \n      />\n\n      <QuickSearchSection>\n        <QuickSearchTitle>Îπ†Î•∏ Í≤ÄÏÉâ</QuickSearchTitle>\n        <QuickSearchTags>\n          {quickSearchKeywords.map(keyword => (\n            <QuickSearchTag key={keyword} onClick={() => handleQuickSearch(keyword)}>\n              {keyword}\n            </QuickSearchTag>\n          ))}\n        </QuickSearchTags>\n      </QuickSearchSection>\n\n      {recentSearches.length > 0 && (\n        <QuickSearchSection>\n          <QuickSearchTitle>ÏµúÍ∑º Í≤ÄÏÉâÏñ¥</QuickSearchTitle>\n          <QuickSearchTags>\n            {recentSearches.slice(0, 8).map((search, index) => (\n              <QuickSearchTag key={index} onClick={() => handleQuickSearch(search)}>\n                üïê {search}\n              </QuickSearchTag>\n            ))}\n            {recentSearches.length > 0 && (\n              <QuickSearchTag \n                onClick={() => {\n                  setRecentSearches([]);\n                  localStorage.removeItem('recentSearches');\n                }}\n                style={{ background: '#ffebee', color: '#c62828', border: '1px solid #ffcdd2' }}\n              >\n                üóëÔ∏è Ï†ÑÏ≤¥ ÏÇ≠Ï†ú\n              </QuickSearchTag>\n            )}\n          </QuickSearchTags>\n        </QuickSearchSection>\n      )}\n\n      {apiStatus && (\n        <ApiStatus isError={!!apiError}>\n          {apiStatus}\n        </ApiStatus>\n      )}\n\n      {loading && (\n        <LoadingDiv>\n          üìö Ïã§Ï†ú ÎèÑÏÑúÍ¥Ä APIÏóêÏÑú Í≤ÄÏÉâÌïòÍ≥† ÏûàÏäµÎãàÎã§...\n        </LoadingDiv>\n      )}\n\n      {!loading && hasSearched && searchResults.length === 0 && (\n        <EmptyState>\n          <div className=\"emoji\">üìñ</div>\n          <div className=\"title\">Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§</div>\n          <div className=\"subtitle\">Îã§Î•∏ ÌÇ§ÏõåÎìúÎ°ú Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî</div>\n        </EmptyState>\n      )}\n\n      {!loading && searchResults.length > 0 && (\n        <SearchResults>\n          {searchResults.map((book) => (\n            <BookCard key={book.id}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' }}>\n                <BookTitle>{book.title}</BookTitle>\n                <button\n                  onClick={() => toggleBookmark(book.id)}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    color: isBookmarked(book.id) ? '#ff6b6b' : '#ccc',\n                    transition: 'color 0.3s'\n                  }}\n                  title={isBookmarked(book.id) ? 'Ï¶êÍ≤®Ï∞æÍ∏∞ Ìï¥Ï†ú' : 'Ï¶êÍ≤®Ï∞æÍ∏∞ Ï∂îÍ∞Ä'}\n                >\n                  {isBookmarked(book.id) ? '‚ù§Ô∏è' : 'ü§ç'}\n                </button>\n              </div>\n              <BookInfo>\n                <span>Ï†ÄÏûê: {book.author}</span>\n                <span>Ï∂úÌåêÏÇ¨: {book.publisher}</span>\n                <span>Ïπ¥ÌÖåÍ≥†Î¶¨: {book.category}</span>\n                <span>Ï∂úÍ∞ÑÎÖÑÎèÑ: {book.publishYear}</span>\n                {book.loanCount && <span>ÎåÄÏ∂ú ÌöüÏàò: {book.loanCount.toLocaleString()}Ìöå</span>}\n              </BookInfo>\n              \n              {book.description && (\n                <BookDescription>\n                  {book.description}\n                </BookDescription>\n              )}\n              \n              <AvailabilitySection>\n                <AvailabilityTitle>\n                  üìç {selectedRegion || 'Í≤ΩÍ∏∞ÎèÑ'} ÎèÑÏÑúÍ¥Ä ÏÜåÏû• ÌòÑÌô©\n                </AvailabilityTitle>\n                <LibraryList>\n                  {book.availability\n                    .sort((a, b) => {\n                      if (a.available && !b.available) return -1;\n                      if (!a.available && b.available) return 1;\n                      if (a.available && b.available) return a.waitingList - b.waitingList;\n                      return a.waitingList - b.waitingList;\n                    })\n                    .map((avail) => (\n                    <LibraryItem key={avail.libraryId}>\n                      <LibraryInfo>\n                        <div className=\"name\">\n                          {avail.available ? '‚úÖ ' : '‚è≥ '}\n                          {avail.libraryName}\n                        </div>\n                        <div className=\"address\">{avail.libraryAddress}</div>\n                        <div className=\"inventory\">\n                          üìö Ï¥ù {avail.totalBooks}Í∂å Î≥¥Ïú† | ÎåÄÏ∂ú Í∞ÄÎä•: {avail.availableBooks}Í∂å\n                        </div>\n                        <div className=\"inventory\">\n                          üìç ÏúÑÏπò: {avail.location}\n                        </div>\n                        <div className=\"phone\">{avail.libraryPhone}</div>\n                        {avail.libraryHours && <div className=\"hours\">‚è∞ {avail.libraryHours}</div>}\n                      </LibraryInfo>\n                      <ButtonGroup>\n                        <StatusButton\n                          className={avail.available ? 'available' : 'unavailable'}\n                          onClick={() => handleReserve(book.id, avail.libraryId, avail.libraryName, avail.libraryPhone, avail.libraryHours, avail.available)}\n                        >\n                          {avail.available ? '‚úì Î∞îÎ°ú ÏòàÏïΩ' : `üí§ ÎåÄÍ∏∞Ïã†Ï≤≠ (${avail.waitingList}Î™Ö)`}\n                        </StatusButton>\n                        <CallButton onClick={() => handleCall(avail.libraryName, avail.libraryPhone, avail.libraryHours)}>\n                          üìû Ï†ÑÌôîÌïòÍ∏∞\n                        </CallButton>\n                      </ButtonGroup>\n                    </LibraryItem>\n                  ))}\n                </LibraryList>\n              </AvailabilitySection>\n            </BookCard>\n          ))}\n        </SearchResults>\n      )}\n    </Container>\n  );\n};\n\nexport default BookSearchSection;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,cAAc,CAAEC,sBAAsB,KAAQ,wBAAwB,CAE/E;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,SAAS,CAAGR,MAAM,CAACS,GAAG;AAC5B;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGV,MAAM,CAACW,IAAI;AAC9B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAGZ,MAAM,CAACS,GAAG;AACvC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAI,WAAW,CAAGb,MAAM,CAACc,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAGf,MAAM,CAACS,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,uBAAuB,CAAGhB,MAAM,CAACS,GAAG;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAGjB,MAAM,CAACkB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAGnB,MAAM,CAACS,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAW,gBAAgB,CAAGpB,MAAM,CAACqB,EAAE;AAClC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGtB,MAAM,CAACS,GAAG;AAClC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,cAAc,CAAGvB,MAAM,CAACkB,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAM,UAAU,CAAGxB,MAAM,CAACS,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAgB,UAAU,CAAGzB,MAAM,CAACS,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAiB,aAAa,CAAG1B,MAAM,CAACS,GAAG;AAChC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAkB,QAAQ,CAAG3B,MAAM,CAACS,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmB,SAAS,CAAG5B,MAAM,CAAC6B,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG9B,MAAM,CAACS,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,eAAe,CAAG/B,MAAM,CAACgC,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,mBAAmB,CAAGjC,MAAM,CAACS,GAAG;AACtC;AACA;AACA,CAAC,CAED,KAAM,CAAAyB,iBAAiB,CAAGlC,MAAM,CAACqB,EAAE;AACnC;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,WAAW,CAAGnC,MAAM,CAACS,GAAG;AAC9B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA2B,WAAW,CAAGpC,MAAM,CAACS,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA4B,WAAW,CAAGrC,MAAM,CAACS,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA6B,WAAW,CAAGtC,MAAM,CAACS,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA8B,YAAY,CAAGvC,MAAM,CAACkB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,UAAU,CAAGxC,MAAM,CAACkB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAuB,SAAS,CAAGzC,MAAM,CAACS,GAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBiC,KAAK,EAAIA,KAAK,CAACC,OAAO,CAAG,SAAS,CAAG,SAAS;AAC9D,WAAWD,KAAK,EAAIA,KAAK,CAACC,OAAO,CAAG,SAAS,CAAG,SAAS;AACzD,sBAAsBD,KAAK,EAAIA,KAAK,CAACC,OAAO,CAAG,SAAS,CAAG,SAAS;AACpE,CAAC,CAED;AA+CA,KAAM,CAAAC,iBAAmD,CAAGC,IAAA,EAKtD,IALuD,CAC3DC,mBAAmB,CACnBC,wBAAwB,CACxBC,cAAc,CAAEC,oBAAoB,CACpCC,cACF,CAAC,CAAAL,IAAA,CACC,KAAM,CAACM,UAAU,CAAEC,aAAa,CAAC,CAAGtD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACuD,aAAa,CAAEC,gBAAgB,CAAC,CAAGxD,QAAQ,CAAS,EAAE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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}