{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qoo\\\\Desktop\\\\zziyoonii\\\\senior\\\\src\\\\components\\\\BookSearchSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { searchBooksAPI, fetchPopularBooks, LibraryAPIService } from '../services/LibraryAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  \n  @media (max-width: 768px) {\n    padding: 15px;\n  }\n`;\n_c = Container;\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 12px;\n  }\n`;\n_c2 = SearchForm;\nconst SearchInput = styled.input`\n  flex: 1;\n  padding: 15px 20px;\n  border: 2px solid #e8e8e8;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #ffffff;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #4CAF50;\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #999;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 12px 16px;\n    font-size: 14px;\n  }\n`;\n_c3 = SearchInput;\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #388e3c;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 12px 24px;\n    font-size: 14px;\n  }\n`;\n_c4 = SearchButton;\nconst RegionSelectorContainer = styled.div`\n  margin-bottom: 20px;\n`;\n_c5 = RegionSelectorContainer;\nconst SearchResults = styled.div`\n  margin-top: 30px;\n`;\n_c6 = SearchResults;\nconst BookCard = styled.div`\n  background: white;\n  border: 2px solid #e8e8e8;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n`;\n_c7 = BookCard;\nconst BookTitle = styled.h3`\n  margin: 0 0 8px 0;\n  color: #2c3e50;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 1.4;\n`;\n_c8 = BookTitle;\nconst BookInfo = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  margin-bottom: 15px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  span {\n    font-size: 14px;\n    color: #7f8c8d;\n    \n    &:before {\n      content: \"• \";\n      color: #4CAF50;\n      font-weight: bold;\n    }\n    \n    &:first-child:before {\n      content: \"\";\n    }\n  }\n`;\n_c9 = BookInfo;\nconst LibraryList = styled.div`\n  margin-top: 15px;\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n`;\n_c0 = LibraryList;\nconst LibraryItem = styled.div`\n  background: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  padding: 15px;\n  margin-bottom: 10px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n_c1 = LibraryItem;\nconst LibraryName = styled.div`\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 8px;\n  font-size: 16px;\n`;\n_c10 = LibraryName;\nconst LibraryDetails = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n  font-size: 14px;\n  color: #555;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n_c11 = LibraryDetails;\nconst AvailabilityBadge = styled.span`\n  display: inline-block;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  background: ${props => props.available ? '#d4edda' : '#f8d7da'};\n  color: ${props => props.available ? '#155724' : '#721c24'};\n  border: 1px solid ${props => props.available ? '#c3e6cb' : '#f5c6cb'};\n`;\n_c12 = AvailabilityBadge;\nconst LoadingDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 40px;\n  color: #7f8c8d;\n  font-size: 16px;\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #4CAF50;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n_c13 = LoadingDiv;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #7f8c8d;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    color: #2c3e50;\n  }\n  \n  .subtitle {\n    font-size: 14px;\n    line-height: 1.5;\n  }\n`;\n_c14 = EmptyState;\nconst ApiStatus = styled.div`\n  font-size: 12px;\n  color: ${props => props.isError ? '#dc3545' : '#6c757d'};\n  text-align: center;\n  margin-bottom: 10px;\n  padding: 5px 10px;\n  background: ${props => props.isError ? '#f8d7da' : '#f8f9fa'};\n  border-radius: 4px;\n  border: 1px solid ${props => props.isError ? '#f5c6cb' : '#e9ecef'};\n`;\n_c15 = ApiStatus;\nconst BookSearchSection = ({\n  externalSearchQuery,\n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [apiError, setApiError] = useState(null);\n\n  // LibraryAPIService 인스턴스 생성\n  const libraryAPIService = new LibraryAPIService({\n    baseURL: 'http://data4library.kr/api',\n    apiKey: process.env.REACT_APP_LIBRARY_API_KEY || '8b62aa70e514468596e9324d064d582d'\n  });\n\n  // 지역이 변경될 때 부모에게 알림\n  // 실제 소장 정보를 가져오는 함수\n  const getRealLibraryAvailability = useCallback(async isbn => {\n    try {\n      const availability = await libraryAPIService.getBookAvailability(isbn);\n      return availability;\n    } catch (error) {\n      console.error('소장 정보 조회 실패:', error);\n      return [];\n    }\n  }, []);\n\n  // 실제 API 데이터만 사용하도록 수정\n  const generateLibrariesFromRealData = useCallback(realAvailability => {\n    if (!realAvailability || realAvailability.length === 0) {\n      return [];\n    }\n    return realAvailability.map((lib, index) => ({\n      id: lib.libraryId || `lib_${index}`,\n      name: lib.libraryName || '도서관명 없음',\n      address: '주소 정보 없음',\n      // 실제 API에서 주소 정보를 가져올 수 있다면 사용\n      phone: '전화번호 없음',\n      hours: '09:00-18:00',\n      available: lib.available || false,\n      totalBooks: lib.available ? 1 : 0,\n      availableBooks: lib.available ? 1 : 0,\n      waitingList: lib.available ? 0 : 1,\n      callNumber: lib.callNumber || '청구기호 없음'\n    }));\n  }, []);\n\n  // 더미 함수는 제거하고 실제 API 데이터만 사용\n  const generateLibrariesForRegion = useCallback(region => {\n    const regionLibraries = {\n      '경기도': [\n      // 수원시 도서관\n      {\n        id: '1',\n        name: '경기도립중앙도서관',\n        address: '수원시 영통구 월드컵로 235',\n        phone: '031-249-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '2',\n        name: '수원시립중앙도서관',\n        address: '수원시 영통구 광교로 183',\n        phone: '031-228-4300',\n        hours: '09:00-22:00'\n      }, {\n        id: '3',\n        name: '영통구립도서관',\n        address: '수원시 영통구 영통동 999-1',\n        phone: '031-228-4350',\n        hours: '09:00-20:00'\n      }, {\n        id: '4',\n        name: '광교도서관',\n        address: '수원시 영통구 광교동 1271',\n        phone: '031-228-4370',\n        hours: '09:00-20:00'\n      }, {\n        id: '5',\n        name: '팔달구립도서관',\n        address: '수원시 팔달구 팔달로 123',\n        phone: '031-267-3456',\n        hours: '09:00-18:00'\n      }, {\n        id: '6',\n        name: '장안구립도서관',\n        address: '수원시 장안구 장안로 456',\n        phone: '031-267-7890',\n        hours: '09:00-18:00'\n      }, {\n        id: '7',\n        name: '권선구립도서관',\n        address: '수원시 권선구 권선로 789',\n        phone: '031-267-2345',\n        hours: '09:00-18:00'\n      },\n      // 성남시 도서관\n      {\n        id: '8',\n        name: '성남시립중앙도서관',\n        address: '성남시 분당구 양현로 346',\n        phone: '031-729-4600',\n        hours: '09:00-18:00'\n      }, {\n        id: '9',\n        name: '분당도서관',\n        address: '성남시 분당구 불정로 90',\n        phone: '031-710-3000',\n        hours: '09:00-20:00'\n      }, {\n        id: '10',\n        name: '판교도서관',\n        address: '성남시 분당구 판교역로 146',\n        phone: '031-729-4700',\n        hours: '09:00-20:00'\n      }, {\n        id: '11',\n        name: '서현도서관',\n        address: '성남시 분당구 서현동 263',\n        phone: '031-729-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '12',\n        name: '중원구립도서관',\n        address: '성남시 중원구 성남대로 997',\n        phone: '031-729-4900',\n        hours: '09:00-18:00'\n      }, {\n        id: '13',\n        name: '수정구립도서관',\n        address: '성남시 수정구 수정로 157',\n        phone: '031-729-5000',\n        hours: '09:00-18:00'\n      }, {\n        id: '14',\n        name: '태평동 작은도서관',\n        address: '성남시 수정구 태평동 6100',\n        phone: '031-729-5100',\n        hours: '10:00-18:00'\n      },\n      // 고양시 도서관\n      {\n        id: '15',\n        name: '고양시립중앙도서관',\n        address: '고양시 덕양구 고양대로 1955',\n        phone: '031-8075-9300',\n        hours: '09:00-18:00'\n      }, {\n        id: '16',\n        name: '일산도서관',\n        address: '고양시 일산동구 중앙로 1275',\n        phone: '031-8075-9400',\n        hours: '09:00-20:00'\n      }, {\n        id: '17',\n        name: '식사도서관',\n        address: '고양시 일산동구 식사동 142',\n        phone: '031-8075-9500',\n        hours: '09:00-20:00'\n      }, {\n        id: '18',\n        name: '주엽도서관',\n        address: '고양시 일산서구 주엽동 115',\n        phone: '031-8075-9600',\n        hours: '09:00-20:00'\n      }, {\n        id: '19',\n        name: '탄현도서관',\n        address: '고양시 일산서구 탄현동 1616',\n        phone: '031-8075-9700',\n        hours: '09:00-18:00'\n      }, {\n        id: '20',\n        name: '덕양구립도서관',\n        address: '고양시 덕양구 화정동 968',\n        phone: '031-8075-9800',\n        hours: '09:00-18:00'\n      }, {\n        id: '21',\n        name: '행신도서관',\n        address: '고양시 덕양구 행신동 615',\n        phone: '031-8075-9900',\n        hours: '10:00-18:00'\n      },\n      // 용인시 도서관\n      {\n        id: '22',\n        name: '용인시립중앙도서관',\n        address: '용인시 처인구 중부대로 1199',\n        phone: '031-324-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '23',\n        name: '기흥도서관',\n        address: '용인시 기흥구 중부대로 1174',\n        phone: '031-324-4900',\n        hours: '09:00-20:00'\n      }, {\n        id: '24',\n        name: '서농도서관',\n        address: '용인시 기흥구 서천동 588',\n        phone: '031-324-5000',\n        hours: '09:00-20:00'\n      }, {\n        id: '25',\n        name: '수지도서관',\n        address: '용인시 수지구 수지로 63',\n        phone: '031-324-5100',\n        hours: '09:00-20:00'\n      }, {\n        id: '26',\n        name: '풍덕천도서관',\n        address: '용인시 수지구 풍덕천동 1286',\n        phone: '031-324-5200',\n        hours: '09:00-18:00'\n      }, {\n        id: '27',\n        name: '상현도서관',\n        address: '용인시 수지구 상현동 542',\n        phone: '031-324-5300',\n        hours: '09:00-20:00'\n      }, {\n        id: '28',\n        name: '죽전도서관',\n        address: '용인시 수지구 죽전동 1258',\n        phone: '031-324-5400',\n        hours: '09:00-18:00'\n      }, {\n        id: '29',\n        name: '보정도서관',\n        address: '용인시 수지구 보정동 1157',\n        phone: '031-324-5500',\n        hours: '09:00-18:00'\n      }, {\n        id: '30',\n        name: '마북도서관',\n        address: '용인시 기흥구 마북동 530',\n        phone: '031-324-5600',\n        hours: '09:00-18:00'\n      }, {\n        id: '31',\n        name: '동백도서관',\n        address: '용인시 기흥구 동백동 631',\n        phone: '031-324-5700',\n        hours: '09:00-20:00'\n      }, {\n        id: '32',\n        name: '구성도서관',\n        address: '용인시 수지구 구성동 194',\n        phone: '031-324-5800',\n        hours: '09:00-18:00'\n      }, {\n        id: '33',\n        name: '처인구립도서관',\n        address: '용인시 처인구 삼가동 234',\n        phone: '031-324-5900',\n        hours: '09:00-18:00'\n      }],\n      '수원시': [\n      // 중앙도서관\n      {\n        id: '1',\n        name: '경기도립중앙도서관',\n        address: '수원시 영통구 월드컵로 235',\n        phone: '031-249-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '2',\n        name: '수원시립중앙도서관',\n        address: '수원시 영통구 광교로 183',\n        phone: '031-228-4300',\n        hours: '09:00-22:00'\n      },\n      // 구/동 단위 도서관\n      {\n        id: '3',\n        name: '영통구립도서관',\n        address: '수원시 영통구 영통동 999-1',\n        phone: '031-228-4350',\n        hours: '09:00-20:00'\n      }, {\n        id: '4',\n        name: '광교도서관',\n        address: '수원시 영통구 광교동 1271',\n        phone: '031-228-4370',\n        hours: '09:00-20:00'\n      }, {\n        id: '5',\n        name: '팔달구립도서관',\n        address: '수원시 팔달구 팔달로 123',\n        phone: '031-267-3456',\n        hours: '09:00-18:00'\n      }, {\n        id: '6',\n        name: '장안구립도서관',\n        address: '수원시 장안구 장안로 456',\n        phone: '031-267-7890',\n        hours: '09:00-18:00'\n      }, {\n        id: '7',\n        name: '권선구립도서관',\n        address: '수원시 권선구 권선로 789',\n        phone: '031-267-2345',\n        hours: '09:00-18:00'\n      }],\n      '성남시': [\n      // 중앙도서관\n      {\n        id: '8',\n        name: '성남시립중앙도서관',\n        address: '성남시 분당구 양현로 346',\n        phone: '031-729-4600',\n        hours: '09:00-18:00'\n      }, {\n        id: '9',\n        name: '분당도서관',\n        address: '성남시 분당구 불정로 90',\n        phone: '031-710-3000',\n        hours: '09:00-20:00'\n      },\n      // 구/동 단위 도서관\n      {\n        id: '10',\n        name: '판교도서관',\n        address: '성남시 분당구 판교역로 146',\n        phone: '031-729-4700',\n        hours: '09:00-20:00'\n      }, {\n        id: '11',\n        name: '서현도서관',\n        address: '성남시 분당구 서현동 263',\n        phone: '031-729-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '12',\n        name: '중원구립도서관',\n        address: '성남시 중원구 성남대로 997',\n        phone: '031-729-4900',\n        hours: '09:00-18:00'\n      }, {\n        id: '13',\n        name: '수정구립도서관',\n        address: '성남시 수정구 수정로 157',\n        phone: '031-729-5000',\n        hours: '09:00-18:00'\n      }, {\n        id: '14',\n        name: '태평동 작은도서관',\n        address: '성남시 수정구 태평동 6100',\n        phone: '031-729-5100',\n        hours: '10:00-18:00'\n      }],\n      '고양시': [\n      // 중앙도서관\n      {\n        id: '15',\n        name: '고양시립중앙도서관',\n        address: '고양시 덕양구 고양대로 1955',\n        phone: '031-8075-9300',\n        hours: '09:00-18:00'\n      }, {\n        id: '16',\n        name: '일산도서관',\n        address: '고양시 일산동구 중앙로 1275',\n        phone: '031-8075-9400',\n        hours: '09:00-20:00'\n      },\n      // 구/동 단위 도서관\n      {\n        id: '17',\n        name: '식사도서관',\n        address: '고양시 일산동구 식사동 142',\n        phone: '031-8075-9500',\n        hours: '09:00-20:00'\n      }, {\n        id: '18',\n        name: '주엽도서관',\n        address: '고양시 일산서구 주엽동 115',\n        phone: '031-8075-9600',\n        hours: '09:00-20:00'\n      }, {\n        id: '19',\n        name: '탄현도서관',\n        address: '고양시 일산서구 탄현동 1616',\n        phone: '031-8075-9700',\n        hours: '09:00-18:00'\n      }, {\n        id: '20',\n        name: '덕양구립도서관',\n        address: '고양시 덕양구 화정동 968',\n        phone: '031-8075-9800',\n        hours: '09:00-18:00'\n      }, {\n        id: '21',\n        name: '행신도서관',\n        address: '고양시 덕양구 행신동 615',\n        phone: '031-8075-9900',\n        hours: '10:00-18:00'\n      }],\n      '용인시': [\n      // 중앙도서관\n      {\n        id: '22',\n        name: '용인시립중앙도서관',\n        address: '용인시 처인구 중부대로 1199',\n        phone: '031-324-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '23',\n        name: '기흥도서관',\n        address: '용인시 기흥구 중부대로 1174',\n        phone: '031-324-4900',\n        hours: '09:00-20:00'\n      },\n      // 구/동 단위 도서관 (사용자 요청 - 서농도서관 포함)\n      {\n        id: '24',\n        name: '서농도서관',\n        address: '용인시 기흥구 서천동 588',\n        phone: '031-324-5000',\n        hours: '09:00-20:00'\n      }, {\n        id: '25',\n        name: '수지도서관',\n        address: '용인시 수지구 수지로 63',\n        phone: '031-324-5100',\n        hours: '09:00-20:00'\n      }, {\n        id: '26',\n        name: '풍덕천도서관',\n        address: '용인시 수지구 풍덕천동 1286',\n        phone: '031-324-5200',\n        hours: '09:00-18:00'\n      }, {\n        id: '27',\n        name: '상현도서관',\n        address: '용인시 수지구 상현동 542',\n        phone: '031-324-5300',\n        hours: '09:00-20:00'\n      }, {\n        id: '28',\n        name: '죽전도서관',\n        address: '용인시 수지구 죽전동 1258',\n        phone: '031-324-5400',\n        hours: '09:00-18:00'\n      }, {\n        id: '29',\n        name: '보정도서관',\n        address: '용인시 수지구 보정동 1157',\n        phone: '031-324-5500',\n        hours: '09:00-18:00'\n      }, {\n        id: '30',\n        name: '마북도서관',\n        address: '용인시 기흥구 마북동 530',\n        phone: '031-324-5600',\n        hours: '09:00-18:00'\n      }, {\n        id: '31',\n        name: '동백도서관',\n        address: '용인시 기흥구 동백동 631',\n        phone: '031-324-5700',\n        hours: '09:00-20:00'\n      }, {\n        id: '32',\n        name: '구성도서관',\n        address: '용인시 수지구 구성동 194',\n        phone: '031-324-5800',\n        hours: '09:00-18:00'\n      }, {\n        id: '33',\n        name: '처인구립도서관',\n        address: '용인시 처인구 삼가동 234',\n        phone: '031-324-5900',\n        hours: '09:00-18:00'\n      }],\n      // 용인시 구별 세분화\n      '기흥구': [{\n        id: '23',\n        name: '기흥도서관',\n        address: '용인시 기흥구 중부대로 1174',\n        phone: '031-324-4900',\n        hours: '09:00-20:00'\n      }, {\n        id: '24',\n        name: '서농도서관',\n        address: '용인시 기흥구 서천동 588',\n        phone: '031-324-5000',\n        hours: '09:00-20:00'\n      }, {\n        id: '30',\n        name: '마북도서관',\n        address: '용인시 기흥구 마북동 530',\n        phone: '031-324-5600',\n        hours: '09:00-18:00'\n      }, {\n        id: '31',\n        name: '동백도서관',\n        address: '용인시 기흥구 동백동 631',\n        phone: '031-324-5700',\n        hours: '09:00-20:00'\n      }],\n      '수지구': [{\n        id: '25',\n        name: '수지도서관',\n        address: '용인시 수지구 수지로 63',\n        phone: '031-324-5100',\n        hours: '09:00-20:00'\n      }, {\n        id: '26',\n        name: '풍덕천도서관',\n        address: '용인시 수지구 풍덕천동 1286',\n        phone: '031-324-5200',\n        hours: '09:00-18:00'\n      }, {\n        id: '27',\n        name: '상현도서관',\n        address: '용인시 수지구 상현동 542',\n        phone: '031-324-5300',\n        hours: '09:00-20:00'\n      }, {\n        id: '28',\n        name: '죽전도서관',\n        address: '용인시 수지구 죽전동 1258',\n        phone: '031-324-5400',\n        hours: '09:00-18:00'\n      }, {\n        id: '29',\n        name: '보정도서관',\n        address: '용인시 수지구 보정동 1157',\n        phone: '031-324-5500',\n        hours: '09:00-18:00'\n      }, {\n        id: '32',\n        name: '구성도서관',\n        address: '용인시 수지구 구성동 194',\n        phone: '031-324-5800',\n        hours: '09:00-18:00'\n      }],\n      '처인구': [{\n        id: '22',\n        name: '용인시립중앙도서관',\n        address: '용인시 처인구 중부대로 1199',\n        phone: '031-324-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: '33',\n        name: '처인구립도서관',\n        address: '용인시 처인구 삼가동 234',\n        phone: '031-324-5900',\n        hours: '09:00-18:00'\n      }]\n    };\n\n    // 지역명에 따른 도서관 선택\n    let libraries = regionLibraries[region];\n\n    // 정확한 지역명이 없으면 포함된 단어로 검색\n    if (!libraries) {\n      const regionLower = region.toLowerCase();\n      if (regionLower.includes('경기도') || regionLower.includes('경기')) {\n        libraries = regionLibraries['경기도'];\n      } else if (regionLower.includes('기흥')) {\n        libraries = regionLibraries['기흥구'];\n      } else if (regionLower.includes('수지')) {\n        libraries = regionLibraries['수지구'];\n      } else if (regionLower.includes('처인')) {\n        libraries = regionLibraries['처인구'];\n      } else if (regionLower.includes('용인')) {\n        libraries = regionLibraries['용인시'];\n      } else if (regionLower.includes('수원')) {\n        libraries = regionLibraries['수원시'];\n      } else if (regionLower.includes('성남')) {\n        libraries = regionLibraries['성남시'];\n      } else if (regionLower.includes('고양')) {\n        libraries = regionLibraries['고양시'];\n      } else {\n        // 기본값으로 경기도 전체 사용\n        libraries = regionLibraries['경기도'];\n      }\n    }\n    return libraries.map((lib, index) => {\n      // 각 도서관별로 일관된 패턴 생성 (도서관 ID 기반)\n      const libraryId = parseInt(lib.id);\n      const seed = (libraryId * 17 + index) % 100; // 일관된 시드값 생성\n\n      // 도서관 크기에 따른 소장량 (중앙도서관 > 구립도서관 > 작은도서관)\n      const isMainLibrary = lib.name.includes('중앙') || lib.name.includes('시립');\n      const isDistrictLibrary = lib.name.includes('구립') || lib.name.includes('도서관');\n      let totalBooks, availableBooks, waitingList;\n      if (isMainLibrary) {\n        totalBooks = Math.floor(seed / 10) + 8; // 8-18권\n        availableBooks = Math.floor(seed / 15) + 2; // 2-8권\n        waitingList = Math.floor(seed / 20) + 1; // 1-6명\n      } else if (isDistrictLibrary) {\n        totalBooks = Math.floor(seed / 15) + 5; // 5-11권\n        availableBooks = Math.floor(seed / 20) + 1; // 1-6권\n        waitingList = Math.floor(seed / 25); // 0-4명\n      } else {\n        totalBooks = Math.floor(seed / 20) + 3; // 3-8권\n        availableBooks = Math.floor(seed / 25) + 1; // 1-5권\n        waitingList = Math.floor(seed / 30); // 0-3명\n      }\n\n      // KDC(한국십진분류법) 기반 청구기호 생성\n      const sections = ['문학', '인문', '사회과학', '자연과학', '예술', '역사', '철학', '종교'];\n\n      // 카테고리에 따른 KDC 분류 매핑\n      const categoryToKDC = {\n        '문학': '8',\n        '인문': '1',\n        '사회과학': '3',\n        '자연과학': '5',\n        '예술': '7',\n        '역사': '9',\n        '철학': '1',\n        '종교': '2',\n        '기술': '6',\n        '언어': '4',\n        '일반': '0'\n      };\n      const sectionName = sections[seed % sections.length];\n      const kdcMain = categoryToKDC[sectionName] || '8';\n      const kdcSub = String(seed % 9 + 1).padStart(1, '0');\n      const kdcDetail = String(seed % 9 + 1).padStart(1, '0');\n\n      // 저자명에서 첫 글자 추출 (가상의 저자명 생성)\n      const authorInitials = ['김', '이', '박', '최', '정', '강', '조', '윤', '장', '임'];\n      const authorCode = authorInitials[seed % authorInitials.length];\n      const authorNumber = String(seed % 99 + 1).padStart(2, '0');\n\n      // 제목 첫 글자 (가상)\n      const titleInitials = ['ㄱ', 'ㄴ', 'ㄷ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅅ', 'ㅇ', 'ㅈ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];\n      const titleCode = titleInitials[seed % titleInitials.length];\n      const callNumber = `${kdcMain}${kdcSub}${kdcDetail}.${kdcSub} ${authorCode}${authorNumber}${titleCode}`;\n      return {\n        ...lib,\n        available: availableBooks > 0,\n        totalBooks,\n        availableBooks,\n        waitingList,\n        callNumber: callNumber // 청구기호\n      };\n    });\n  }, []);\n  const performSearch = useCallback(async query => {\n    // 지역이 선택되지 않았으면 기본값으로 '경기도'를 사용\n    const searchRegion = selectedRegion && selectedRegion.trim() !== '' ? selectedRegion : '경기도';\n    console.log('🔍 ===== 도서 검색 시작 =====');\n    console.log('검색어:', query);\n    console.log('선택된 지역:', selectedRegion);\n    console.log('사용할 지역:', searchRegion);\n    setIsLoading(true);\n    setHasSearched(true);\n    setApiError(null);\n    try {\n      console.log('🔍 도서 검색:', query, '지역:', searchRegion);\n\n      // 실제 API 검색 시도\n      const apiResults = await searchBooksAPI(query, 1, 10);\n      console.log('API 검색 결과:', apiResults);\n      if (apiResults.length > 0) {\n        console.log('✅ API 검색 성공:', apiResults);\n\n        // 각 도서에 대해 실제 소장 정보와 지역 도서관 정보 추가\n        const booksWithLibraries = await Promise.all(apiResults.map(async book => {\n          // 실제 소장 정보 조회\n          const realAvailability = await getRealLibraryAvailability(book.isbn);\n\n          // 실제 API 데이터만 사용\n          const libraries = generateLibrariesFromRealData(realAvailability);\n          if (libraries.length > 0) {\n            console.log(`📚 ${book.title} 실제 소장 정보:`, realAvailability);\n            return {\n              ...book,\n              libraries: libraries\n            };\n          }\n\n          // 실제 소장 정보가 없으면 안내 메시지 포함\n          return {\n            ...book,\n            libraries: [{\n              id: 'no_library',\n              name: '소장 중인 도서관이 없습니다',\n              address: '실제 소장 정보를 확인하려면 도서관에 문의하세요',\n              phone: '',\n              hours: '',\n              available: false,\n              totalBooks: 0,\n              availableBooks: 0,\n              waitingList: 0,\n              callNumber: '청구기호 없음'\n            }]\n          };\n        }));\n        console.log('최종 검색 결과:', booksWithLibraries);\n        setSearchResults(booksWithLibraries);\n        setApiError(null);\n        return;\n      }\n\n      // API 결과가 없으면 인기도서에서 검색\n      console.log('🔄 인기도서에서 검색 중...');\n      const popularBooks = await fetchPopularBooks();\n      console.log('인기도서 목록:', popularBooks);\n      const matchingPopularBooks = popularBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()));\n      console.log('매칭된 인기도서:', matchingPopularBooks);\n      if (matchingPopularBooks.length > 0) {\n        console.log('✅ 인기도서에서 발견:', matchingPopularBooks);\n\n        // 인기도서에 대해서도 실제 소장 정보 조회\n        const booksWithLibraries = await Promise.all(matchingPopularBooks.map(async book => {\n          // 실제 소장 정보 조회\n          const realAvailability = await getRealLibraryAvailability(book.isbn);\n\n          // 실제 API 데이터만 사용\n          const libraries = generateLibrariesFromRealData(realAvailability);\n          if (libraries.length > 0) {\n            console.log(`📚 ${book.title} 실제 소장 정보:`, realAvailability);\n            return {\n              id: book.id,\n              title: book.title,\n              author: book.author,\n              publisher: book.publisher,\n              isbn: book.isbn,\n              category: book.category,\n              publishYear: book.publishYear,\n              libraries: libraries\n            };\n          }\n\n          // 실제 소장 정보가 없으면 안내 메시지 포함\n          return {\n            id: book.id,\n            title: book.title,\n            author: book.author,\n            publisher: book.publisher,\n            isbn: book.isbn,\n            category: book.category,\n            publishYear: book.publishYear,\n            libraries: [{\n              id: 'no_library',\n              name: '소장 중인 도서관이 없습니다',\n              address: '실제 소장 정보를 확인하려면 도서관에 문의하세요',\n              phone: '',\n              hours: '',\n              available: false,\n              totalBooks: 0,\n              availableBooks: 0,\n              waitingList: 0,\n              callNumber: '청구기호 없음'\n            }]\n          };\n        }));\n        console.log('최종 검색 결과:', booksWithLibraries);\n        setSearchResults(booksWithLibraries);\n        setApiError(null); // 에러 메시지 제거\n      } else {\n        console.log('⚠️ 검색 결과 없음');\n        setSearchResults([]);\n        setApiError('검색하신 도서를 찾을 수 없습니다. 다른 검색어를 시도해보세요.');\n      }\n    } catch (error) {\n      console.error('❌ 검색 오류:', error);\n      setApiError('❌ API 호출에 실패했습니다. 네트워크 연결을 확인해주세요.');\n\n      // 오류 발생 시 인기도서에서 검색 시도\n      try {\n        console.log('🔄 오류 발생, 인기도서에서 검색 시도...');\n        const popularBooks = await fetchPopularBooks();\n        const matchingPopularBooks = popularBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()));\n        if (matchingPopularBooks.length > 0) {\n          const libraries = generateLibrariesForRegion(searchRegion);\n          const booksWithLibraries = matchingPopularBooks.map(book => ({\n            id: book.id,\n            title: book.title,\n            author: book.author,\n            publisher: book.publisher,\n            isbn: book.isbn,\n            category: book.category,\n            publishYear: book.publishYear,\n            libraries: libraries\n          }));\n          setSearchResults(booksWithLibraries);\n          setApiError('⚠️ API 연결 문제로 인기도서에서 검색결과를 표시합니다.');\n        } else {\n          setSearchResults([]);\n        }\n      } catch (fallbackError) {\n        console.error('❌ 인기도서 검색도 실패:', fallbackError);\n        setSearchResults([]);\n      }\n    } finally {\n      setIsLoading(false);\n      console.log('🔍 ===== 도서 검색 완료 =====');\n    }\n  }, [selectedRegion, generateLibrariesForRegion]);\n\n  // 외부에서 검색어가 전달된 경우 처리\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete, performSearch]);\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      performSearch(searchTerm.trim());\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n        type: \"text\",\n        placeholder: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uB3C4\\uC11C\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694 (\\uC608: \\uBBF8\\uC6C0\\uBC1B\\uC744 \\uC6A9\\uAE30, \\uB2EC\\uACFC 6\\uD39C\\uC2A4)\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? '검색 중...' : '🔍 검색'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RegionSelectorContainer, {\n      children: /*#__PURE__*/_jsxDEV(RegionSelector, {\n        selectedRegion: selectedRegion,\n        onRegionUpdate: region => {\n          console.log('🗺️ RegionSelector에서 지역 변경:', region);\n          setSelectedRegion(region);\n          // 상태 초기화\n          setSearchResults([]);\n          setApiError(null);\n          setHasSearched(false);\n          setIsLoading(false);\n\n          // 기존 도서명이 있으면 자동으로 재검색\n          if (searchTerm.trim()) {\n            console.log('📚 기존 도서명이 있어서 자동 재검색:', searchTerm);\n            performSearch(searchTerm.trim());\n          }\n        },\n        onLibrariesUpdate: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 7\n    }, this), apiError && /*#__PURE__*/_jsxDEV(ApiStatus, {\n      isError: true,\n      children: [\"\\u26A0\\uFE0F \", apiError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingDiv, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: [\"\\\"\", searchTerm, \"\\\" \\uAC80\\uC0C9 \\uC911...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 9\n    }, this), !isLoading && hasSearched && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(EmptyState, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emoji\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [\"\\\"\", searchTerm, \"\\\"\\uC5D0 \\uB300\\uD55C \\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        children: [\"\\u2022 \\uAC80\\uC0C9\\uB41C \\uB3C4\\uC11C\\uAC00 \\uC5C6\\uAC70\\uB098 \\uD574\\uB2F9 \\uC9C0\\uC5ED\\uC5D0 \\uC18C\\uC7A5\\uC911\\uC778 \\uB3C4\\uC11C\\uAD00\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 48\n        }, this), \"\\u2022 \\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uB2E4\\uC2DC \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 32\n        }, this), \"\\u2022 \\uC608: \\\"\\uD574\\uB9AC\\uD3EC\\uD130\\\", \\\"\\uBB34\\uB77C\\uCE74\\uBBF8 \\uD558\\uB8E8\\uD0A4\\\", \\\"\\uC790\\uAE30\\uACC4\\uBC1C\\\" \\uB4F1\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 9\n    }, this), !isLoading && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(SearchResults, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '20px',\n          color: '#4CAF50',\n          fontWeight: 'bold',\n          fontSize: '16px'\n        },\n        children: [\"\\uD83D\\uDCDA \\\"\", searchTerm, \"\\\" \\uAC80\\uC0C9 \\uACB0\\uACFC \", searchResults.length, \"\\uAD8C (\", selectedRegion && selectedRegion.trim() !== '' ? selectedRegion : '경기도', \" \\uC9C0\\uC5ED)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 11\n      }, this), searchResults.map((book, index) => /*#__PURE__*/_jsxDEV(BookCard, {\n        children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(BookInfo, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uC800\\uC790: \", book.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uD310\\uC0AC: \", book.publisher]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCE74\\uD14C\\uACE0\\uB9AC: \", book.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uAC04\\uB144\\uB3C4: \", book.publishYear, \"\\uB144\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 17\n          }, this), book.isbn && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"ISBN: \", book.isbn]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(LibraryList, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: '600',\n              marginBottom: '10px',\n              color: '#2c3e50',\n              fontSize: '15px'\n            },\n            children: [\"\\uD83D\\uDCCD \", selectedRegion, \" \\uB3C4\\uC11C\\uAD00 \\uC18C\\uC7A5 \\uD604\\uD669\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 17\n          }, this), book.libraries.map(library => /*#__PURE__*/_jsxDEV(LibraryItem, {\n            children: [/*#__PURE__*/_jsxDEV(LibraryName, {\n              children: [/*#__PURE__*/_jsxDEV(AvailabilityBadge, {\n                available: library.available,\n                children: library.available ? '✅ 대출가능' : '❌ 대출중'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 23\n              }, this), ' ', library.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(LibraryDetails, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDCCD \", library.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDCDE \", library.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDD50 \", library.hours]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDCDA \\uC18C\\uC7A5: \", library.totalBooks, \"\\uAD8C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2705 \\uB300\\uCD9C\\uAC00\\uB2A5: \", library.availableBooks, \"\\uAD8C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u23F3 \\uB300\\uAE30: \", library.waitingList, \"\\uBA85\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83C\\uDFF7\\uFE0F \\uCCAD\\uAD6C\\uAE30\\uD638: \", library.callNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#666',\n                  marginTop: '5px'\n                },\n                children: \"\\uD83D\\uDCA1 \\uCCAD\\uAD6C\\uAE30\\uD638\\uB85C \\uB3C4\\uC11C\\uAD00\\uC5D0\\uC11C \\uCC45\\uC744 \\uCC3E\\uC73C\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#999',\n                  marginTop: '3px',\n                  fontStyle: 'italic'\n                },\n                children: \"\\uD83D\\uDCCB \\uC2E4\\uC81C \\uC18C\\uC7A5 \\uD604\\uD669\\uC740 \\uB3C4\\uC11C\\uAD00\\uC5D0 \\uBB38\\uC758\\uD558\\uC2DC\\uAC70\\uB098 \\uC628\\uB77C\\uC778 \\uB3C4\\uC11C\\uAD00 \\uD648\\uD398\\uC774\\uC9C0\\uB97C \\uD655\\uC778\\uD558\\uC138\\uC694\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 21\n            }, this)]\n          }, library.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 15\n        }, this)]\n      }, book.id || index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 814,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 753,\n    columnNumber: 5\n  }, this);\n};\n_s(BookSearchSection, \"fL0XftptRA37w9BPqOvEsNceuas=\");\n_c16 = BookSearchSection;\nexport default BookSearchSection;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SearchForm\");\n$RefreshReg$(_c3, \"SearchInput\");\n$RefreshReg$(_c4, \"SearchButton\");\n$RefreshReg$(_c5, \"RegionSelectorContainer\");\n$RefreshReg$(_c6, \"SearchResults\");\n$RefreshReg$(_c7, \"BookCard\");\n$RefreshReg$(_c8, \"BookTitle\");\n$RefreshReg$(_c9, \"BookInfo\");\n$RefreshReg$(_c0, \"LibraryList\");\n$RefreshReg$(_c1, \"LibraryItem\");\n$RefreshReg$(_c10, \"LibraryName\");\n$RefreshReg$(_c11, \"LibraryDetails\");\n$RefreshReg$(_c12, \"AvailabilityBadge\");\n$RefreshReg$(_c13, \"LoadingDiv\");\n$RefreshReg$(_c14, \"EmptyState\");\n$RefreshReg$(_c15, \"ApiStatus\");\n$RefreshReg$(_c16, \"BookSearchSection\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","styled","RegionSelector","searchBooksAPI","fetchPopularBooks","LibraryAPIService","jsxDEV","_jsxDEV","Container","div","_c","SearchForm","form","_c2","SearchInput","input","_c3","SearchButton","button","_c4","RegionSelectorContainer","_c5","SearchResults","_c6","BookCard","_c7","BookTitle","h3","_c8","BookInfo","_c9","LibraryList","_c0","LibraryItem","_c1","LibraryName","_c10","LibraryDetails","_c11","AvailabilityBadge","span","props","available","_c12","LoadingDiv","_c13","EmptyState","_c14","ApiStatus","isError","_c15","BookSearchSection","externalSearchQuery","onExternalSearchComplete","selectedRegion","parentSelectedRegion","onRegionUpdate","_s","searchTerm","setSearchTerm","searchResults","setSearchResults","isLoading","setIsLoading","hasSearched","setHasSearched","setSelectedRegion","apiError","setApiError","libraryAPIService","baseURL","apiKey","process","env","REACT_APP_LIBRARY_API_KEY","getRealLibraryAvailability","isbn","availability","getBookAvailability","error","console","generateLibrariesFromRealData","realAvailability","length","map","lib","index","id","libraryId","name","libraryName","address","phone","hours","totalBooks","availableBooks","waitingList","callNumber","generateLibrariesForRegion","region","regionLibraries","libraries","regionLower","toLowerCase","includes","parseInt","seed","isMainLibrary","isDistrictLibrary","Math","floor","sections","categoryToKDC","sectionName","kdcMain","kdcSub","String","padStart","kdcDetail","authorInitials","authorCode","authorNumber","titleInitials","titleCode","performSearch","query","searchRegion","trim","log","apiResults","booksWithLibraries","Promise","all","book","title","popularBooks","matchingPopularBooks","filter","author","publisher","category","publishYear","fallbackError","handleSearch","e","preventDefault","children","onSubmit","type","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onLibrariesUpdate","className","style","marginTop","textAlign","marginBottom","color","fontWeight","fontSize","library","fontStyle","_c16","$RefreshReg$"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/components/BookSearchSection.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { searchBooksAPI, fetchPopularBooks, PopularBookData, LibraryAPIService, LibraryAPIConfig } from '../services/LibraryAPI';\n\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  \n  @media (max-width: 768px) {\n    padding: 15px;\n  }\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 12px;\n  }\n`;\n\nconst SearchInput = styled.input`\n  flex: 1;\n  padding: 15px 20px;\n  border: 2px solid #e8e8e8;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #ffffff;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #4CAF50;\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #999;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 12px 16px;\n    font-size: 14px;\n  }\n`;\n\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #388e3c;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 12px 24px;\n    font-size: 14px;\n  }\n`;\n\nconst RegionSelectorContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst SearchResults = styled.div`\n  margin-top: 30px;\n`;\n\nconst BookCard = styled.div`\n  background: white;\n  border: 2px solid #e8e8e8;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n`;\n\nconst BookTitle = styled.h3`\n  margin: 0 0 8px 0;\n  color: #2c3e50;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 1.4;\n`;\n\nconst BookInfo = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  margin-bottom: 15px;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  span {\n    font-size: 14px;\n    color: #7f8c8d;\n    \n    &:before {\n      content: \"• \";\n      color: #4CAF50;\n      font-weight: bold;\n    }\n    \n    &:first-child:before {\n      content: \"\";\n    }\n  }\n`;\n\nconst LibraryList = styled.div`\n  margin-top: 15px;\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n`;\n\nconst LibraryItem = styled.div`\n  background: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  padding: 15px;\n  margin-bottom: 10px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst LibraryName = styled.div`\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 8px;\n  font-size: 16px;\n`;\n\nconst LibraryDetails = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 10px;\n  font-size: 14px;\n  color: #555;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst AvailabilityBadge = styled.span<{ available: boolean }>`\n  display: inline-block;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  background: ${props => props.available ? '#d4edda' : '#f8d7da'};\n  color: ${props => props.available ? '#155724' : '#721c24'};\n  border: 1px solid ${props => props.available ? '#c3e6cb' : '#f5c6cb'};\n`;\n\nconst LoadingDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 40px;\n  color: #7f8c8d;\n  font-size: 16px;\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #4CAF50;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #7f8c8d;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 16px;\n  }\n  \n  .title {\n    font-size: 18px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    color: #2c3e50;\n  }\n  \n  .subtitle {\n    font-size: 14px;\n    line-height: 1.5;\n  }\n`;\n\nconst ApiStatus = styled.div<{ isError?: boolean }>`\n  font-size: 12px;\n  color: ${props => props.isError ? '#dc3545' : '#6c757d'};\n  text-align: center;\n  margin-bottom: 10px;\n  padding: 5px 10px;\n  background: ${props => props.isError ? '#f8d7da' : '#f8f9fa'};\n  border-radius: 4px;\n  border: 1px solid ${props => props.isError ? '#f5c6cb' : '#e9ecef'};\n`;\n\ninterface Book {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  publishYear: string;\n  description?: string;\n}\n\ninterface Library {\n  id: string;\n  name: string;\n  address: string;\n  phone: string;\n  hours: string;\n  available: boolean;\n  totalBooks: number;\n  availableBooks: number;\n  waitingList: number;\n  callNumber: string; // 청구기호 추가\n}\n\ninterface BookWithLibraries extends Book {\n  libraries: Library[];\n}\n\ninterface BookSearchSectionProps {\n  externalSearchQuery?: string;\n  onExternalSearchComplete?: () => void;\n  selectedRegion?: string;\n  onRegionUpdate?: (region: string) => void;\n}\n\nconst BookSearchSection: React.FC<BookSearchSectionProps> = ({ \n  externalSearchQuery, \n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate \n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<BookWithLibraries[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [apiError, setApiError] = useState<string | null>(null);\n  \n  // LibraryAPIService 인스턴스 생성\n  const libraryAPIService = new LibraryAPIService({\n    baseURL: 'http://data4library.kr/api',\n    apiKey: process.env.REACT_APP_LIBRARY_API_KEY || '8b62aa70e514468596e9324d064d582d'\n  });\n\n  // 지역이 변경될 때 부모에게 알림\n  // 실제 소장 정보를 가져오는 함수\n  const getRealLibraryAvailability = useCallback(async (isbn: string) => {\n    try {\n      const availability = await libraryAPIService.getBookAvailability(isbn);\n      return availability;\n    } catch (error) {\n      console.error('소장 정보 조회 실패:', error);\n      return [];\n    }\n  }, []);\n\n  // 실제 API 데이터만 사용하도록 수정\n  const generateLibrariesFromRealData = useCallback((realAvailability: any[]): Library[] => {\n    if (!realAvailability || realAvailability.length === 0) {\n      return [];\n    }\n    \n    return realAvailability.map((lib, index) => ({\n      id: lib.libraryId || `lib_${index}`,\n      name: lib.libraryName || '도서관명 없음',\n      address: '주소 정보 없음', // 실제 API에서 주소 정보를 가져올 수 있다면 사용\n      phone: '전화번호 없음',\n      hours: '09:00-18:00',\n      available: lib.available || false,\n      totalBooks: lib.available ? 1 : 0,\n      availableBooks: lib.available ? 1 : 0,\n      waitingList: lib.available ? 0 : 1,\n      callNumber: lib.callNumber || '청구기호 없음'\n    }));\n  }, []);\n  \n  // 더미 함수는 제거하고 실제 API 데이터만 사용\n  const generateLibrariesForRegion = useCallback((region: string): Library[] => {\n    interface BasicLibraryInfo {\n      id: string;\n      name: string;\n      address: string;\n      phone: string;\n      hours: string;\n    }\n    \n    const regionLibraries: { [key: string]: BasicLibraryInfo[] } = {\n      '경기도': [\n        // 수원시 도서관\n        { id: '1', name: '경기도립중앙도서관', address: '수원시 영통구 월드컵로 235', phone: '031-249-4800', hours: '09:00-18:00' },\n        { id: '2', name: '수원시립중앙도서관', address: '수원시 영통구 광교로 183', phone: '031-228-4300', hours: '09:00-22:00' },\n        { id: '3', name: '영통구립도서관', address: '수원시 영통구 영통동 999-1', phone: '031-228-4350', hours: '09:00-20:00' },\n        { id: '4', name: '광교도서관', address: '수원시 영통구 광교동 1271', phone: '031-228-4370', hours: '09:00-20:00' },\n        { id: '5', name: '팔달구립도서관', address: '수원시 팔달구 팔달로 123', phone: '031-267-3456', hours: '09:00-18:00' },\n        { id: '6', name: '장안구립도서관', address: '수원시 장안구 장안로 456', phone: '031-267-7890', hours: '09:00-18:00' },\n        { id: '7', name: '권선구립도서관', address: '수원시 권선구 권선로 789', phone: '031-267-2345', hours: '09:00-18:00' },\n        // 성남시 도서관\n        { id: '8', name: '성남시립중앙도서관', address: '성남시 분당구 양현로 346', phone: '031-729-4600', hours: '09:00-18:00' },\n        { id: '9', name: '분당도서관', address: '성남시 분당구 불정로 90', phone: '031-710-3000', hours: '09:00-20:00' },\n        { id: '10', name: '판교도서관', address: '성남시 분당구 판교역로 146', phone: '031-729-4700', hours: '09:00-20:00' },\n        { id: '11', name: '서현도서관', address: '성남시 분당구 서현동 263', phone: '031-729-4800', hours: '09:00-18:00' },\n        { id: '12', name: '중원구립도서관', address: '성남시 중원구 성남대로 997', phone: '031-729-4900', hours: '09:00-18:00' },\n        { id: '13', name: '수정구립도서관', address: '성남시 수정구 수정로 157', phone: '031-729-5000', hours: '09:00-18:00' },\n        { id: '14', name: '태평동 작은도서관', address: '성남시 수정구 태평동 6100', phone: '031-729-5100', hours: '10:00-18:00' },\n        // 고양시 도서관\n        { id: '15', name: '고양시립중앙도서관', address: '고양시 덕양구 고양대로 1955', phone: '031-8075-9300', hours: '09:00-18:00' },\n        { id: '16', name: '일산도서관', address: '고양시 일산동구 중앙로 1275', phone: '031-8075-9400', hours: '09:00-20:00' },\n        { id: '17', name: '식사도서관', address: '고양시 일산동구 식사동 142', phone: '031-8075-9500', hours: '09:00-20:00' },\n        { id: '18', name: '주엽도서관', address: '고양시 일산서구 주엽동 115', phone: '031-8075-9600', hours: '09:00-20:00' },\n        { id: '19', name: '탄현도서관', address: '고양시 일산서구 탄현동 1616', phone: '031-8075-9700', hours: '09:00-18:00' },\n        { id: '20', name: '덕양구립도서관', address: '고양시 덕양구 화정동 968', phone: '031-8075-9800', hours: '09:00-18:00' },\n        { id: '21', name: '행신도서관', address: '고양시 덕양구 행신동 615', phone: '031-8075-9900', hours: '10:00-18:00' },\n        // 용인시 도서관\n        { id: '22', name: '용인시립중앙도서관', address: '용인시 처인구 중부대로 1199', phone: '031-324-4800', hours: '09:00-18:00' },\n        { id: '23', name: '기흥도서관', address: '용인시 기흥구 중부대로 1174', phone: '031-324-4900', hours: '09:00-20:00' },\n        { id: '24', name: '서농도서관', address: '용인시 기흥구 서천동 588', phone: '031-324-5000', hours: '09:00-20:00' },\n        { id: '25', name: '수지도서관', address: '용인시 수지구 수지로 63', phone: '031-324-5100', hours: '09:00-20:00' },\n        { id: '26', name: '풍덕천도서관', address: '용인시 수지구 풍덕천동 1286', phone: '031-324-5200', hours: '09:00-18:00' },\n        { id: '27', name: '상현도서관', address: '용인시 수지구 상현동 542', phone: '031-324-5300', hours: '09:00-20:00' },\n        { id: '28', name: '죽전도서관', address: '용인시 수지구 죽전동 1258', phone: '031-324-5400', hours: '09:00-18:00' },\n        { id: '29', name: '보정도서관', address: '용인시 수지구 보정동 1157', phone: '031-324-5500', hours: '09:00-18:00' },\n        { id: '30', name: '마북도서관', address: '용인시 기흥구 마북동 530', phone: '031-324-5600', hours: '09:00-18:00' },\n        { id: '31', name: '동백도서관', address: '용인시 기흥구 동백동 631', phone: '031-324-5700', hours: '09:00-20:00' },\n        { id: '32', name: '구성도서관', address: '용인시 수지구 구성동 194', phone: '031-324-5800', hours: '09:00-18:00' },\n        { id: '33', name: '처인구립도서관', address: '용인시 처인구 삼가동 234', phone: '031-324-5900', hours: '09:00-18:00' },\n      ],\n      '수원시': [\n        // 중앙도서관\n        { id: '1', name: '경기도립중앙도서관', address: '수원시 영통구 월드컵로 235', phone: '031-249-4800', hours: '09:00-18:00' },\n        { id: '2', name: '수원시립중앙도서관', address: '수원시 영통구 광교로 183', phone: '031-228-4300', hours: '09:00-22:00' },\n        // 구/동 단위 도서관\n        { id: '3', name: '영통구립도서관', address: '수원시 영통구 영통동 999-1', phone: '031-228-4350', hours: '09:00-20:00' },\n        { id: '4', name: '광교도서관', address: '수원시 영통구 광교동 1271', phone: '031-228-4370', hours: '09:00-20:00' },\n        { id: '5', name: '팔달구립도서관', address: '수원시 팔달구 팔달로 123', phone: '031-267-3456', hours: '09:00-18:00' },\n        { id: '6', name: '장안구립도서관', address: '수원시 장안구 장안로 456', phone: '031-267-7890', hours: '09:00-18:00' },\n        { id: '7', name: '권선구립도서관', address: '수원시 권선구 권선로 789', phone: '031-267-2345', hours: '09:00-18:00' },\n      ],\n      '성남시': [\n        // 중앙도서관\n        { id: '8', name: '성남시립중앙도서관', address: '성남시 분당구 양현로 346', phone: '031-729-4600', hours: '09:00-18:00' },\n        { id: '9', name: '분당도서관', address: '성남시 분당구 불정로 90', phone: '031-710-3000', hours: '09:00-20:00' },\n        // 구/동 단위 도서관\n        { id: '10', name: '판교도서관', address: '성남시 분당구 판교역로 146', phone: '031-729-4700', hours: '09:00-20:00' },\n        { id: '11', name: '서현도서관', address: '성남시 분당구 서현동 263', phone: '031-729-4800', hours: '09:00-18:00' },\n        { id: '12', name: '중원구립도서관', address: '성남시 중원구 성남대로 997', phone: '031-729-4900', hours: '09:00-18:00' },\n        { id: '13', name: '수정구립도서관', address: '성남시 수정구 수정로 157', phone: '031-729-5000', hours: '09:00-18:00' },\n        { id: '14', name: '태평동 작은도서관', address: '성남시 수정구 태평동 6100', phone: '031-729-5100', hours: '10:00-18:00' },\n      ],\n      '고양시': [\n        // 중앙도서관\n        { id: '15', name: '고양시립중앙도서관', address: '고양시 덕양구 고양대로 1955', phone: '031-8075-9300', hours: '09:00-18:00' },\n        { id: '16', name: '일산도서관', address: '고양시 일산동구 중앙로 1275', phone: '031-8075-9400', hours: '09:00-20:00' },\n        // 구/동 단위 도서관\n        { id: '17', name: '식사도서관', address: '고양시 일산동구 식사동 142', phone: '031-8075-9500', hours: '09:00-20:00' },\n        { id: '18', name: '주엽도서관', address: '고양시 일산서구 주엽동 115', phone: '031-8075-9600', hours: '09:00-20:00' },\n        { id: '19', name: '탄현도서관', address: '고양시 일산서구 탄현동 1616', phone: '031-8075-9700', hours: '09:00-18:00' },\n        { id: '20', name: '덕양구립도서관', address: '고양시 덕양구 화정동 968', phone: '031-8075-9800', hours: '09:00-18:00' },\n        { id: '21', name: '행신도서관', address: '고양시 덕양구 행신동 615', phone: '031-8075-9900', hours: '10:00-18:00' },\n      ],\n      '용인시': [\n        // 중앙도서관\n        { id: '22', name: '용인시립중앙도서관', address: '용인시 처인구 중부대로 1199', phone: '031-324-4800', hours: '09:00-18:00' },\n        { id: '23', name: '기흥도서관', address: '용인시 기흥구 중부대로 1174', phone: '031-324-4900', hours: '09:00-20:00' },\n        // 구/동 단위 도서관 (사용자 요청 - 서농도서관 포함)\n        { id: '24', name: '서농도서관', address: '용인시 기흥구 서천동 588', phone: '031-324-5000', hours: '09:00-20:00' },\n        { id: '25', name: '수지도서관', address: '용인시 수지구 수지로 63', phone: '031-324-5100', hours: '09:00-20:00' },\n        { id: '26', name: '풍덕천도서관', address: '용인시 수지구 풍덕천동 1286', phone: '031-324-5200', hours: '09:00-18:00' },\n        { id: '27', name: '상현도서관', address: '용인시 수지구 상현동 542', phone: '031-324-5300', hours: '09:00-20:00' },\n        { id: '28', name: '죽전도서관', address: '용인시 수지구 죽전동 1258', phone: '031-324-5400', hours: '09:00-18:00' },\n        { id: '29', name: '보정도서관', address: '용인시 수지구 보정동 1157', phone: '031-324-5500', hours: '09:00-18:00' },\n        { id: '30', name: '마북도서관', address: '용인시 기흥구 마북동 530', phone: '031-324-5600', hours: '09:00-18:00' },\n        { id: '31', name: '동백도서관', address: '용인시 기흥구 동백동 631', phone: '031-324-5700', hours: '09:00-20:00' },\n        { id: '32', name: '구성도서관', address: '용인시 수지구 구성동 194', phone: '031-324-5800', hours: '09:00-18:00' },\n        { id: '33', name: '처인구립도서관', address: '용인시 처인구 삼가동 234', phone: '031-324-5900', hours: '09:00-18:00' },\n      ],\n      // 용인시 구별 세분화\n      '기흥구': [\n        { id: '23', name: '기흥도서관', address: '용인시 기흥구 중부대로 1174', phone: '031-324-4900', hours: '09:00-20:00' },\n        { id: '24', name: '서농도서관', address: '용인시 기흥구 서천동 588', phone: '031-324-5000', hours: '09:00-20:00' },\n        { id: '30', name: '마북도서관', address: '용인시 기흥구 마북동 530', phone: '031-324-5600', hours: '09:00-18:00' },\n        { id: '31', name: '동백도서관', address: '용인시 기흥구 동백동 631', phone: '031-324-5700', hours: '09:00-20:00' },\n      ],\n      '수지구': [\n        { id: '25', name: '수지도서관', address: '용인시 수지구 수지로 63', phone: '031-324-5100', hours: '09:00-20:00' },\n        { id: '26', name: '풍덕천도서관', address: '용인시 수지구 풍덕천동 1286', phone: '031-324-5200', hours: '09:00-18:00' },\n        { id: '27', name: '상현도서관', address: '용인시 수지구 상현동 542', phone: '031-324-5300', hours: '09:00-20:00' },\n        { id: '28', name: '죽전도서관', address: '용인시 수지구 죽전동 1258', phone: '031-324-5400', hours: '09:00-18:00' },\n        { id: '29', name: '보정도서관', address: '용인시 수지구 보정동 1157', phone: '031-324-5500', hours: '09:00-18:00' },\n        { id: '32', name: '구성도서관', address: '용인시 수지구 구성동 194', phone: '031-324-5800', hours: '09:00-18:00' },\n      ],\n      '처인구': [\n        { id: '22', name: '용인시립중앙도서관', address: '용인시 처인구 중부대로 1199', phone: '031-324-4800', hours: '09:00-18:00' },\n        { id: '33', name: '처인구립도서관', address: '용인시 처인구 삼가동 234', phone: '031-324-5900', hours: '09:00-18:00' },\n      ]\n    };\n\n    // 지역명에 따른 도서관 선택\n    let libraries = regionLibraries[region];\n    \n    // 정확한 지역명이 없으면 포함된 단어로 검색\n    if (!libraries) {\n      const regionLower = region.toLowerCase();\n      if (regionLower.includes('경기도') || regionLower.includes('경기')) {\n        libraries = regionLibraries['경기도'];\n      } else if (regionLower.includes('기흥')) {\n        libraries = regionLibraries['기흥구'];\n      } else if (regionLower.includes('수지')) {\n        libraries = regionLibraries['수지구'];\n      } else if (regionLower.includes('처인')) {\n        libraries = regionLibraries['처인구'];\n      } else if (regionLower.includes('용인')) {\n        libraries = regionLibraries['용인시'];\n      } else if (regionLower.includes('수원')) {\n        libraries = regionLibraries['수원시'];\n      } else if (regionLower.includes('성남')) {\n        libraries = regionLibraries['성남시'];\n      } else if (regionLower.includes('고양')) {\n        libraries = regionLibraries['고양시'];\n      } else {\n        // 기본값으로 경기도 전체 사용\n        libraries = regionLibraries['경기도'];\n      }\n    }\n    \n    return libraries.map((lib, index) => {\n      // 각 도서관별로 일관된 패턴 생성 (도서관 ID 기반)\n      const libraryId = parseInt(lib.id);\n      const seed = (libraryId * 17 + index) % 100; // 일관된 시드값 생성\n      \n      // 도서관 크기에 따른 소장량 (중앙도서관 > 구립도서관 > 작은도서관)\n      const isMainLibrary = lib.name.includes('중앙') || lib.name.includes('시립');\n      const isDistrictLibrary = lib.name.includes('구립') || lib.name.includes('도서관');\n      \n      let totalBooks, availableBooks, waitingList;\n      if (isMainLibrary) {\n        totalBooks = Math.floor(seed / 10) + 8;  // 8-18권\n        availableBooks = Math.floor(seed / 15) + 2;  // 2-8권\n        waitingList = Math.floor(seed / 20) + 1;  // 1-6명\n      } else if (isDistrictLibrary) {\n        totalBooks = Math.floor(seed / 15) + 5;  // 5-11권\n        availableBooks = Math.floor(seed / 20) + 1;  // 1-6권\n        waitingList = Math.floor(seed / 25);  // 0-4명\n      } else {\n        totalBooks = Math.floor(seed / 20) + 3;  // 3-8권\n        availableBooks = Math.floor(seed / 25) + 1;  // 1-5권\n        waitingList = Math.floor(seed / 30);  // 0-3명\n      }\n      \n      // KDC(한국십진분류법) 기반 청구기호 생성\n      const sections = ['문학', '인문', '사회과학', '자연과학', '예술', '역사', '철학', '종교'];\n      \n      // 카테고리에 따른 KDC 분류 매핑\n      const categoryToKDC: { [key: string]: string } = {\n        '문학': '8',\n        '인문': '1',\n        '사회과학': '3',\n        '자연과학': '5',\n        '예술': '7',\n        '역사': '9',\n        '철학': '1',\n        '종교': '2',\n        '기술': '6',\n        '언어': '4',\n        '일반': '0'\n      };\n      \n      const sectionName = sections[seed % sections.length];\n      const kdcMain = categoryToKDC[sectionName] || '8';\n      const kdcSub = String((seed % 9) + 1).padStart(1, '0');\n      const kdcDetail = String((seed % 9) + 1).padStart(1, '0');\n      \n      // 저자명에서 첫 글자 추출 (가상의 저자명 생성)\n      const authorInitials = ['김', '이', '박', '최', '정', '강', '조', '윤', '장', '임'];\n      const authorCode = authorInitials[seed % authorInitials.length];\n      const authorNumber = String((seed % 99) + 1).padStart(2, '0');\n      \n      // 제목 첫 글자 (가상)\n      const titleInitials = ['ㄱ', 'ㄴ', 'ㄷ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅅ', 'ㅇ', 'ㅈ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];\n      const titleCode = titleInitials[seed % titleInitials.length];\n      \n      const callNumber = `${kdcMain}${kdcSub}${kdcDetail}.${kdcSub} ${authorCode}${authorNumber}${titleCode}`;\n      \n      return {\n        ...lib,\n        available: availableBooks > 0,\n        totalBooks,\n        availableBooks,\n        waitingList,\n        callNumber: callNumber // 청구기호\n      };\n    });\n  }, []);\n\n  const performSearch = useCallback(async (query: string) => {\n    // 지역이 선택되지 않았으면 기본값으로 '경기도'를 사용\n    const searchRegion = selectedRegion && selectedRegion.trim() !== '' ? selectedRegion : '경기도';\n\n    console.log('🔍 ===== 도서 검색 시작 =====');\n    console.log('검색어:', query);\n    console.log('선택된 지역:', selectedRegion);\n    console.log('사용할 지역:', searchRegion);\n\n    setIsLoading(true);\n    setHasSearched(true);\n    setApiError(null);\n\n    try {\n      console.log('🔍 도서 검색:', query, '지역:', searchRegion);\n      \n      // 실제 API 검색 시도\n      const apiResults = await searchBooksAPI(query, 1, 10);\n      console.log('API 검색 결과:', apiResults);\n      \n      if (apiResults.length > 0) {\n        console.log('✅ API 검색 성공:', apiResults);\n        \n        // 각 도서에 대해 실제 소장 정보와 지역 도서관 정보 추가\n        const booksWithLibraries: BookWithLibraries[] = await Promise.all(\n          apiResults.map(async (book) => {\n            // 실제 소장 정보 조회\n            const realAvailability = await getRealLibraryAvailability(book.isbn);\n            \n            // 실제 API 데이터만 사용\n            const libraries = generateLibrariesFromRealData(realAvailability);\n            \n            if (libraries.length > 0) {\n              console.log(`📚 ${book.title} 실제 소장 정보:`, realAvailability);\n              return {\n                ...book,\n                libraries: libraries\n              };\n            }\n            \n            // 실제 소장 정보가 없으면 안내 메시지 포함\n            return {\n              ...book,\n              libraries: [{\n                id: 'no_library',\n                name: '소장 중인 도서관이 없습니다',\n                address: '실제 소장 정보를 확인하려면 도서관에 문의하세요',\n                phone: '',\n                hours: '',\n                available: false,\n                totalBooks: 0,\n                availableBooks: 0,\n                waitingList: 0,\n                callNumber: '청구기호 없음'\n              }]\n            };\n          })\n        );\n        \n        console.log('최종 검색 결과:', booksWithLibraries);\n        setSearchResults(booksWithLibraries);\n        setApiError(null);\n        return;\n      }\n      \n      // API 결과가 없으면 인기도서에서 검색\n      console.log('🔄 인기도서에서 검색 중...');\n      const popularBooks = await fetchPopularBooks();\n      console.log('인기도서 목록:', popularBooks);\n      \n      const matchingPopularBooks = popularBooks.filter((book: PopularBookData) => \n        book.title.toLowerCase().includes(query.toLowerCase()) || \n        book.author.toLowerCase().includes(query.toLowerCase())\n      );\n      \n      console.log('매칭된 인기도서:', matchingPopularBooks);\n      \n      if (matchingPopularBooks.length > 0) {\n        console.log('✅ 인기도서에서 발견:', matchingPopularBooks);\n        \n        // 인기도서에 대해서도 실제 소장 정보 조회\n        const booksWithLibraries: BookWithLibraries[] = await Promise.all(\n          matchingPopularBooks.map(async (book) => {\n                         // 실제 소장 정보 조회\n             const realAvailability = await getRealLibraryAvailability(book.isbn);\n             \n             // 실제 API 데이터만 사용\n             const libraries = generateLibrariesFromRealData(realAvailability);\n             \n             if (libraries.length > 0) {\n               console.log(`📚 ${book.title} 실제 소장 정보:`, realAvailability);\n               return {\n                 id: book.id,\n                 title: book.title,\n                 author: book.author,\n                 publisher: book.publisher,\n                 isbn: book.isbn,\n                 category: book.category,\n                 publishYear: book.publishYear,\n                 libraries: libraries\n               };\n             }\n             \n                           // 실제 소장 정보가 없으면 안내 메시지 포함\n              return {\n                id: book.id,\n                title: book.title,\n                author: book.author,\n                publisher: book.publisher,\n                isbn: book.isbn,\n                category: book.category,\n                publishYear: book.publishYear,\n                libraries: [{\n                  id: 'no_library',\n                  name: '소장 중인 도서관이 없습니다',\n                  address: '실제 소장 정보를 확인하려면 도서관에 문의하세요',\n                  phone: '',\n                  hours: '',\n                  available: false,\n                  totalBooks: 0,\n                  availableBooks: 0,\n                  waitingList: 0,\n                  callNumber: '청구기호 없음'\n                }]\n              };\n          })\n        );\n        \n        console.log('최종 검색 결과:', booksWithLibraries);\n        setSearchResults(booksWithLibraries);\n        setApiError(null); // 에러 메시지 제거\n      } else {\n        console.log('⚠️ 검색 결과 없음');\n        setSearchResults([]);\n        setApiError('검색하신 도서를 찾을 수 없습니다. 다른 검색어를 시도해보세요.');\n      }\n      \n    } catch (error) {\n      console.error('❌ 검색 오류:', error);\n      setApiError('❌ API 호출에 실패했습니다. 네트워크 연결을 확인해주세요.');\n      \n      // 오류 발생 시 인기도서에서 검색 시도\n      try {\n        console.log('🔄 오류 발생, 인기도서에서 검색 시도...');\n        const popularBooks = await fetchPopularBooks();\n        const matchingPopularBooks = popularBooks.filter((book: PopularBookData) => \n          book.title.toLowerCase().includes(query.toLowerCase()) || \n          book.author.toLowerCase().includes(query.toLowerCase())\n        );\n        \n        if (matchingPopularBooks.length > 0) {\n          const libraries = generateLibrariesForRegion(searchRegion);\n          const booksWithLibraries: BookWithLibraries[] = matchingPopularBooks.map(book => ({\n            id: book.id,\n            title: book.title,\n            author: book.author,\n            publisher: book.publisher,\n            isbn: book.isbn,\n            category: book.category,\n            publishYear: book.publishYear,\n            libraries: libraries\n          }));\n          \n          setSearchResults(booksWithLibraries);\n          setApiError('⚠️ API 연결 문제로 인기도서에서 검색결과를 표시합니다.');\n        } else {\n          setSearchResults([]);\n        }\n      } catch (fallbackError) {\n        console.error('❌ 인기도서 검색도 실패:', fallbackError);\n        setSearchResults([]);\n      }\n    } finally {\n      setIsLoading(false);\n      console.log('🔍 ===== 도서 검색 완료 =====');\n    }\n  }, [selectedRegion, generateLibrariesForRegion]);\n\n\n\n  // 외부에서 검색어가 전달된 경우 처리\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete, performSearch]);\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  return (\n    <Container>\n      <SearchForm onSubmit={handleSearch}>\n        <SearchInput\n          type=\"text\"\n          placeholder=\"찾으시는 도서명을 입력해주세요 (예: 미움받을 용기, 달과 6펜스)\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <SearchButton type=\"submit\" disabled={isLoading}>\n          {isLoading ? '검색 중...' : '🔍 검색'}\n        </SearchButton>\n      </SearchForm>\n\n      <RegionSelectorContainer>\n                <RegionSelector\n          selectedRegion={selectedRegion}\n          onRegionUpdate={(region) => {\n            console.log('🗺️ RegionSelector에서 지역 변경:', region);\n            setSelectedRegion(region);\n            // 상태 초기화\n            setSearchResults([]);\n            setApiError(null);\n            setHasSearched(false);\n            setIsLoading(false);\n            \n            // 기존 도서명이 있으면 자동으로 재검색\n            if (searchTerm.trim()) {\n              console.log('📚 기존 도서명이 있어서 자동 재검색:', searchTerm);\n              performSearch(searchTerm.trim());\n            }\n          }}\n          onLibrariesUpdate={() => {}}\n        />\n      </RegionSelectorContainer>\n\n      {apiError && (\n        <ApiStatus isError={true}>\n          ⚠️ {apiError}\n        </ApiStatus>\n      )}\n\n      {isLoading && (\n        <LoadingDiv>\n          <div className=\"spinner\"></div>\n          <div style={{ marginTop: '10px' }}>\"{searchTerm}\" 검색 중...</div>\n        </LoadingDiv>\n      )}\n\n      {!isLoading && hasSearched && searchResults.length === 0 && (\n        <EmptyState>\n          <div className=\"emoji\">🔍</div>\n          <div className=\"title\">\"{searchTerm}\"에 대한 검색 결과가 없습니다</div>\n          <div className=\"subtitle\">\n            • 검색된 도서가 없거나 해당 지역에 소장중인 도서관이 없습니다<br/>\n            • 다른 키워드로 다시 검색해보세요<br/>\n            • 예: \"해리포터\", \"무라카미 하루키\", \"자기계발\" 등\n          </div>\n        </EmptyState>\n      )}\n\n      {!isLoading && searchResults.length > 0 && (\n        <SearchResults>\n          <div style={{ \n            textAlign: 'center', \n            marginBottom: '20px',\n            color: '#4CAF50',\n            fontWeight: 'bold',\n            fontSize: '16px'\n          }}>\n            📚 \"{searchTerm}\" 검색 결과 {searchResults.length}권 ({selectedRegion && selectedRegion.trim() !== '' ? selectedRegion : '경기도'} 지역)\n          </div>\n          \n          {searchResults.map((book, index) => (\n            <BookCard key={book.id || index}>\n              <BookTitle>{book.title}</BookTitle>\n              <BookInfo>\n                <span>저자: {book.author}</span>\n                <span>출판사: {book.publisher}</span>\n                <span>카테고리: {book.category}</span>\n                <span>출간년도: {book.publishYear}년</span>\n                {book.isbn && <span>ISBN: {book.isbn}</span>}\n              </BookInfo>\n              \n              <LibraryList>\n                <div style={{ \n                  fontWeight: '600', \n                  marginBottom: '10px',\n                  color: '#2c3e50',\n                  fontSize: '15px'\n                }}>\n                  📍 {selectedRegion} 도서관 소장 현황\n                </div>\n                \n                {book.libraries.map((library) => (\n                  <LibraryItem key={library.id}>\n                    <LibraryName>\n                      <AvailabilityBadge available={library.available}>\n                        {library.available ? '✅ 대출가능' : '❌ 대출중'}\n                      </AvailabilityBadge>\n                      {' '}{library.name}\n                    </LibraryName>\n                    \n                    <LibraryDetails>\n                      <div>📍 {library.address}</div>\n                      <div>📞 {library.phone}</div>\n                      <div>🕐 {library.hours}</div>\n                      <div>📚 소장: {library.totalBooks}권</div>\n                      <div>✅ 대출가능: {library.availableBooks}권</div>\n                      <div>⏳ 대기: {library.waitingList}명</div>\n                      <div>🏷️ 청구기호: {library.callNumber}</div>\n                      <div style={{ fontSize: '12px', color: '#666', marginTop: '5px' }}>\n                        💡 청구기호로 도서관에서 책을 찾으실 수 있습니다\n                      </div>\n                      <div style={{ \n                        fontSize: '11px', \n                        color: '#999', \n                        marginTop: '3px',\n                        fontStyle: 'italic'\n                      }}>\n                        📋 실제 소장 현황은 도서관에 문의하시거나 온라인 도서관 홈페이지를 확인하세요\n                      </div>\n                    </LibraryDetails>\n                  </LibraryItem>\n                ))}\n              </LibraryList>\n            </BookCard>\n          ))}\n        </SearchResults>\n      )}\n    </Container>\n  );\n};\n\nexport default BookSearchSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}