{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qoo\\\\Desktop\\\\zziyoonii\\\\senior\\\\src\\\\components\\\\BookSearchSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { searchBooksAPI, checkApiApprovalStatus } from '../services/LibraryAPI';\n\n// 스타일드 컴포넌트 정의\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n  padding: 20px;\n`;\n_c = Container;\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;\n_c2 = SearchForm;\nconst SearchInputContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;\n_c3 = SearchInputContainer;\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;\n_c4 = SearchInput;\nconst AutocompleteDropdown = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;\n_c5 = AutocompleteDropdown;\nconst AutocompleteItem = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;\n_c6 = AutocompleteItem;\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c7 = SearchButton;\nconst QuickSearchSection = styled.div`\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #e0e0e0;\n`;\n_c8 = QuickSearchSection;\nconst QuickSearchTitle = styled.h4`\n  margin: 0 0 10px 0;\n  color: #333;\n  font-size: 16px;\n`;\n_c9 = QuickSearchTitle;\nconst QuickSearchTags = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n_c0 = QuickSearchTags;\nconst QuickSearchTag = styled.button`\n  padding: 6px 12px;\n  background: #f0f8ff;\n  border: 1px solid #4CAF50;\n  color: #4CAF50;\n  border-radius: 16px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &:hover {\n    background: #4CAF50;\n    color: white;\n  }\n`;\n_c1 = QuickSearchTag;\nconst LoadingDiv = styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;\n_c10 = LoadingDiv;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;\n_c11 = EmptyState;\nconst SearchResults = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n_c12 = SearchResults;\nconst BookCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;\n_c13 = BookCard;\nconst BookTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;\n_c14 = BookTitle;\nconst BookInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;\n_c15 = BookInfo;\nconst BookDescription = styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;\n_c16 = BookDescription;\nconst AvailabilitySection = styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;\n_c17 = AvailabilitySection;\nconst AvailabilityTitle = styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;\n_c18 = AvailabilityTitle;\nconst LibraryList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n_c19 = LibraryList;\nconst LibraryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;\n_c20 = LibraryItem;\nconst LibraryInfo = styled.div`\n  .name {\n    font-weight: 600;\n    color: #333;\n    font-size: 16px;\n    margin-bottom: 4px;\n  }\n  \n  .address {\n    color: #666;\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n  \n  .phone {\n    color: #4CAF50;\n    font-size: 14px;\n    font-weight: 600;\n  }\n  \n  .hours {\n    color: #666;\n    font-size: 12px;\n    margin-top: 4px;\n  }\n\n  .inventory {\n    color: #2196F3;\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: 4px;\n  }\n`;\n_c21 = LibraryInfo;\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: space-between;\n  }\n`;\n_c22 = ButtonGroup;\nconst StatusButton = styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &.available {\n    background: #4CAF50;\n    color: white;\n    \n    &:hover {\n      background: #45a049;\n    }\n  }\n  \n  &.unavailable {\n    background: #ff9800;\n    color: white;\n    \n    &:hover {\n      background: #f57c00;\n    }\n  }\n`;\n_c23 = StatusButton;\nconst CallButton = styled.button`\n  padding: 10px 16px;\n  background: #2196F3;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  \n  &:hover {\n    background: #1976D2;\n  }\n`;\n_c24 = CallButton;\nconst ApiStatus = styled.div`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  \n  background: ${props => props.isError ? '#ffebee' : '#e8f5e8'};\n  color: ${props => props.isError ? '#c62828' : '#2e7d32'};\n  border: 1px solid ${props => props.isError ? '#ffcdd2' : '#c8e6c9'};\n`;\n\n// 인터페이스 정의\n_c25 = ApiStatus;\nconst BookSearchSection = ({\n  externalSearchQuery,\n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [libraries, setLibraries] = useState([]);\n  const [apiStatus, setApiStatus] = useState('');\n  const [apiError, setApiError] = useState('');\n\n  // 최근 검색어 상태\n  const [recentSearches, setRecentSearches] = useState([]);\n\n  // 자동완성 상태\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteItems, setAutocompleteItems] = useState([]);\n\n  // 즐겨찾기 상태\n  const [bookmarks, setBookmarks] = useState([]);\n\n  // 빠른 검색 키워드\n  const quickSearchKeywords = ['베스트셀러', '소설', '에세이', '건강', '요리', '취미', '역사', '자기계발', '시집', '여행'];\n\n  // 인기 검색어 목록\n  const popularSearches = [{\n    text: '달과 6펜스',\n    category: '문학'\n  }, {\n    text: '미움받을 용기',\n    category: '자기계발'\n  }, {\n    text: '수학의 정석',\n    category: '교육'\n  }, {\n    text: '82년생 김지영',\n    category: '소설'\n  }, {\n    text: '원씽',\n    category: '자기계발'\n  }, {\n    text: '세계사 편지',\n    category: '역사'\n  }, {\n    text: '코스모스',\n    category: '과학'\n  }, {\n    text: '작별하지 않는다',\n    category: '소설'\n  }, {\n    text: '아프니까 청춘이다',\n    category: '에세이'\n  }, {\n    text: '불편한 편의점',\n    category: '소설'\n  }, {\n    text: '아몬드',\n    category: '소설'\n  }, {\n    text: '당신이 옳다',\n    category: '에세이'\n  }, {\n    text: '사피엔스',\n    category: '인문'\n  }, {\n    text: '데미안',\n    category: '문학'\n  }, {\n    text: '어린왕자',\n    category: '문학'\n  }];\n\n  // 자동완성 기능\n  const updateAutocomplete = inputValue => {\n    if (!inputValue.trim()) {\n      const items = [...recentSearches.slice(0, 5).map(search => ({\n        text: search,\n        category: '최근 검색',\n        type: 'recent'\n      })), ...popularSearches.slice(0, 5).map(search => ({\n        text: search.text,\n        category: search.category,\n        type: 'popular'\n      }))];\n      setAutocompleteItems(items);\n      setShowAutocomplete(true);\n      return;\n    }\n    const searchValue = inputValue.toLowerCase();\n    const matchedItems = [];\n    recentSearches.forEach(search => {\n      if (search.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search,\n          category: '최근 검색',\n          type: 'recent'\n        });\n      }\n    });\n    popularSearches.forEach(search => {\n      if (search.text.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search.text,\n          category: search.category,\n          type: 'popular'\n        });\n      }\n    });\n    setAutocompleteItems(matchedItems.slice(0, 10));\n    setShowAutocomplete(matchedItems.length > 0);\n  };\n\n  // 자동완성 아이템 선택 처리\n  const handleAutocompleteSelect = item => {\n    setSearchTerm(item.text);\n    setShowAutocomplete(false);\n    saveRecentSearch(item.text);\n    performSearch(item.text);\n  };\n\n  // 검색 입력 처리\n  const handleSearchInputChange = e => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    setTimeout(() => {\n      updateAutocomplete(value);\n    }, 300);\n  };\n\n  // 검색 입력 포커스 처리\n  const handleSearchInputFocus = () => {\n    updateAutocomplete(searchTerm);\n  };\n\n  // 자동완성 닫기\n  const handleAutocompleteClose = () => {\n    setTimeout(() => setShowAutocomplete(false), 150);\n  };\n\n  // 컴포넌트 마운트 시 최근 검색어 및 즐겨찾기 불러오기\n  useEffect(() => {\n    const savedSearches = localStorage.getItem('recentSearches');\n    if (savedSearches) {\n      setRecentSearches(JSON.parse(savedSearches));\n    }\n    const savedBookmarks = localStorage.getItem('bookmarks');\n    if (savedBookmarks) {\n      setBookmarks(JSON.parse(savedBookmarks));\n    }\n  }, []);\n\n  // 최근 검색어 저장\n  const saveRecentSearch = query => {\n    const updated = [query, ...recentSearches.filter(s => s !== query)].slice(0, 10);\n    setRecentSearches(updated);\n    localStorage.setItem('recentSearches', JSON.stringify(updated));\n  };\n\n  // 즐겨찾기 토글\n  const toggleBookmark = bookId => {\n    let updated;\n    if (bookmarks.includes(bookId)) {\n      updated = bookmarks.filter(id => id !== bookId);\n    } else {\n      updated = [...bookmarks, bookId];\n    }\n    setBookmarks(updated);\n    localStorage.setItem('bookmarks', JSON.stringify(updated));\n  };\n\n  // 즐겨찾기 여부 확인\n  const isBookmarked = bookId => bookmarks.includes(bookId);\n\n  // API 승인 상태 확인\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        const isApproved = await checkApiApprovalStatus('651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8');\n        if (isApproved) {\n          setApiStatus('✅ 실시간 도서관 API 연결됨');\n        } else {\n          setApiStatus('⚠️ API 승인 대기 중 - 샘플 데이터 제공');\n        }\n      } catch (error) {\n        setApiStatus('⚠️ API 연결 확인 중 - 안정적인 서비스 제공');\n      }\n    };\n    checkApprovalStatus();\n  }, []);\n\n  // 지역별 도서관 생성\n  const generateLibrariesByRegion = region => {\n    const regionLower = region.toLowerCase();\n    if (regionLower.includes('동')) {\n      const cityName = region.replace('동', '');\n      return [{\n        id: 1,\n        name: `${cityName}동 주민센터 도서관`,\n        address: `경기도 ${cityName}동 중앙로 123`,\n        phone: '031-123-4567',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: `${cityName}동 구민회관 도서관`,\n        address: `경기도 ${cityName}동 복합문화센터 2층`,\n        phone: '031-234-5678',\n        hours: '10:00-20:00'\n      }, {\n        id: 3,\n        name: `${cityName}동 작은도서관`,\n        address: `경기도 ${cityName}동 주택가 내 작은도서관`,\n        phone: '031-345-6789',\n        hours: '10:00-18:00'\n      }];\n    }\n    const libraryData = {\n      '수원': [{\n        id: 1,\n        name: '수원시립중앙도서관',\n        address: '경기 수원시 영통구 광교로 183',\n        phone: '031-228-4300',\n        hours: '09:00-22:00'\n      }, {\n        id: 2,\n        name: '경기도립중앙도서관',\n        address: '경기 수원시 영통구 월드컵로 235',\n        phone: '031-249-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: 3,\n        name: '영통구립도서관',\n        address: '경기 수원시 영통구 영통동 999-1',\n        phone: '031-228-4350',\n        hours: '09:00-20:00'\n      }],\n      '성남': [{\n        id: 1,\n        name: '성남시립중앙도서관',\n        address: '경기 성남시 분당구 양현로 346',\n        phone: '031-729-4600',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: '분당구립정자도서관',\n        address: '경기 성남시 분당구 정자동 178-1',\n        phone: '031-729-4650',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: '서현작은도서관',\n        address: '경기 성남시 분당구 서현동 271-3',\n        phone: '031-729-4670',\n        hours: '10:00-18:00'\n      }],\n      '고양': [{\n        id: 1,\n        name: '고양시립중앙도서관',\n        address: '경기 고양시 덕양구 고양대로 1955',\n        phone: '031-8075-9300',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: '일산동구립도서관',\n        address: '경기 고양시 일산동구 백석동 1256',\n        phone: '031-8075-9350',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: '백석작은도서관',\n        address: '경기 고양시 일산동구 백석동 1234-5',\n        phone: '031-8075-9380',\n        hours: '10:00-18:00'\n      }]\n    };\n    for (const [key, data] of Object.entries(libraryData)) {\n      if (regionLower.includes(key)) {\n        return data;\n      }\n    }\n    return [{\n      id: 1,\n      name: '서울시립중앙도서관',\n      address: '서울특별시 중구 세종대로 110',\n      phone: '02-2133-0300',\n      hours: '09:00-20:00'\n    }, {\n      id: 2,\n      name: '강남구립도서관',\n      address: '서울특별시 강남구 테헤란로 114',\n      phone: '02-2182-0300',\n      hours: '09:00-22:00'\n    }, {\n      id: 3,\n      name: '서초구립도서관',\n      address: '서울특별시 서초구 반포대로 58',\n      phone: '02-2155-8000',\n      hours: '10:00-20:00'\n    }];\n  };\n\n  // 도서관별 소장 현황 생성\n  const generateLibraryAvailability = libraries => {\n    return libraries.map(library => ({\n      libraryId: library.id,\n      libraryName: library.name,\n      libraryAddress: library.address,\n      libraryPhone: library.phone,\n      libraryHours: library.hours,\n      available: Math.random() > 0.4,\n      waitingList: Math.floor(Math.random() * 5) + 1,\n      totalBooks: Math.floor(Math.random() * 5) + 1,\n      availableBooks: Math.floor(Math.random() * 3),\n      location: `${Math.floor(Math.random() * 10) + 1}층 ${String.fromCharCode(65 + Math.floor(Math.random() * 5))}구역`\n    }));\n  };\n\n  // 검색 수행\n  const performSearch = async query => {\n    setLoading(true);\n    setHasSearched(true);\n    setApiError('');\n    try {\n      const results = await searchBooksAPI(query, 1, 20);\n      if (results && results.length > 0) {\n        setApiStatus('✅ 실제 도서관 데이터로 검색 완료');\n        const booksWithAvailability = results.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(libraries)\n        }));\n        setSearchResults(booksWithAvailability);\n      } else {\n        setApiStatus('⚠️ 도서관 API 연결 중 - 샘플 데이터 제공');\n        const dummyResults = getDummySearchResults(query);\n        setSearchResults(dummyResults);\n      }\n    } catch (error) {\n      console.error('검색 중 오류:', error);\n      setApiError('API 연결 오류가 발생했습니다. 샘플 데이터를 제공합니다.');\n      setApiStatus('⚠️ API 연결 오류 - 안정적인 서비스 제공');\n      const dummyResults = getDummySearchResults(query);\n      setSearchResults(dummyResults);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 더미 검색 결과 생성\n  const getDummySearchResults = query => {\n    const dummyBooks = [{\n      id: '1',\n      title: '미움받을 용기',\n      author: '기시미 이치로, 고가 후미타케',\n      publisher: '인플루엔셜',\n      isbn: '9788950955671',\n      category: '자기계발',\n      publishYear: '2014',\n      description: '아들러 심리학을 바탕으로 한 인간관계와 삶의 지혜를 담은 책',\n      loanCount: 2847\n    }, {\n      id: '2',\n      title: '82년생 김지영',\n      author: '조남주',\n      publisher: '민음사',\n      isbn: '9788937473371',\n      category: '소설',\n      publishYear: '2016',\n      description: '한국 여성의 현실을 생생하게 그린 소설',\n      loanCount: 1923\n    }, {\n      id: '3',\n      title: '사피엔스',\n      author: '유발 하라리',\n      publisher: '김영사',\n      isbn: '9788934972464',\n      category: '인문',\n      publishYear: '2015',\n      description: '인류의 역사를 통찰한 베스트셀러',\n      loanCount: 1456\n    }];\n    const filtered = dummyBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()) || book.category.toLowerCase().includes(query.toLowerCase()));\n    return filtered.length > 0 ? filtered.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    })) : dummyBooks.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    }));\n  };\n\n  // 검색 폼 제출\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      saveRecentSearch(searchTerm.trim());\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // 빠른 검색 처리\n  const handleQuickSearch = keyword => {\n    setSearchTerm(keyword);\n    saveRecentSearch(keyword);\n    performSearch(keyword);\n  };\n\n  // 전화 연결 처리\n  const handleCall = (libraryName, libraryPhone, libraryHours) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    let message = `${libraryName}에 전화하시겠습니까?`;\n    if (libraryHours) {\n      message += `\\n\\n📞 전화번호: ${libraryPhone}`;\n      message += `\\n⏰ 운영시간: ${libraryHours}`;\n    }\n    if (!isOpen) {\n      message += `\\n\\n⚠️ 현재 시간(${currentHour}시)은 도서관 운영시간 외입니다.`;\n    }\n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // 예약 처리\n  const handleReserve = (bookId, libraryId, libraryName, libraryPhone, libraryHours = '', isAvailable) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    let message = '';\n    if (isAvailable) {\n      message = `${libraryName}에서 이 도서를 예약하시겠습니까?`;\n    } else {\n      message = `${libraryName}에 대기신청하시겠습니까?`;\n    }\n    message += `\\n\\n📞 전화번호: ${libraryPhone}`;\n    if (libraryHours) {\n      message += `\\n⏰ 운영시간: ${libraryHours}`;\n    }\n    if (!isOpen) {\n      message += `\\n\\n⚠️ 현재 시간은 도서관 운영시간 외입니다.`;\n      message += `\\n운영시간에 다시 전화해주세요.`;\n    }\n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      if (isAvailable) {\n        alert('예약 확인을 위해 도서관에 직접 전화드리겠습니다.');\n      } else {\n        alert('대기신청 확인을 위해 도서관에 직접 전화드리겠습니다.');\n      }\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // 외부 검색어 처리\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete]);\n\n  // 부모에서 전달받은 지역 정보 동기화\n  useEffect(() => {\n    if (parentSelectedRegion !== undefined) {\n      setSelectedRegion(parentSelectedRegion);\n    }\n  }, [parentSelectedRegion]);\n\n  // 지역 선택 처리\n  useEffect(() => {\n    if (selectedRegion) {\n      const regionLibraries = generateLibrariesByRegion(selectedRegion);\n      setLibraries(regionLibraries);\n      if (searchResults.length > 0) {\n        const updatedResults = searchResults.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(regionLibraries)\n        }));\n        setSearchResults(updatedResults);\n      }\n    }\n  }, [selectedRegion, searchResults]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(SearchInputContainer, {\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          placeholder: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uB3C4\\uC11C\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n          value: searchTerm,\n          onChange: handleSearchInputChange,\n          onFocus: handleSearchInputFocus,\n          onBlur: handleAutocompleteClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this), showAutocomplete && autocompleteItems.length > 0 && /*#__PURE__*/_jsxDEV(AutocompleteDropdown, {\n          children: autocompleteItems.map((item, index) => /*#__PURE__*/_jsxDEV(AutocompleteItem, {\n            onClick: () => handleAutocompleteSelect(item),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon\",\n              children: item.type === 'recent' ? '🕐' : item.type === 'popular' ? '🔥' : '💡'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text\",\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category\",\n              children: item.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? '검색 중...' : '🔍 검색'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 881,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RegionSelector, {\n      onLibrariesUpdate: setLibraries,\n      selectedRegion: selectedRegion,\n      onRegionUpdate: region => {\n        setSelectedRegion(region);\n        if (onRegionUpdate) {\n          onRegionUpdate(region);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(QuickSearchSection, {\n      children: [/*#__PURE__*/_jsxDEV(QuickSearchTitle, {\n        children: \"\\uBE60\\uB978 \\uAC80\\uC0C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(QuickSearchTags, {\n        children: quickSearchKeywords.map(keyword => /*#__PURE__*/_jsxDEV(QuickSearchTag, {\n          onClick: () => handleQuickSearch(keyword),\n          children: keyword\n        }, keyword, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 899,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 7\n    }, this), recentSearches.length > 0 && /*#__PURE__*/_jsxDEV(QuickSearchSection, {\n      children: [/*#__PURE__*/_jsxDEV(QuickSearchTitle, {\n        children: \"\\uCD5C\\uADFC \\uAC80\\uC0C9\\uC5B4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(QuickSearchTags, {\n        children: [recentSearches.slice(0, 8).map((search, index) => /*#__PURE__*/_jsxDEV(QuickSearchTag, {\n          onClick: () => handleQuickSearch(search),\n          children: [\"\\uD83D\\uDD50 \", search]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 15\n        }, this)), recentSearches.length > 0 && /*#__PURE__*/_jsxDEV(QuickSearchTag, {\n          onClick: () => {\n            setRecentSearches([]);\n            localStorage.removeItem('recentSearches');\n          },\n          style: {\n            background: '#ffebee',\n            color: '#c62828',\n            border: '1px solid #ffcdd2'\n          },\n          children: \"\\uD83D\\uDDD1\\uFE0F \\uC804\\uCCB4 \\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 909,\n      columnNumber: 9\n    }, this), apiStatus && /*#__PURE__*/_jsxDEV(ApiStatus, {\n      isError: !!apiError,\n      children: apiStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 933,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoadingDiv, {\n      children: \"\\uD83D\\uDCDA \\uC2E4\\uC81C \\uB3C4\\uC11C\\uAD00 API\\uC5D0\\uC11C \\uAC80\\uC0C9\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 939,\n      columnNumber: 9\n    }, this), !loading && hasSearched && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(EmptyState, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emoji\",\n        children: \"\\uD83D\\uDCD6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 946,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 947,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        children: \"\\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 948,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 945,\n      columnNumber: 9\n    }, this), !loading && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(SearchResults, {\n      children: searchResults.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleBookmark(book.id),\n            style: {\n              background: 'none',\n              border: 'none',\n              fontSize: '24px',\n              cursor: 'pointer',\n              color: isBookmarked(book.id) ? '#ff6b6b' : '#ccc',\n              transition: 'color 0.3s'\n            },\n            title: isBookmarked(book.id) ? '즐겨찾기 해제' : '즐겨찾기 추가',\n            children: isBookmarked(book.id) ? '❤️' : '🤍'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(BookInfo, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uC800\\uC790: \", book.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uD310\\uC0AC: \", book.publisher]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCE74\\uD14C\\uACE0\\uB9AC: \", book.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uAC04\\uB144\\uB3C4: \", book.publishYear]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 17\n          }, this), book.loanCount && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uB300\\uCD9C \\uD69F\\uC218: \", book.loanCount.toLocaleString(), \"\\uD68C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 15\n        }, this), book.description && /*#__PURE__*/_jsxDEV(BookDescription, {\n          children: book.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 982,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AvailabilitySection, {\n          children: [/*#__PURE__*/_jsxDEV(AvailabilityTitle, {\n            children: [\"\\uD83D\\uDCCD \", selectedRegion || '서울', \" \\uB3C4\\uC11C\\uAD00 \\uC18C\\uC7A5 \\uD604\\uD669\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(LibraryList, {\n            children: book.availability.sort((a, b) => {\n              if (a.available && !b.available) return -1;\n              if (!a.available && b.available) return 1;\n              if (a.available && b.available) return a.waitingList - b.waitingList;\n              return a.waitingList - b.waitingList;\n            }).map(avail => /*#__PURE__*/_jsxDEV(LibraryItem, {\n              children: [/*#__PURE__*/_jsxDEV(LibraryInfo, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"name\",\n                  children: [avail.available ? '✅ ' : '⏳ ', avail.libraryName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1002,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"address\",\n                  children: avail.libraryAddress\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1006,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inventory\",\n                  children: [\"\\uD83D\\uDCDA \\uCD1D \", avail.totalBooks, \"\\uAD8C \\uBCF4\\uC720 | \\uB300\\uCD9C \\uAC00\\uB2A5: \", avail.availableBooks, \"\\uAD8C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1007,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inventory\",\n                  children: [\"\\uD83D\\uDCCD \\uC704\\uCE58: \", avail.location]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"phone\",\n                  children: avail.libraryPhone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1013,\n                  columnNumber: 25\n                }, this), avail.libraryHours && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"hours\",\n                  children: [\"\\u23F0 \", avail.libraryHours]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1014,\n                  columnNumber: 48\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                children: [/*#__PURE__*/_jsxDEV(StatusButton, {\n                  className: avail.available ? 'available' : 'unavailable',\n                  onClick: () => handleReserve(book.id, avail.libraryId, avail.libraryName, avail.libraryPhone, avail.libraryHours, avail.available),\n                  children: avail.available ? '✓ 바로 예약' : `💤 대기신청 (${avail.waitingList}명)`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(CallButton, {\n                  onClick: () => handleCall(avail.libraryName, avail.libraryPhone, avail.libraryHours),\n                  children: \"\\uD83D\\uDCDE \\uC804\\uD654\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1023,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1016,\n                columnNumber: 23\n              }, this)]\n            }, avail.libraryId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 987,\n          columnNumber: 15\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 953,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 856,\n    columnNumber: 5\n  }, this);\n};\n_s(BookSearchSection, \"x5JG6nGXtrW6kj/Z2rHi5mfey5E=\");\n_c26 = BookSearchSection;\nexport default BookSearchSection;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SearchForm\");\n$RefreshReg$(_c3, \"SearchInputContainer\");\n$RefreshReg$(_c4, \"SearchInput\");\n$RefreshReg$(_c5, \"AutocompleteDropdown\");\n$RefreshReg$(_c6, \"AutocompleteItem\");\n$RefreshReg$(_c7, \"SearchButton\");\n$RefreshReg$(_c8, \"QuickSearchSection\");\n$RefreshReg$(_c9, \"QuickSearchTitle\");\n$RefreshReg$(_c0, \"QuickSearchTags\");\n$RefreshReg$(_c1, \"QuickSearchTag\");\n$RefreshReg$(_c10, \"LoadingDiv\");\n$RefreshReg$(_c11, \"EmptyState\");\n$RefreshReg$(_c12, \"SearchResults\");\n$RefreshReg$(_c13, \"BookCard\");\n$RefreshReg$(_c14, \"BookTitle\");\n$RefreshReg$(_c15, \"BookInfo\");\n$RefreshReg$(_c16, \"BookDescription\");\n$RefreshReg$(_c17, \"AvailabilitySection\");\n$RefreshReg$(_c18, \"AvailabilityTitle\");\n$RefreshReg$(_c19, \"LibraryList\");\n$RefreshReg$(_c20, \"LibraryItem\");\n$RefreshReg$(_c21, \"LibraryInfo\");\n$RefreshReg$(_c22, \"ButtonGroup\");\n$RefreshReg$(_c23, \"StatusButton\");\n$RefreshReg$(_c24, \"CallButton\");\n$RefreshReg$(_c25, \"ApiStatus\");\n$RefreshReg$(_c26, \"BookSearchSection\");","map":{"version":3,"names":["React","useState","useEffect","styled","RegionSelector","searchBooksAPI","checkApiApprovalStatus","jsxDEV","_jsxDEV","Container","div","_c","SearchForm","form","_c2","SearchInputContainer","_c3","SearchInput","input","_c4","AutocompleteDropdown","_c5","AutocompleteItem","_c6","SearchButton","button","_c7","QuickSearchSection","_c8","QuickSearchTitle","h4","_c9","QuickSearchTags","_c0","QuickSearchTag","_c1","LoadingDiv","_c10","EmptyState","_c11","SearchResults","_c12","BookCard","_c13","BookTitle","h3","_c14","BookInfo","_c15","BookDescription","p","_c16","AvailabilitySection","_c17","AvailabilityTitle","_c18","LibraryList","_c19","LibraryItem","_c20","LibraryInfo","_c21","ButtonGroup","_c22","StatusButton","_c23","CallButton","_c24","ApiStatus","props","isError","_c25","BookSearchSection","externalSearchQuery","onExternalSearchComplete","selectedRegion","parentSelectedRegion","onRegionUpdate","_s","searchTerm","setSearchTerm","searchResults","setSearchResults","loading","setLoading","hasSearched","setHasSearched","setSelectedRegion","libraries","setLibraries","apiStatus","setApiStatus","apiError","setApiError","recentSearches","setRecentSearches","showAutocomplete","setShowAutocomplete","autocompleteItems","setAutocompleteItems","bookmarks","setBookmarks","quickSearchKeywords","popularSearches","text","category","updateAutocomplete","inputValue","trim","items","slice","map","search","type","searchValue","toLowerCase","matchedItems","forEach","includes","push","length","handleAutocompleteSelect","item","saveRecentSearch","performSearch","handleSearchInputChange","e","value","target","setTimeout","handleSearchInputFocus","handleAutocompleteClose","savedSearches","localStorage","getItem","JSON","parse","savedBookmarks","query","updated","filter","s","setItem","stringify","toggleBookmark","bookId","id","isBookmarked","checkApprovalStatus","isApproved","error","generateLibrariesByRegion","region","regionLower","cityName","replace","name","address","phone","hours","libraryData","key","data","Object","entries","generateLibraryAvailability","library","libraryId","libraryName","libraryAddress","libraryPhone","libraryHours","available","Math","random","waitingList","floor","totalBooks","availableBooks","location","String","fromCharCode","results","booksWithAvailability","book","availability","dummyResults","getDummySearchResults","console","dummyBooks","title","author","publisher","isbn","publishYear","description","loanCount","filtered","handleSearch","preventDefault","handleQuickSearch","keyword","handleCall","currentTime","Date","currentHour","getHours","isOpen","message","confirmed","window","confirm","href","handleReserve","isAvailable","alert","undefined","regionLibraries","updatedResults","children","onSubmit","placeholder","onChange","onFocus","onBlur","fileName","_jsxFileName","lineNumber","columnNumber","index","onClick","className","disabled","onLibrariesUpdate","removeItem","style","background","color","border","display","justifyContent","alignItems","marginBottom","fontSize","cursor","transition","toLocaleString","sort","a","b","avail","_c26","$RefreshReg$"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/components/BookSearchSection.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { searchBooksAPI, checkApiApprovalStatus } from '../services/LibraryAPI';\n\n// 스타일드 컴포넌트 정의\nconst Container = styled.div`\n  width: 100%;\n  padding: 20px;\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;\n\nconst SearchInputContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;\n\nconst AutocompleteDropdown = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;\n\nconst AutocompleteItem = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;\n\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst QuickSearchSection = styled.div`\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  border: 1px solid #e0e0e0;\n`;\n\nconst QuickSearchTitle = styled.h4`\n  margin: 0 0 10px 0;\n  color: #333;\n  font-size: 16px;\n`;\n\nconst QuickSearchTags = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n\nconst QuickSearchTag = styled.button`\n  padding: 6px 12px;\n  background: #f0f8ff;\n  border: 1px solid #4CAF50;\n  color: #4CAF50;\n  border-radius: 16px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &:hover {\n    background: #4CAF50;\n    color: white;\n  }\n`;\n\nconst LoadingDiv = styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;\n\nconst SearchResults = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nconst BookCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;\n\nconst BookTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;\n\nconst BookInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;\n\nconst BookDescription = styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;\n\nconst AvailabilitySection = styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;\n\nconst AvailabilityTitle = styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nconst LibraryList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst LibraryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;\n\nconst LibraryInfo = styled.div`\n  .name {\n    font-weight: 600;\n    color: #333;\n    font-size: 16px;\n    margin-bottom: 4px;\n  }\n  \n  .address {\n    color: #666;\n    font-size: 14px;\n    margin-bottom: 4px;\n  }\n  \n  .phone {\n    color: #4CAF50;\n    font-size: 14px;\n    font-weight: 600;\n  }\n  \n  .hours {\n    color: #666;\n    font-size: 12px;\n    margin-top: 4px;\n  }\n\n  .inventory {\n    color: #2196F3;\n    font-size: 14px;\n    font-weight: 600;\n    margin-top: 4px;\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nconst StatusButton = styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  \n  &.available {\n    background: #4CAF50;\n    color: white;\n    \n    &:hover {\n      background: #45a049;\n    }\n  }\n  \n  &.unavailable {\n    background: #ff9800;\n    color: white;\n    \n    &:hover {\n      background: #f57c00;\n    }\n  }\n`;\n\nconst CallButton = styled.button`\n  padding: 10px 16px;\n  background: #2196F3;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  \n  &:hover {\n    background: #1976D2;\n  }\n`;\n\nconst ApiStatus = styled.div<{ isError: boolean }>`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  \n  background: ${props => props.isError ? '#ffebee' : '#e8f5e8'};\n  color: ${props => props.isError ? '#c62828' : '#2e7d32'};\n  border: 1px solid ${props => props.isError ? '#ffcdd2' : '#c8e6c9'};\n`;\n\n// 인터페이스 정의\ninterface Library {\n  id: number;\n  name: string;\n  address: string;\n  phone: string;\n  hours?: string;\n}\n\ninterface AutocompleteItemData {\n  text: string;\n  category: string;\n  type: 'popular' | 'recent' | 'suggestion';\n}\n\ninterface Book {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  publishYear: string;\n  description?: string;\n  imageUrl?: string;\n  loanCount?: number;\n  availability: Array<{\n    libraryId: number;\n    libraryName: string;\n    libraryAddress: string;\n    libraryPhone: string;\n    libraryHours?: string;\n    available: boolean;\n    waitingList: number;\n    totalBooks: number;\n    availableBooks: number;\n    location: string;\n  }>;\n}\n\ninterface BookSearchSectionProps {\n  externalSearchQuery?: string;\n  onExternalSearchComplete?: () => void;\n  selectedRegion?: string;\n  onRegionUpdate?: (region: string) => void;\n}\n\nconst BookSearchSection: React.FC<BookSearchSectionProps> = ({ \n  externalSearchQuery, \n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate \n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<Book[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [libraries, setLibraries] = useState<Library[]>([]);\n  const [apiStatus, setApiStatus] = useState<string>('');\n  const [apiError, setApiError] = useState<string>('');\n\n  // 최근 검색어 상태\n  const [recentSearches, setRecentSearches] = useState<string[]>([]);\n\n  // 자동완성 상태\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteItems, setAutocompleteItems] = useState<AutocompleteItemData[]>([]);\n\n  // 즐겨찾기 상태\n  const [bookmarks, setBookmarks] = useState<string[]>([]);\n\n  // 빠른 검색 키워드\n  const quickSearchKeywords = [\n    '베스트셀러', '소설', '에세이', '건강', '요리', '취미', '역사', '자기계발', '시집', '여행'\n  ];\n\n  // 인기 검색어 목록\n  const popularSearches = [\n    { text: '달과 6펜스', category: '문학' },\n    { text: '미움받을 용기', category: '자기계발' },\n    { text: '수학의 정석', category: '교육' },\n    { text: '82년생 김지영', category: '소설' },\n    { text: '원씽', category: '자기계발' },\n    { text: '세계사 편지', category: '역사' },\n    { text: '코스모스', category: '과학' },\n    { text: '작별하지 않는다', category: '소설' },\n    { text: '아프니까 청춘이다', category: '에세이' },\n    { text: '불편한 편의점', category: '소설' },\n    { text: '아몬드', category: '소설' },\n    { text: '당신이 옳다', category: '에세이' },\n    { text: '사피엔스', category: '인문' },\n    { text: '데미안', category: '문학' },\n    { text: '어린왕자', category: '문학' }\n  ];\n\n  // 자동완성 기능\n  const updateAutocomplete = (inputValue: string) => {\n    if (!inputValue.trim()) {\n      const items: AutocompleteItemData[] = [\n        ...recentSearches.slice(0, 5).map(search => ({\n          text: search,\n          category: '최근 검색',\n          type: 'recent' as const\n        })),\n        ...popularSearches.slice(0, 5).map(search => ({\n          text: search.text,\n          category: search.category,\n          type: 'popular' as const\n        }))\n      ];\n      setAutocompleteItems(items);\n      setShowAutocomplete(true);\n      return;\n    }\n\n    const searchValue = inputValue.toLowerCase();\n    const matchedItems: AutocompleteItem[] = [];\n\n    recentSearches.forEach(search => {\n      if (search.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search,\n          category: '최근 검색',\n          type: 'recent'\n        });\n      }\n    });\n\n    popularSearches.forEach(search => {\n      if (search.text.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search.text,\n          category: search.category,\n          type: 'popular'\n        });\n      }\n    });\n\n    setAutocompleteItems(matchedItems.slice(0, 10));\n    setShowAutocomplete(matchedItems.length > 0);\n  };\n\n  // 자동완성 아이템 선택 처리\n  const handleAutocompleteSelect = (item: AutocompleteItem) => {\n    setSearchTerm(item.text);\n    setShowAutocomplete(false);\n    saveRecentSearch(item.text);\n    performSearch(item.text);\n  };\n\n  // 검색 입력 처리\n  const handleSearchInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    \n    setTimeout(() => {\n      updateAutocomplete(value);\n    }, 300);\n  };\n\n  // 검색 입력 포커스 처리\n  const handleSearchInputFocus = () => {\n    updateAutocomplete(searchTerm);\n  };\n\n  // 자동완성 닫기\n  const handleAutocompleteClose = () => {\n    setTimeout(() => setShowAutocomplete(false), 150);\n  };\n\n  // 컴포넌트 마운트 시 최근 검색어 및 즐겨찾기 불러오기\n  useEffect(() => {\n    const savedSearches = localStorage.getItem('recentSearches');\n    if (savedSearches) {\n      setRecentSearches(JSON.parse(savedSearches));\n    }\n    \n    const savedBookmarks = localStorage.getItem('bookmarks');\n    if (savedBookmarks) {\n      setBookmarks(JSON.parse(savedBookmarks));\n    }\n  }, []);\n\n  // 최근 검색어 저장\n  const saveRecentSearch = (query: string) => {\n    const updated = [query, ...recentSearches.filter(s => s !== query)].slice(0, 10);\n    setRecentSearches(updated);\n    localStorage.setItem('recentSearches', JSON.stringify(updated));\n  };\n\n  // 즐겨찾기 토글\n  const toggleBookmark = (bookId: string) => {\n    let updated: string[];\n    if (bookmarks.includes(bookId)) {\n      updated = bookmarks.filter(id => id !== bookId);\n    } else {\n      updated = [...bookmarks, bookId];\n    }\n    setBookmarks(updated);\n    localStorage.setItem('bookmarks', JSON.stringify(updated));\n  };\n\n  // 즐겨찾기 여부 확인\n  const isBookmarked = (bookId: string) => bookmarks.includes(bookId);\n\n  // API 승인 상태 확인\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        const isApproved = await checkApiApprovalStatus('651824a6d5a5d765b513f7f8059ef5ffb2ac3c30f15f0114a8764076c8b902b8');\n        if (isApproved) {\n          setApiStatus('✅ 실시간 도서관 API 연결됨');\n        } else {\n          setApiStatus('⚠️ API 승인 대기 중 - 샘플 데이터 제공');\n        }\n      } catch (error) {\n        setApiStatus('⚠️ API 연결 확인 중 - 안정적인 서비스 제공');\n      }\n    };\n\n    checkApprovalStatus();\n  }, []);\n\n  // 지역별 도서관 생성\n  const generateLibrariesByRegion = (region: string): Library[] => {\n    const regionLower = region.toLowerCase();\n    \n    if (regionLower.includes('동')) {\n      const cityName = region.replace('동', '');\n      return [\n        { id: 1, name: `${cityName}동 주민센터 도서관`, address: `경기도 ${cityName}동 중앙로 123`, phone: '031-123-4567', hours: '09:00-18:00' },\n        { id: 2, name: `${cityName}동 구민회관 도서관`, address: `경기도 ${cityName}동 복합문화센터 2층`, phone: '031-234-5678', hours: '10:00-20:00' },\n        { id: 3, name: `${cityName}동 작은도서관`, address: `경기도 ${cityName}동 주택가 내 작은도서관`, phone: '031-345-6789', hours: '10:00-18:00' }\n      ];\n    }\n    \n    const libraryData: { [key: string]: Library[] } = {\n      '수원': [\n        { id: 1, name: '수원시립중앙도서관', address: '경기 수원시 영통구 광교로 183', phone: '031-228-4300', hours: '09:00-22:00' },\n        { id: 2, name: '경기도립중앙도서관', address: '경기 수원시 영통구 월드컵로 235', phone: '031-249-4800', hours: '09:00-18:00' },\n        { id: 3, name: '영통구립도서관', address: '경기 수원시 영통구 영통동 999-1', phone: '031-228-4350', hours: '09:00-20:00' }\n      ],\n      '성남': [\n        { id: 1, name: '성남시립중앙도서관', address: '경기 성남시 분당구 양현로 346', phone: '031-729-4600', hours: '09:00-18:00' },\n        { id: 2, name: '분당구립정자도서관', address: '경기 성남시 분당구 정자동 178-1', phone: '031-729-4650', hours: '09:00-20:00' },\n        { id: 3, name: '서현작은도서관', address: '경기 성남시 분당구 서현동 271-3', phone: '031-729-4670', hours: '10:00-18:00' }\n      ],\n      '고양': [\n        { id: 1, name: '고양시립중앙도서관', address: '경기 고양시 덕양구 고양대로 1955', phone: '031-8075-9300', hours: '09:00-18:00' },\n        { id: 2, name: '일산동구립도서관', address: '경기 고양시 일산동구 백석동 1256', phone: '031-8075-9350', hours: '09:00-20:00' },\n        { id: 3, name: '백석작은도서관', address: '경기 고양시 일산동구 백석동 1234-5', phone: '031-8075-9380', hours: '10:00-18:00' }\n      ]\n    };\n    \n    for (const [key, data] of Object.entries(libraryData)) {\n      if (regionLower.includes(key)) {\n        return data;\n      }\n    }\n    \n    return [\n      { id: 1, name: '서울시립중앙도서관', address: '서울특별시 중구 세종대로 110', phone: '02-2133-0300', hours: '09:00-20:00' },\n      { id: 2, name: '강남구립도서관', address: '서울특별시 강남구 테헤란로 114', phone: '02-2182-0300', hours: '09:00-22:00' },\n      { id: 3, name: '서초구립도서관', address: '서울특별시 서초구 반포대로 58', phone: '02-2155-8000', hours: '10:00-20:00' }\n    ];\n  };\n\n  // 도서관별 소장 현황 생성\n  const generateLibraryAvailability = (libraries: Library[]) => {\n    return libraries.map(library => ({\n      libraryId: library.id,\n      libraryName: library.name,\n      libraryAddress: library.address,\n      libraryPhone: library.phone,\n      libraryHours: library.hours,\n      available: Math.random() > 0.4,\n      waitingList: Math.floor(Math.random() * 5) + 1,\n      totalBooks: Math.floor(Math.random() * 5) + 1,\n      availableBooks: Math.floor(Math.random() * 3),\n      location: `${Math.floor(Math.random() * 10) + 1}층 ${String.fromCharCode(65 + Math.floor(Math.random() * 5))}구역`\n    }));\n  };\n\n  // 검색 수행\n  const performSearch = async (query: string) => {\n    setLoading(true);\n    setHasSearched(true);\n    setApiError('');\n\n    try {\n      const results = await searchBooksAPI(query, 1, 20);\n      \n      if (results && results.length > 0) {\n        setApiStatus('✅ 실제 도서관 데이터로 검색 완료');\n        \n        const booksWithAvailability = results.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(libraries)\n        }));\n        \n        setSearchResults(booksWithAvailability);\n      } else {\n        setApiStatus('⚠️ 도서관 API 연결 중 - 샘플 데이터 제공');\n        const dummyResults = getDummySearchResults(query);\n        setSearchResults(dummyResults);\n      }\n    } catch (error) {\n      console.error('검색 중 오류:', error);\n      setApiError('API 연결 오류가 발생했습니다. 샘플 데이터를 제공합니다.');\n      setApiStatus('⚠️ API 연결 오류 - 안정적인 서비스 제공');\n      \n      const dummyResults = getDummySearchResults(query);\n      setSearchResults(dummyResults);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 더미 검색 결과 생성\n  const getDummySearchResults = (query: string): Book[] => {\n    const dummyBooks = [\n      {\n        id: '1',\n        title: '미움받을 용기',\n        author: '기시미 이치로, 고가 후미타케',\n        publisher: '인플루엔셜',\n        isbn: '9788950955671',\n        category: '자기계발',\n        publishYear: '2014',\n        description: '아들러 심리학을 바탕으로 한 인간관계와 삶의 지혜를 담은 책',\n        loanCount: 2847\n      },\n      {\n        id: '2',\n        title: '82년생 김지영',\n        author: '조남주',\n        publisher: '민음사',\n        isbn: '9788937473371',\n        category: '소설',\n        publishYear: '2016',\n        description: '한국 여성의 현실을 생생하게 그린 소설',\n        loanCount: 1923\n      },\n      {\n        id: '3',\n        title: '사피엔스',\n        author: '유발 하라리',\n        publisher: '김영사',\n        isbn: '9788934972464',\n        category: '인문',\n        publishYear: '2015',\n        description: '인류의 역사를 통찰한 베스트셀러',\n        loanCount: 1456\n      }\n    ];\n\n    const filtered = dummyBooks.filter(book =>\n      book.title.toLowerCase().includes(query.toLowerCase()) ||\n      book.author.toLowerCase().includes(query.toLowerCase()) ||\n      book.category.toLowerCase().includes(query.toLowerCase())\n    );\n\n    return filtered.length > 0 ? filtered.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    })) : dummyBooks.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    }));\n  };\n\n  // 검색 폼 제출\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      saveRecentSearch(searchTerm.trim());\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // 빠른 검색 처리\n  const handleQuickSearch = (keyword: string) => {\n    setSearchTerm(keyword);\n    saveRecentSearch(keyword);\n    performSearch(keyword);\n  };\n\n  // 전화 연결 처리\n  const handleCall = (libraryName: string, libraryPhone: string, libraryHours?: string) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    \n    const isOpen = currentHour >= 9 && currentHour < 18;\n    \n    let message = `${libraryName}에 전화하시겠습니까?`;\n    if (libraryHours) {\n      message += `\\n\\n📞 전화번호: ${libraryPhone}`;\n      message += `\\n⏰ 운영시간: ${libraryHours}`;\n    }\n    \n    if (!isOpen) {\n      message += `\\n\\n⚠️ 현재 시간(${currentHour}시)은 도서관 운영시간 외입니다.`;\n    }\n    \n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // 예약 처리\n  const handleReserve = (bookId: string, libraryId: number, libraryName: string, libraryPhone: string, libraryHours: string = '', isAvailable: boolean) => {\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    \n    let message = '';\n    if (isAvailable) {\n      message = `${libraryName}에서 이 도서를 예약하시겠습니까?`;\n    } else {\n      message = `${libraryName}에 대기신청하시겠습니까?`;\n    }\n    \n    message += `\\n\\n📞 전화번호: ${libraryPhone}`;\n    if (libraryHours) {\n      message += `\\n⏰ 운영시간: ${libraryHours}`;\n    }\n    \n    if (!isOpen) {\n      message += `\\n\\n⚠️ 현재 시간은 도서관 운영시간 외입니다.`;\n      message += `\\n운영시간에 다시 전화해주세요.`;\n    }\n    \n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      if (isAvailable) {\n        alert('예약 확인을 위해 도서관에 직접 전화드리겠습니다.');\n      } else {\n        alert('대기신청 확인을 위해 도서관에 직접 전화드리겠습니다.');\n      }\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // 외부 검색어 처리\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete]);\n\n  // 부모에서 전달받은 지역 정보 동기화\n  useEffect(() => {\n    if (parentSelectedRegion !== undefined) {\n      setSelectedRegion(parentSelectedRegion);\n    }\n  }, [parentSelectedRegion]);\n\n  // 지역 선택 처리\n  useEffect(() => {\n    if (selectedRegion) {\n      const regionLibraries = generateLibrariesByRegion(selectedRegion);\n      setLibraries(regionLibraries);\n      \n      if (searchResults.length > 0) {\n        const updatedResults = searchResults.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(regionLibraries)\n        }));\n        setSearchResults(updatedResults);\n      }\n    }\n  }, [selectedRegion, searchResults]);\n\n  return (\n    <Container>\n      <SearchForm onSubmit={handleSearch}>\n        <SearchInputContainer>\n          <SearchInput\n            type=\"text\"\n            placeholder=\"찾으시는 도서명을 입력해주세요\"\n            value={searchTerm}\n            onChange={handleSearchInputChange}\n            onFocus={handleSearchInputFocus}\n            onBlur={handleAutocompleteClose}\n          />\n          {showAutocomplete && autocompleteItems.length > 0 && (\n            <AutocompleteDropdown>\n              {autocompleteItems.map((item, index) => (\n                <AutocompleteItem key={index} onClick={() => handleAutocompleteSelect(item)}>\n                  <span className=\"icon\">\n                    {item.type === 'recent' ? '🕐' : item.type === 'popular' ? '🔥' : '💡'}\n                  </span>\n                  <span className=\"text\">{item.text}</span>\n                  <span className=\"category\">{item.category}</span>\n                </AutocompleteItem>\n              ))}\n            </AutocompleteDropdown>\n          )}\n        </SearchInputContainer>\n        <SearchButton type=\"submit\" disabled={loading}>\n          {loading ? '검색 중...' : '🔍 검색'}\n        </SearchButton>\n      </SearchForm>\n\n      <RegionSelector \n        onLibrariesUpdate={setLibraries} \n        selectedRegion={selectedRegion} \n        onRegionUpdate={(region) => {\n          setSelectedRegion(region);\n          if (onRegionUpdate) {\n            onRegionUpdate(region);\n          }\n        }} \n      />\n\n      <QuickSearchSection>\n        <QuickSearchTitle>빠른 검색</QuickSearchTitle>\n        <QuickSearchTags>\n          {quickSearchKeywords.map(keyword => (\n            <QuickSearchTag key={keyword} onClick={() => handleQuickSearch(keyword)}>\n              {keyword}\n            </QuickSearchTag>\n          ))}\n        </QuickSearchTags>\n      </QuickSearchSection>\n\n      {recentSearches.length > 0 && (\n        <QuickSearchSection>\n          <QuickSearchTitle>최근 검색어</QuickSearchTitle>\n          <QuickSearchTags>\n            {recentSearches.slice(0, 8).map((search, index) => (\n              <QuickSearchTag key={index} onClick={() => handleQuickSearch(search)}>\n                🕐 {search}\n              </QuickSearchTag>\n            ))}\n            {recentSearches.length > 0 && (\n              <QuickSearchTag \n                onClick={() => {\n                  setRecentSearches([]);\n                  localStorage.removeItem('recentSearches');\n                }}\n                style={{ background: '#ffebee', color: '#c62828', border: '1px solid #ffcdd2' }}\n              >\n                🗑️ 전체 삭제\n              </QuickSearchTag>\n            )}\n          </QuickSearchTags>\n        </QuickSearchSection>\n      )}\n\n      {apiStatus && (\n        <ApiStatus isError={!!apiError}>\n          {apiStatus}\n        </ApiStatus>\n      )}\n\n      {loading && (\n        <LoadingDiv>\n          📚 실제 도서관 API에서 검색하고 있습니다...\n        </LoadingDiv>\n      )}\n\n      {!loading && hasSearched && searchResults.length === 0 && (\n        <EmptyState>\n          <div className=\"emoji\">📖</div>\n          <div className=\"title\">검색 결과가 없습니다</div>\n          <div className=\"subtitle\">다른 키워드로 검색해보세요</div>\n        </EmptyState>\n      )}\n\n      {!loading && searchResults.length > 0 && (\n        <SearchResults>\n          {searchResults.map((book) => (\n            <BookCard key={book.id}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' }}>\n                <BookTitle>{book.title}</BookTitle>\n                <button\n                  onClick={() => toggleBookmark(book.id)}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    color: isBookmarked(book.id) ? '#ff6b6b' : '#ccc',\n                    transition: 'color 0.3s'\n                  }}\n                  title={isBookmarked(book.id) ? '즐겨찾기 해제' : '즐겨찾기 추가'}\n                >\n                  {isBookmarked(book.id) ? '❤️' : '🤍'}\n                </button>\n              </div>\n              <BookInfo>\n                <span>저자: {book.author}</span>\n                <span>출판사: {book.publisher}</span>\n                <span>카테고리: {book.category}</span>\n                <span>출간년도: {book.publishYear}</span>\n                {book.loanCount && <span>대출 횟수: {book.loanCount.toLocaleString()}회</span>}\n              </BookInfo>\n              \n              {book.description && (\n                <BookDescription>\n                  {book.description}\n                </BookDescription>\n              )}\n              \n              <AvailabilitySection>\n                <AvailabilityTitle>\n                  📍 {selectedRegion || '서울'} 도서관 소장 현황\n                </AvailabilityTitle>\n                <LibraryList>\n                  {book.availability\n                    .sort((a, b) => {\n                      if (a.available && !b.available) return -1;\n                      if (!a.available && b.available) return 1;\n                      if (a.available && b.available) return a.waitingList - b.waitingList;\n                      return a.waitingList - b.waitingList;\n                    })\n                    .map((avail) => (\n                    <LibraryItem key={avail.libraryId}>\n                      <LibraryInfo>\n                        <div className=\"name\">\n                          {avail.available ? '✅ ' : '⏳ '}\n                          {avail.libraryName}\n                        </div>\n                        <div className=\"address\">{avail.libraryAddress}</div>\n                        <div className=\"inventory\">\n                          📚 총 {avail.totalBooks}권 보유 | 대출 가능: {avail.availableBooks}권\n                        </div>\n                        <div className=\"inventory\">\n                          📍 위치: {avail.location}\n                        </div>\n                        <div className=\"phone\">{avail.libraryPhone}</div>\n                        {avail.libraryHours && <div className=\"hours\">⏰ {avail.libraryHours}</div>}\n                      </LibraryInfo>\n                      <ButtonGroup>\n                        <StatusButton\n                          className={avail.available ? 'available' : 'unavailable'}\n                          onClick={() => handleReserve(book.id, avail.libraryId, avail.libraryName, avail.libraryPhone, avail.libraryHours, avail.available)}\n                        >\n                          {avail.available ? '✓ 바로 예약' : `💤 대기신청 (${avail.waitingList}명)`}\n                        </StatusButton>\n                        <CallButton onClick={() => handleCall(avail.libraryName, avail.libraryPhone, avail.libraryHours)}>\n                          📞 전화하기\n                        </CallButton>\n                      </ButtonGroup>\n                    </LibraryItem>\n                  ))}\n                </LibraryList>\n              </AvailabilitySection>\n            </BookCard>\n          ))}\n        </SearchResults>\n      )}\n    </Container>\n  );\n};\n\nexport default BookSearchSection;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,SAASC,cAAc,EAAEC,sBAAsB,QAAQ,wBAAwB;;AAE/E;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAGN,MAAM,CAACO,GAAG;AAC5B;AACA;AACA,CAAC;AAACC,EAAA,GAHIF,SAAS;AAKf,MAAMG,UAAU,GAAGT,MAAM,CAACU,IAAI;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,UAAU;AAOhB,MAAMG,oBAAoB,GAAGZ,MAAM,CAACO,GAAG;AACvC;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAJID,oBAAoB;AAM1B,MAAME,WAAW,GAAGd,MAAM,CAACe,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAlBIF,WAAW;AAoBjB,MAAMG,oBAAoB,GAAGjB,MAAM,CAACO,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAbID,oBAAoB;AAe1B,MAAME,gBAAgB,GAAGnB,MAAM,CAACO,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GA9BID,gBAAgB;AAgCtB,MAAME,YAAY,GAAGrB,MAAM,CAACsB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAtBIF,YAAY;AAwBlB,MAAMG,kBAAkB,GAAGxB,MAAM,CAACO,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkB,GAAA,GANID,kBAAkB;AAQxB,MAAME,gBAAgB,GAAG1B,MAAM,CAAC2B,EAAE;AAClC;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,gBAAgB;AAMtB,MAAMG,eAAe,GAAG7B,MAAM,CAACO,GAAG;AAClC;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GAJID,eAAe;AAMrB,MAAME,cAAc,GAAG/B,MAAM,CAACsB,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAdID,cAAc;AAgBpB,MAAME,UAAU,GAAGjC,MAAM,CAACO,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GARID,UAAU;AAUhB,MAAME,UAAU,GAAGnC,MAAM,CAACO,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GAvBID,UAAU;AAyBhB,MAAME,aAAa,GAAGrC,MAAM,CAACO,GAAG;AAChC;AACA;AACA;AACA,CAAC;AAAC+B,IAAA,GAJID,aAAa;AAMnB,MAAME,QAAQ,GAAGvC,MAAM,CAACO,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiC,IAAA,GAZID,QAAQ;AAcd,MAAME,SAAS,GAAGzC,MAAM,CAAC0C,EAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAPIF,SAAS;AASf,MAAMG,QAAQ,GAAG5C,MAAM,CAACO,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAVID,QAAQ;AAYd,MAAME,eAAe,GAAG9C,MAAM,CAAC+C,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GARIF,eAAe;AAUrB,MAAMG,mBAAmB,GAAGjD,MAAM,CAACO,GAAG;AACtC;AACA;AACA,CAAC;AAAC2C,IAAA,GAHID,mBAAmB;AAKzB,MAAME,iBAAiB,GAAGnD,MAAM,CAAC2B,EAAE;AACnC;AACA;AACA;AACA;AACA,CAAC;AAACyB,IAAA,GALID,iBAAiB;AAOvB,MAAME,WAAW,GAAGrD,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAAC+C,IAAA,GAJID,WAAW;AAMjB,MAAME,WAAW,GAAGvD,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiD,IAAA,GAdID,WAAW;AAgBjB,MAAME,WAAW,GAAGzD,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmD,IAAA,GAhCID,WAAW;AAkCjB,MAAME,WAAW,GAAG3D,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACqD,IAAA,GATID,WAAW;AAWjB,MAAME,YAAY,GAAG7D,MAAM,CAACsB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GA1BID,YAAY;AA4BlB,MAAME,UAAU,GAAG/D,MAAM,CAACsB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC0C,IAAA,GAjBID,UAAU;AAmBhB,MAAME,SAAS,GAAGjE,MAAM,CAACO,GAAyB;AAClD;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}