{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qoo\\\\Desktop\\\\zziyoonii\\\\senior\\\\src\\\\components\\\\BookSearchSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport RegionSelector from './RegionSelector';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookSearchSection = ({\n  libraries,\n  onLibrariesUpdate,\n  selectedRegion,\n  onRegionUpdate,\n  externalSearchQuery,\n  onExternalSearchComplete\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Ïô∏Î∂ÄÏóêÏÑú Ï†ÑÎã¨Îêú Í≤ÄÏÉâÏñ¥ Ï≤òÎ¶¨ (Ïù∏Í∏∞ÎèÑÏÑú ÌÅ¥Î¶≠ Ïãú)\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery !== searchTerm) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, searchTerm, onExternalSearchComplete]);\n\n  // ÏßÄÏó≠Ïù¥ Î≥ÄÍ≤ΩÎêòÎ©¥ Í≤ÄÏÉâ Í≤∞Í≥º ÏóÖÎç∞Ïù¥Ìä∏ (ÎèÑÏÑúÍ¥Ä Ï†ïÎ≥¥ Í∞±Ïã†)\n  useEffect(() => {\n    if (searchResults.length > 0 && selectedRegion) {\n      // Í∏∞Ï°¥ Í≤ÄÏÉâ Í≤∞Í≥ºÏóê ÏÉàÎ°úÏö¥ ÏßÄÏó≠Ïùò ÎèÑÏÑúÍ¥Ä Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\n      const updatedResults = searchResults.map(book => ({\n        ...book,\n        availability: generateLibraryAvailability(libraries)\n      }));\n      setSearchResults(updatedResults);\n    }\n  }, [libraries, selectedRegion]);\n  const generateLibraryAvailability = libraryList => {\n    return libraryList.slice(0, 5).map(library => ({\n      libraryId: library.id,\n      libraryName: library.name,\n      libraryAddress: library.address,\n      libraryPhone: library.phone,\n      libraryType: library.type,\n      available: Math.random() > 0.3,\n      waitingList: Math.floor(Math.random() * 5) + 1\n    }));\n  };\n  const performSearch = query => {\n    setLoading(true);\n\n    // ÎçîÎØ∏ Í≤ÄÏÉâ Í≤∞Í≥º ÏÉùÏÑ±\n    const dummyBooks = [{\n      id: 1,\n      title: 'Îã¨Îü¨Íµ¨Ìä∏ Íøà Î∞±ÌôîÏ†ê',\n      author: 'Ïù¥ÎØ∏Ïòà',\n      publisher: 'Ìå©ÌÜ†Î¶¨ÎÇòÏù∏',\n      isbn: '9791165341909'\n    }, {\n      id: 2,\n      title: 'ÏΩîÏä§Î™®Ïä§',\n      author: 'Ïπº ÏÑ∏Ïù¥Í±¥',\n      publisher: 'ÏÇ¨Ïù¥Ïñ∏Ïä§Î∂ÅÏä§',\n      isbn: '9788983711892'\n    }, {\n      id: 3,\n      title: 'ÏÇ¨ÌîºÏóîÏä§',\n      author: 'Ïú†Î∞ú ÌïòÎùºÎ¶¨',\n      publisher: 'ÍπÄÏòÅÏÇ¨',\n      isbn: '9788934972464'\n    }, {\n      id: 4,\n      title: 'Ìò∏Î™® Îç∞Ïö∞Ïä§',\n      author: 'Ïú†Î∞ú ÌïòÎùºÎ¶¨',\n      publisher: 'ÍπÄÏòÅÏÇ¨',\n      isbn: '9788934985067'\n    }, {\n      id: 5,\n      title: 'ÎØ∏ÎìúÎÇòÏûá ÎùºÏù¥Î∏åÎü¨Î¶¨',\n      author: 'Îß§Ìä∏ Ìó§Ïù¥Í∑∏',\n      publisher: 'Ïù∏ÌîåÎ£®ÏóîÏÖú',\n      isbn: '9791189127893'\n    }, {\n      id: 6,\n      title: 'ÏïÑÎ™¨Îìú',\n      author: 'ÏÜêÏõêÌèâ',\n      publisher: 'Ï∞ΩÎπÑ',\n      isbn: '9788936434267'\n    }, {\n      id: 7,\n      title: '82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ',\n      author: 'Ï°∞ÎÇ®Ï£º',\n      publisher: 'ÎØºÏùåÏÇ¨',\n      isbn: '9788937473395'\n    }, {\n      id: 8,\n      title: 'Ï£ΩÏùÄ ÏãúÏù∏Ïùò ÏÇ¨Ìöå',\n      author: 'ÌÜ∞ ÏäêÎ®º',\n      publisher: 'ÌòÑÎåÄÎ¨∏Ìïô',\n      isbn: '9788972757190'\n    }];\n\n    // Í≤ÄÏÉâÏñ¥ÏôÄ Í¥ÄÎ†®Îêú Ï±ÖÎì§ ÌïÑÌÑ∞ÎßÅ\n    const filteredBooks = dummyBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()) || book.publisher.toLowerCase().includes(query.toLowerCase()));\n    setTimeout(() => {\n      // Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏúºÎ©¥ ÎûúÎç§ÏúºÎ°ú 3Í∞ú ÏÑ†ÌÉù\n      const results = filteredBooks.length > 0 ? filteredBooks : dummyBooks.sort(() => 0.5 - Math.random()).slice(0, 3);\n      const resultsWithAvailability = results.map(book => ({\n        ...book,\n        availability: generateLibraryAvailability(libraries)\n      }));\n      setSearchResults(resultsWithAvailability);\n      setLoading(false);\n    }, 1000);\n  };\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      performSearch(searchTerm);\n    }\n  };\n  const handleSearchTermChange = e => {\n    const value = e.target.value;\n    setSearchTerm(value);\n\n    // Í≤ÄÏÉâÏñ¥ Î≥ÄÍ≤Ω Ïãú Í≤ÄÏÉâ Í≤∞Í≥º ÏÉÅÌÉú Î¶¨ÏÖã\n    if (!value.trim()) {\n      setSearchResults([]);\n    }\n\n    // Í≤ÄÏÉâÏñ¥Í∞Ä ÎπÑÏñ¥ÏûàÏúºÎ©¥ Í≤ÄÏÉâ Í≤∞Í≥ºÎèÑ Ï¥àÍ∏∞Ìôî\n    if (!value) {\n      setSearchResults([]);\n    }\n  };\n  const handleReserve = (bookId, libraryId) => {\n    alert(`Ï±Ö ID ${bookId}ÏùÑ ÎèÑÏÑúÍ¥Ä ID ${libraryId}ÏóêÏÑú ÏòàÏïΩ Ïã†Ï≤≠ÌñàÏäµÎãàÎã§!`);\n  };\n  const handlePhoneCall = (phone, libraryName) => {\n    if (phone && phone !== 'N/A') {\n      alert(`${libraryName}Ïóê Ï†ÑÌôîÎ•º Í≤ÅÎãàÎã§: ${phone}`);\n    } else {\n      alert(`${libraryName}Ïùò Ï†ÑÌôîÎ≤àÌò∏ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.`);\n    }\n  };\n  const getLibraryTypeStyle = type => {\n    switch (type) {\n      case 'Í≥µÍ≥µÎèÑÏÑúÍ¥Ä':\n        return 'bg-blue-100 text-blue-800';\n      case 'Íµ¨Î¶ΩÎèÑÏÑúÍ¥Ä':\n        return 'bg-purple-100 text-purple-800';\n      case 'ÏûëÏùÄÎèÑÏÑúÍ¥Ä':\n        return 'bg-orange-100 text-orange-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSearch,\n      className: \"flex gap-4 mb-5 md:flex-col md:gap-3 sm:gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uCC45 \\uC81C\\uBAA9\\uC774\\uB098 \\uC800\\uC790\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n        value: searchTerm,\n        onChange: handleSearchTermChange,\n        className: \"flex-1 px-5 py-4 text-lg border-2 border-gray-300 rounded-xl bg-white transition-all duration-300 focus:outline-none focus:border-primary focus:shadow-lg md:px-4 md:py-3 md:text-base md:rounded-lg sm:px-3 sm:py-3 placeholder-gray-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        className: \"bg-primary text-white px-8 py-4 text-lg font-semibold rounded-xl hover:bg-opacity-90 focus:outline-none focus:ring-3 focus:ring-primary/30 transition-all duration-300 whitespace-nowrap min-w-[120px] disabled:bg-gray-400 disabled:cursor-not-allowed md:px-6 md:py-3 md:text-base md:rounded-lg md:min-w-[100px] sm:w-full sm:min-w-auto\",\n        children: loading ? 'Í≤ÄÏÉâ Ï§ë...' : 'üìö Ï±Ö Ï∞æÍ∏∞'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(RegionSelector, {\n      onLibrariesUpdate: onLibrariesUpdate,\n      selectedRegion: selectedRegion,\n      onRegionUpdate: onRegionUpdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this), searchResults.length === 0 && searchTerm && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl mb-6\",\n        children: \"\\uD83D\\uDCDA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-text mb-3\",\n        children: \"\\uC557! \\uC544\\uC9C1 \\uC774 \\uCC45\\uC740 \\uC5C6\\uC5B4\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: [\"\\\"\", searchTerm, \"\\\"\\uC5D0 \\uB300\\uD55C \\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 44\n        }, this), \"\\uB2E4\\uB978 \\uCC45\\uC744 \\uAC80\\uC0C9\\uD558\\uAC70\\uB098 \\uC9C0\\uC5ED \\uBC94\\uC704\\uB97C \\uB113\\uD600\\uBCF4\\uC138\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setSearchTerm('');\n          setSearchResults([]);\n        },\n        className: \"mt-6 px-6 py-3 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-all duration-300 font-medium\",\n        children: \"\\uB2E4\\uC2DC \\uAC80\\uC0C9\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-6\",\n      children: searchResults.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 transition-all duration-300 hover:border-green-500 hover:shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-xl font-semibold text-text mb-2 leading-tight md:text-lg sm:text-base\",\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-base text-gray-600 mb-4 space-y-1 md:text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD83D\\uDCDD \\uC800\\uC790: \", book.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD83C\\uDFE2 \\uCD9C\\uD310\\uC0AC: \", book.publisher]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD83D\\uDCD6 ISBN: \", book.isbn]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-3\",\n          children: selectedRegion ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-base font-medium text-text mb-2\",\n              children: [\"\\uD83D\\uDCCD \", selectedRegion, \" \\uB3C4\\uC11C\\uAD00 \\uB300\\uCD9C \\uD604\\uD669\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this), book.availability.map(avail => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-2 p-4 bg-white rounded-lg border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col gap-1 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-base font-semibold text-text\",\n                      children: avail.libraryName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 31\n                    }, this), avail.libraryType && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `text-xs px-2 py-1 rounded-full font-medium ${getLibraryTypeStyle(avail.libraryType)}`,\n                      children: avail.libraryType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: avail.libraryAddress\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 flex-shrink-0\",\n                  children: avail.libraryPhone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 align-items-center flex-wrap md:flex-col md:gap-2 sm:flex-col\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-3 py-1 rounded-full text-sm font-semibold whitespace-nowrap ${avail.available ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: avail.available ? 'ÎåÄÏ∂úÍ∞ÄÎä•' : `ÎåÄÍ∏∞ ${avail.waitingList}Î™Ö`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleReserve(book.id, avail.libraryId),\n                  disabled: !avail.available,\n                  className: `px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-300 whitespace-nowrap ${avail.available ? 'bg-green-600 text-white hover:bg-green-700' : 'bg-gray-400 text-white cursor-not-allowed'} md:w-full sm:w-full`,\n                  children: avail.available ? 'ÏòàÏïΩÌïòÍ∏∞' : 'ÎåÄÍ∏∞Ïã†Ï≤≠'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handlePhoneCall(avail.libraryPhone, avail.libraryName),\n                  className: \"bg-blue-600 text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-blue-700 transition-all duration-300 whitespace-nowrap md:w-full sm:w-full\",\n                  children: \"\\uD83D\\uDCDE \\uC804\\uD654\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 25\n              }, this)]\n            }, avail.libraryId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5 bg-gray-50 rounded-lg text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [\"\\uD83D\\uDCCD \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uB3C4\\uC11C\\uAD00\\uBCC4 \\uB300\\uCD9C \\uD604\\uD669\\uC744 \\uD655\\uC778\\uD558\\uB824\\uBA74?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"\\uC704\\uC758 \\\"\\uC9C0\\uC5ED \\uC120\\uD0DD\\\" \\uC5D0\\uC11C \\uAC70\\uC8FC \\uC9C0\\uC5ED\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 15\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(BookSearchSection, \"se0n3sQ6JVGFFM8EZ6g1Fm5Pn0U=\");\n_c = BookSearchSection;\nexport default BookSearchSection;\nvar _c;\n$RefreshReg$(_c, \"BookSearchSection\");","map":{"version":3,"names":["React","useState","useEffect","RegionSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","BookSearchSection","libraries","onLibrariesUpdate","selectedRegion","onRegionUpdate","externalSearchQuery","onExternalSearchComplete","_s","searchTerm","setSearchTerm","searchResults","setSearchResults","loading","setLoading","performSearch","length","updatedResults","map","book","availability","generateLibraryAvailability","libraryList","slice","library","libraryId","id","libraryName","name","libraryAddress","address","libraryPhone","phone","libraryType","type","available","Math","random","waitingList","floor","query","dummyBooks","title","author","publisher","isbn","filteredBooks","filter","toLowerCase","includes","setTimeout","results","sort","resultsWithAvailability","handleSearch","e","preventDefault","trim","handleSearchTermChange","value","target","handleReserve","bookId","alert","handlePhoneCall","getLibraryTypeStyle","className","children","onSubmit","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClick","avail","_c","$RefreshReg$"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/components/BookSearchSection.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport RegionSelector from './RegionSelector';\r\n\r\ninterface Library {\r\n  id: number;\r\n  name: string;\r\n  address: string;\r\n  distance: number;\r\n  phone: string;\r\n  hours: string;\r\n  status: string;\r\n  type?: string; // ÎèÑÏÑúÍ¥Ä ÌÉÄÏûÖ Ï∂îÍ∞Ä\r\n}\r\n\r\ninterface BookSearchSectionProps {\r\n  libraries: Library[];\r\n  onLibrariesUpdate: (libraries: Library[]) => void;\r\n  selectedRegion: string;\r\n  onRegionUpdate: (region: string) => void;\r\n  externalSearchQuery?: string;\r\n  onExternalSearchComplete?: () => void;\r\n}\r\n\r\nconst BookSearchSection: React.FC<BookSearchSectionProps> = ({ \r\n  libraries, \r\n  onLibrariesUpdate, \r\n  selectedRegion, \r\n  onRegionUpdate,\r\n  externalSearchQuery,\r\n  onExternalSearchComplete\r\n}) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Ïô∏Î∂ÄÏóêÏÑú Ï†ÑÎã¨Îêú Í≤ÄÏÉâÏñ¥ Ï≤òÎ¶¨ (Ïù∏Í∏∞ÎèÑÏÑú ÌÅ¥Î¶≠ Ïãú)\r\n  useEffect(() => {\r\n    if (externalSearchQuery && externalSearchQuery !== searchTerm) {\r\n      setSearchTerm(externalSearchQuery);\r\n      performSearch(externalSearchQuery);\r\n      if (onExternalSearchComplete) {\r\n        onExternalSearchComplete();\r\n      }\r\n    }\r\n  }, [externalSearchQuery, searchTerm, onExternalSearchComplete]);\r\n\r\n  // ÏßÄÏó≠Ïù¥ Î≥ÄÍ≤ΩÎêòÎ©¥ Í≤ÄÏÉâ Í≤∞Í≥º ÏóÖÎç∞Ïù¥Ìä∏ (ÎèÑÏÑúÍ¥Ä Ï†ïÎ≥¥ Í∞±Ïã†)\r\n  useEffect(() => {\r\n    if (searchResults.length > 0 && selectedRegion) {\r\n      // Í∏∞Ï°¥ Í≤ÄÏÉâ Í≤∞Í≥ºÏóê ÏÉàÎ°úÏö¥ ÏßÄÏó≠Ïùò ÎèÑÏÑúÍ¥Ä Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏\r\n      const updatedResults = searchResults.map(book => ({\r\n        ...book,\r\n        availability: generateLibraryAvailability(libraries)\r\n      }));\r\n      setSearchResults(updatedResults);\r\n    }\r\n  }, [libraries, selectedRegion]);\r\n\r\n  const generateLibraryAvailability = (libraryList: Library[]) => {\r\n    return libraryList.slice(0, 5).map(library => ({\r\n      libraryId: library.id,\r\n      libraryName: library.name,\r\n      libraryAddress: library.address,\r\n      libraryPhone: library.phone,\r\n      libraryType: library.type,\r\n      available: Math.random() > 0.3,\r\n      waitingList: Math.floor(Math.random() * 5) + 1\r\n    }));\r\n  };\r\n\r\n  const performSearch = (query: string) => {\r\n    setLoading(true);\r\n    \r\n    // ÎçîÎØ∏ Í≤ÄÏÉâ Í≤∞Í≥º ÏÉùÏÑ±\r\n    const dummyBooks = [\r\n      { id: 1, title: 'Îã¨Îü¨Íµ¨Ìä∏ Íøà Î∞±ÌôîÏ†ê', author: 'Ïù¥ÎØ∏Ïòà', publisher: 'Ìå©ÌÜ†Î¶¨ÎÇòÏù∏', isbn: '9791165341909' },\r\n      { id: 2, title: 'ÏΩîÏä§Î™®Ïä§', author: 'Ïπº ÏÑ∏Ïù¥Í±¥', publisher: 'ÏÇ¨Ïù¥Ïñ∏Ïä§Î∂ÅÏä§', isbn: '9788983711892' },\r\n      { id: 3, title: 'ÏÇ¨ÌîºÏóîÏä§', author: 'Ïú†Î∞ú ÌïòÎùºÎ¶¨', publisher: 'ÍπÄÏòÅÏÇ¨', isbn: '9788934972464' },\r\n      { id: 4, title: 'Ìò∏Î™® Îç∞Ïö∞Ïä§', author: 'Ïú†Î∞ú ÌïòÎùºÎ¶¨', publisher: 'ÍπÄÏòÅÏÇ¨', isbn: '9788934985067' },\r\n      { id: 5, title: 'ÎØ∏ÎìúÎÇòÏûá ÎùºÏù¥Î∏åÎü¨Î¶¨', author: 'Îß§Ìä∏ Ìó§Ïù¥Í∑∏', publisher: 'Ïù∏ÌîåÎ£®ÏóîÏÖú', isbn: '9791189127893' },\r\n      { id: 6, title: 'ÏïÑÎ™¨Îìú', author: 'ÏÜêÏõêÌèâ', publisher: 'Ï∞ΩÎπÑ', isbn: '9788936434267' },\r\n      { id: 7, title: '82ÎÖÑÏÉù ÍπÄÏßÄÏòÅ', author: 'Ï°∞ÎÇ®Ï£º', publisher: 'ÎØºÏùåÏÇ¨', isbn: '9788937473395' },\r\n      { id: 8, title: 'Ï£ΩÏùÄ ÏãúÏù∏Ïùò ÏÇ¨Ìöå', author: 'ÌÜ∞ ÏäêÎ®º', publisher: 'ÌòÑÎåÄÎ¨∏Ìïô', isbn: '9788972757190' }\r\n    ];\r\n\r\n    // Í≤ÄÏÉâÏñ¥ÏôÄ Í¥ÄÎ†®Îêú Ï±ÖÎì§ ÌïÑÌÑ∞ÎßÅ\r\n    const filteredBooks = dummyBooks.filter(book => \r\n      book.title.toLowerCase().includes(query.toLowerCase()) ||\r\n      book.author.toLowerCase().includes(query.toLowerCase()) ||\r\n      book.publisher.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n\r\n    setTimeout(() => {\r\n      // Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏúºÎ©¥ ÎûúÎç§ÏúºÎ°ú 3Í∞ú ÏÑ†ÌÉù\r\n      const results = filteredBooks.length > 0 \r\n        ? filteredBooks \r\n        : dummyBooks.sort(() => 0.5 - Math.random()).slice(0, 3);\r\n\r\n      const resultsWithAvailability = results.map(book => ({\r\n        ...book,\r\n        availability: generateLibraryAvailability(libraries)\r\n      }));\r\n\r\n      setSearchResults(resultsWithAvailability);\r\n      setLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleSearch = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (searchTerm.trim()) {\r\n      performSearch(searchTerm);\r\n    }\r\n  };\r\n\r\n  const handleSearchTermChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n    \r\n    // Í≤ÄÏÉâÏñ¥ Î≥ÄÍ≤Ω Ïãú Í≤ÄÏÉâ Í≤∞Í≥º ÏÉÅÌÉú Î¶¨ÏÖã\r\n    if (!value.trim()) {\r\n      setSearchResults([]);\r\n    }\r\n    \r\n    // Í≤ÄÏÉâÏñ¥Í∞Ä ÎπÑÏñ¥ÏûàÏúºÎ©¥ Í≤ÄÏÉâ Í≤∞Í≥ºÎèÑ Ï¥àÍ∏∞Ìôî\r\n    if (!value) {\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  const handleReserve = (bookId: number, libraryId: number) => {\r\n    alert(`Ï±Ö ID ${bookId}ÏùÑ ÎèÑÏÑúÍ¥Ä ID ${libraryId}ÏóêÏÑú ÏòàÏïΩ Ïã†Ï≤≠ÌñàÏäµÎãàÎã§!`);\r\n  };\r\n\r\n  const handlePhoneCall = (phone: string, libraryName: string) => {\r\n    if (phone && phone !== 'N/A') {\r\n      alert(`${libraryName}Ïóê Ï†ÑÌôîÎ•º Í≤ÅÎãàÎã§: ${phone}`);\r\n    } else {\r\n      alert(`${libraryName}Ïùò Ï†ÑÌôîÎ≤àÌò∏ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.`);\r\n    }\r\n  };\r\n\r\n  const getLibraryTypeStyle = (type: string) => {\r\n    switch (type) {\r\n      case 'Í≥µÍ≥µÎèÑÏÑúÍ¥Ä':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'Íµ¨Î¶ΩÎèÑÏÑúÍ¥Ä':\r\n        return 'bg-purple-100 text-purple-800';\r\n      case 'ÏûëÏùÄÎèÑÏÑúÍ¥Ä':\r\n        return 'bg-orange-100 text-orange-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-8\">\r\n      <form onSubmit={handleSearch} className=\"flex gap-4 mb-5 md:flex-col md:gap-3 sm:gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Ï∞æÏúºÏãúÎäî Ï±Ö Ï†úÎ™©Ïù¥ÎÇò Ï†ÄÏûêÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\r\n          value={searchTerm}\r\n          onChange={handleSearchTermChange}\r\n          className=\"flex-1 px-5 py-4 text-lg border-2 border-gray-300 rounded-xl bg-white transition-all duration-300 focus:outline-none focus:border-primary focus:shadow-lg md:px-4 md:py-3 md:text-base md:rounded-lg sm:px-3 sm:py-3 placeholder-gray-500\"\r\n        />\r\n        <button \r\n          type=\"submit\" \r\n          disabled={loading}\r\n          className=\"bg-primary text-white px-8 py-4 text-lg font-semibold rounded-xl hover:bg-opacity-90 focus:outline-none focus:ring-3 focus:ring-primary/30 transition-all duration-300 whitespace-nowrap min-w-[120px] disabled:bg-gray-400 disabled:cursor-not-allowed md:px-6 md:py-3 md:text-base md:rounded-lg md:min-w-[100px] sm:w-full sm:min-w-auto\"\r\n        >\r\n          {loading ? 'Í≤ÄÏÉâ Ï§ë...' : 'üìö Ï±Ö Ï∞æÍ∏∞'}\r\n        </button>\r\n      </form>\r\n\r\n      {/* Í≤ÄÏÉâ ÏôÑÎ£å ÌõÑ ÏßÄÏó≠ ÏÑ†ÌÉù UI */}\r\n      {searchResults.length > 0 && (\r\n        <RegionSelector \r\n          onLibrariesUpdate={onLibrariesUpdate}\r\n          selectedRegion={selectedRegion}\r\n          onRegionUpdate={onRegionUpdate}\r\n        />\r\n      )}\r\n\r\n      {searchResults.length === 0 && searchTerm && !loading && (\r\n        <div className=\"text-center py-20\">\r\n          <div className=\"text-6xl mb-6\">üìö</div>\r\n          <h2 className=\"text-xl font-bold text-text mb-3\">Ïïó! ÏïÑÏßÅ Ïù¥ Ï±ÖÏùÄ ÏóÜÏñ¥Ïöî</h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            \"{searchTerm}\"Ïóê ÎåÄÌïú Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.<br/>\r\n            Îã§Î•∏ Ï±ÖÏùÑ Í≤ÄÏÉâÌïòÍ±∞ÎÇò ÏßÄÏó≠ Î≤îÏúÑÎ•º ÎÑìÌòÄÎ≥¥ÏÑ∏Ïöî.\r\n          </p>\r\n          <button \r\n            onClick={() => {\r\n              setSearchTerm('');\r\n              setSearchResults([]);\r\n            }}\r\n            className=\"mt-6 px-6 py-3 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-all duration-300 font-medium\"\r\n          >\r\n            Îã§Ïãú Í≤ÄÏÉâÌïòÍ∏∞\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {searchResults.length > 0 && (\r\n        <div className=\"flex flex-col gap-6\">\r\n          {searchResults.map((book) => (\r\n            <div key={book.id} className=\"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 transition-all duration-300 hover:border-green-500 hover:shadow-lg\">\r\n              <h4 className=\"text-xl font-semibold text-text mb-2 leading-tight md:text-lg sm:text-base\">\r\n                {book.title}\r\n              </h4>\r\n              <div className=\"text-base text-gray-600 mb-4 space-y-1 md:text-sm\">\r\n                <div>üìù Ï†ÄÏûê: {book.author}</div>\r\n                <div>üè¢ Ï∂úÌåêÏÇ¨: {book.publisher}</div>\r\n                <div>üìñ ISBN: {book.isbn}</div>\r\n              </div>\r\n              \r\n              <div className=\"flex flex-col gap-3\">\r\n                {selectedRegion ? (\r\n                  <>\r\n                    <h4 className=\"text-base font-medium text-text mb-2\">\r\n                      üìç {selectedRegion} ÎèÑÏÑúÍ¥Ä ÎåÄÏ∂ú ÌòÑÌô©\r\n                    </h4>\r\n                    {book.availability.map((avail: any) => (\r\n                      <div key={avail.libraryId} className=\"flex flex-col gap-2 p-4 bg-white rounded-lg border border-gray-200\">\r\n                        <div className=\"flex items-start justify-between mb-2\">\r\n                          <div className=\"flex flex-col gap-1 flex-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-base font-semibold text-text\">\r\n                                {avail.libraryName}\r\n                              </span>\r\n                              {avail.libraryType && (\r\n                                <span className={`text-xs px-2 py-1 rounded-full font-medium ${getLibraryTypeStyle(avail.libraryType)}`}>\r\n                                  {avail.libraryType}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                            <span className=\"text-sm text-gray-600\">{avail.libraryAddress}</span>\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-600 flex-shrink-0\">{avail.libraryPhone}</span>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex gap-2 align-items-center flex-wrap md:flex-col md:gap-2 sm:flex-col\">\r\n                          <span className={`px-3 py-1 rounded-full text-sm font-semibold whitespace-nowrap ${\r\n                            avail.available \r\n                              ? 'bg-green-100 text-green-800' \r\n                              : 'bg-red-100 text-red-800'\r\n                          }`}>\r\n                            {avail.available ? 'ÎåÄÏ∂úÍ∞ÄÎä•' : `ÎåÄÍ∏∞ ${avail.waitingList}Î™Ö`}\r\n                          </span>\r\n                          <button \r\n                            onClick={() => handleReserve(book.id, avail.libraryId)}\r\n                            disabled={!avail.available}\r\n                            className={`px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-300 whitespace-nowrap ${\r\n                              avail.available \r\n                                ? 'bg-green-600 text-white hover:bg-green-700' \r\n                                : 'bg-gray-400 text-white cursor-not-allowed'\r\n                            } md:w-full sm:w-full`}\r\n                          >\r\n                            {avail.available ? 'ÏòàÏïΩÌïòÍ∏∞' : 'ÎåÄÍ∏∞Ïã†Ï≤≠'}\r\n                          </button>\r\n                          <button \r\n                            onClick={() => handlePhoneCall(avail.libraryPhone, avail.libraryName)}\r\n                            className=\"bg-blue-600 text-white px-4 py-2 text-sm font-semibold rounded-lg hover:bg-blue-700 transition-all duration-300 whitespace-nowrap md:w-full sm:w-full\"\r\n                          >\r\n                            üìû Ï†ÑÌôîÌïòÍ∏∞\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </>\r\n                ) : (\r\n                  <div className=\"p-5 bg-gray-50 rounded-lg text-center\">\r\n                    <div className=\"mb-4\">\r\n                      üìç <strong>ÎèÑÏÑúÍ¥ÄÎ≥Ñ ÎåÄÏ∂ú ÌòÑÌô©ÏùÑ ÌôïÏù∏ÌïòÎ†§Î©¥?</strong>\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      ÏúÑÏùò \"ÏßÄÏó≠ ÏÑ†ÌÉù\" ÏóêÏÑú Í±∞Ï£º ÏßÄÏó≠ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookSearchSection; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}