{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qoo\\\\Desktop\\\\zziyoonii\\\\senior\\\\src\\\\components\\\\BookSearchSection.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { testApiConnection, getApiStatus, fetchPopularBooks } from '../services/LibraryAPI';\n\n// ìŠ¤íƒ€ì¼ë“œ ì»´í¬ë„ŒíŠ¸ ì •ì˜\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  \n  @media (max-width: 768px) {\n    padding: 15px;\n  }\n`;\n_c = Container;\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;\n_c2 = SearchForm;\nconst SearchInputContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;\n_c3 = SearchInputContainer;\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;\n_c4 = SearchInput;\nconst AutocompleteDropdown = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;\n_c5 = AutocompleteDropdown;\nconst AutocompleteItemElement = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;\n_c6 = AutocompleteItemElement;\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c7 = SearchButton;\nconst LoadingDiv = styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;\n_c8 = LoadingDiv;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;\n_c9 = EmptyState;\nconst SearchResults = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n_c0 = SearchResults;\nconst BookCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;\n_c1 = BookCard;\nconst BookTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;\n_c10 = BookTitle;\nconst BookInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;\n_c11 = BookInfo;\nconst BookDescription = styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;\n_c12 = BookDescription;\nconst AvailabilitySection = styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;\n_c13 = AvailabilitySection;\nconst AvailabilityTitle = styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;\n_c14 = AvailabilityTitle;\nconst LibraryList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n_c15 = LibraryList;\nconst LibraryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;\n_c16 = LibraryItem;\nconst LibraryHeader = styled.div`\n  flex: 1;\n  margin-bottom: 10px;\n`;\n_c17 = LibraryHeader;\nconst LibraryName = styled.h4`\n  margin: 0 0 4px 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n`;\n_c18 = LibraryName;\nconst LibraryAddress = styled.p`\n  margin: 0 0 4px 0;\n  color: #666;\n  font-size: 14px;\n`;\n_c19 = LibraryAddress;\nconst LibraryPhone = styled.p`\n  margin: 0 0 4px 0;\n  color: #4CAF50;\n  font-size: 14px;\n  font-weight: 600;\n`;\n_c20 = LibraryPhone;\nconst LibraryHours = styled.p`\n  margin: 0 0 4px 0;\n  color: #666;\n  font-size: 12px;\n`;\n_c21 = LibraryHours;\nconst LibraryStats = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 15px;\n  padding: 10px 0;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n`;\n\n// ActionButtons ìŠ¤íƒ€ì¼ë“œ ì»´í¬ë„ŒíŠ¸ ì œê±° (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)\n_c22 = LibraryStats;\nconst ReserveButton = styled.button`\n  padding: 8px 15px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  background: ${props => props.available ? '#4CAF50' : '#ff9800'};\n  color: white;\n  \n  &:hover:not(:disabled) {\n    background: ${props => props.available ? '#45a049' : '#f57c00'};\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n`;\n_c23 = ReserveButton;\nconst ApiStatusBanner = styled.div`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  \n  ${props => {\n  switch (props.status) {\n    case 'success':\n      return `\n          background: #e8f5e8;\n          color: #2e7d32;\n          border: 1px solid #4caf50;\n        `;\n    case 'warning':\n      return `\n          background: #fff8e1;\n          color: #f57c00;\n          border: 1px solid #ff9800;\n        `;\n    case 'error':\n      return `\n          background: #ffebee;\n          color: #c62828;\n          border: 1px solid #f44336;\n        `;\n    default:\n      return `\n          background: #f5f5f5;\n          color: #666;\n          border: 1px solid #ddd;\n        `;\n  }\n}}\n`;\n_c24 = ApiStatusBanner;\nconst ApiStatusIcon = styled.span`\n  font-size: 18px;\n`;\n_c25 = ApiStatusIcon;\nconst ApiTestButton = styled.button`\n  margin-left: auto;\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  background: var(--primary-color);\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-1px);\n  }\n`;\n\n// ì¸í„°íŽ˜ì´ìŠ¤ ì •ì˜\n_c26 = ApiTestButton;\nconst BookSearchSection = ({\n  externalSearchQuery,\n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [libraries, setLibraries] = useState([]);\n  const [apiStatus, setApiStatus] = useState('');\n\n  // ìµœê·¼ ê²€ìƒ‰ì–´ ìƒíƒœ\n  const [recentSearches, setRecentSearches] = useState([]);\n\n  // ìžë™ì™„ì„± ìƒíƒœ\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteItems, setAutocompleteItems] = useState([]);\n\n  // ì¦ê²¨ì°¾ê¸° ìƒíƒœ\n  const [bookmarks, setBookmarks] = useState([]);\n\n  // ì¸ê¸° ê²€ìƒ‰ì–´ ëª©ë¡\n  const popularSearches = [{\n    text: 'ë‹¬ê³¼ 6íŽœìŠ¤',\n    category: 'ë¬¸í•™'\n  }, {\n    text: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n    category: 'ìžê¸°ê³„ë°œ'\n  }, {\n    text: 'ìˆ˜í•™ì˜ ì •ì„',\n    category: 'êµìœ¡'\n  }, {\n    text: '82ë…„ìƒ ê¹€ì§€ì˜',\n    category: 'ì†Œì„¤'\n  }, {\n    text: 'ì›ì”½',\n    category: 'ìžê¸°ê³„ë°œ'\n  }, {\n    text: 'ì„¸ê³„ì‚¬ íŽ¸ì§€',\n    category: 'ì—­ì‚¬'\n  }, {\n    text: 'ì½”ìŠ¤ëª¨ìŠ¤',\n    category: 'ê³¼í•™'\n  }, {\n    text: 'ìž‘ë³„í•˜ì§€ ì•ŠëŠ”ë‹¤',\n    category: 'ì†Œì„¤'\n  }, {\n    text: 'ì•„í”„ë‹ˆê¹Œ ì²­ì¶˜ì´ë‹¤',\n    category: 'ì—ì„¸ì´'\n  }, {\n    text: 'ë¶ˆíŽ¸í•œ íŽ¸ì˜ì ',\n    category: 'ì†Œì„¤'\n  }, {\n    text: 'ì•„ëª¬ë“œ',\n    category: 'ì†Œì„¤'\n  }, {\n    text: 'ë‹¹ì‹ ì´ ì˜³ë‹¤',\n    category: 'ì—ì„¸ì´'\n  }, {\n    text: 'ì‚¬í”¼ì—”ìŠ¤',\n    category: 'ì¸ë¬¸'\n  }, {\n    text: 'ë°ë¯¸ì•ˆ',\n    category: 'ë¬¸í•™'\n  }, {\n    text: 'ì–´ë¦°ì™•ìž',\n    category: 'ë¬¸í•™'\n  }];\n\n  // ìžë™ì™„ì„± ê¸°ëŠ¥\n  const updateAutocomplete = inputValue => {\n    if (!inputValue.trim()) {\n      const items = [...recentSearches.slice(0, 5).map(search => ({\n        text: search,\n        category: 'ìµœê·¼ ê²€ìƒ‰',\n        type: 'recent'\n      })), ...popularSearches.slice(0, 5).map(search => ({\n        text: search.text,\n        category: search.category,\n        type: 'popular'\n      }))];\n      setAutocompleteItems(items);\n      setShowAutocomplete(true);\n      return;\n    }\n    const searchValue = inputValue.toLowerCase();\n    const matchedItems = [];\n    recentSearches.forEach(search => {\n      if (search.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search,\n          category: 'ìµœê·¼ ê²€ìƒ‰',\n          type: 'recent'\n        });\n      }\n    });\n    popularSearches.forEach(search => {\n      if (search.text.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search.text,\n          category: search.category,\n          type: 'popular'\n        });\n      }\n    });\n    setAutocompleteItems(matchedItems.slice(0, 10));\n    setShowAutocomplete(matchedItems.length > 0);\n  };\n\n  // ìžë™ì™„ì„± ì•„ì´í…œ ì„ íƒ ì²˜ë¦¬\n  const handleAutocompleteSelect = item => {\n    setSearchTerm(item.text);\n    setShowAutocomplete(false);\n    saveRecentSearch(item.text);\n    performSearch(item.text);\n  };\n\n  // ê²€ìƒ‰ ìž…ë ¥ ì²˜ë¦¬\n  const handleSearchInputChange = e => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    setTimeout(() => {\n      updateAutocomplete(value);\n    }, 300);\n  };\n\n  // ê²€ìƒ‰ ìž…ë ¥ í¬ì»¤ìŠ¤ ì²˜ë¦¬\n  const handleSearchInputFocus = () => {\n    updateAutocomplete(searchTerm);\n  };\n\n  // ìžë™ì™„ì„± ë‹«ê¸°\n  const handleAutocompleteClose = () => {\n    setTimeout(() => setShowAutocomplete(false), 150);\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ìµœê·¼ ê²€ìƒ‰ì–´ ë° ì¦ê²¨ì°¾ê¸° ë¶ˆëŸ¬ì˜¤ê¸°\n  useEffect(() => {\n    const savedSearches = localStorage.getItem('recentSearches');\n    if (savedSearches) {\n      setRecentSearches(JSON.parse(savedSearches));\n    }\n    const savedBookmarks = localStorage.getItem('bookmarks');\n    if (savedBookmarks) {\n      setBookmarks(JSON.parse(savedBookmarks));\n    }\n  }, []);\n\n  // ìµœê·¼ ê²€ìƒ‰ì–´ ì €ìž¥\n  const saveRecentSearch = query => {\n    const updated = [query, ...recentSearches.filter(s => s !== query)].slice(0, 10);\n    setRecentSearches(updated);\n    localStorage.setItem('recentSearches', JSON.stringify(updated));\n  };\n\n  // ì¦ê²¨ì°¾ê¸° í† ê¸€\n  const toggleBookmark = bookId => {\n    let updated;\n    if (bookmarks.includes(bookId)) {\n      updated = bookmarks.filter(id => id !== bookId);\n    } else {\n      updated = [...bookmarks, bookId];\n    }\n    setBookmarks(updated);\n    localStorage.setItem('bookmarks', JSON.stringify(updated));\n  };\n\n  // ì¦ê²¨ì°¾ê¸° ì—¬ë¶€ í™•ì¸\n  const isBookmarked = bookId => bookmarks.includes(bookId);\n\n  // API ìŠ¹ì¸ ìƒíƒœ í™•ì¸\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        // 1. API ì„¤ì • ìƒíƒœ í™•ì¸\n        const apiStatus = getApiStatus();\n        console.log('API ì„¤ì • ìƒíƒœ:', apiStatus);\n        if (!apiStatus.configured) {\n          setApiStatus('API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”');\n          return;\n        }\n\n        // 2. API ì—°ê²° í…ŒìŠ¤íŠ¸\n        const connectionTest = await testApiConnection();\n        console.log('API ì—°ê²° í…ŒìŠ¤íŠ¸ ê²°ê³¼:', connectionTest);\n        setApiStatus(connectionTest.message);\n        if (connectionTest.success) {\n          var _connectionTest$detai, _connectionTest$detai2;\n          console.log('âœ… ì‹¤ì œ ë„ì„œê´€ API ì‚¬ìš© ê°€ëŠ¥');\n          console.log('ðŸ“š ë„ì„œ ê²€ìƒ‰ ê²°ê³¼:', (_connectionTest$detai = connectionTest.details) === null || _connectionTest$detai === void 0 ? void 0 : _connectionTest$detai.libraryBooks, 'ê¶Œ');\n          console.log('ðŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:', (_connectionTest$detai2 = connectionTest.details) === null || _connectionTest$detai2 === void 0 ? void 0 : _connectionTest$detai2.gyeonggiLibraries, 'ê°œ');\n        } else {\n          console.log('âš ï¸ ë”ë¯¸ ë°ì´í„° ì‚¬ìš©');\n          console.log('ðŸ“‹ API ì—°ê²° ì‹¤íŒ¨ ì„¸ë¶€ì‚¬í•­:', connectionTest.details);\n        }\n      } catch (error) {\n        console.error('API ìƒíƒœ í™•ì¸ ì˜¤ë¥˜:', error);\n        setApiStatus('API ì—°ê²° ì‹¤íŒ¨');\n      }\n    };\n    checkApprovalStatus();\n  }, []);\n\n  // ì§€ì—­ë³„ ë„ì„œê´€ ìƒì„±\n  const generateLibrariesByRegion = useCallback(region => {\n    const regionLower = region.toLowerCase();\n    // ë™ ë‹¨ìœ„ ì§€ì—­ ì²˜ë¦¬\n    if (regionLower.includes('ë™')) {\n      const cityName = region.replace('ë™', '');\n      return [{\n        id: 1,\n        name: `${cityName}ë™ ì£¼ë¯¼ì„¼í„° ë„ì„œê´€`,\n        address: `ê²½ê¸°ë„ ${cityName}ë™ ì¤‘ì•™ë¡œ 123`,\n        phone: '031-123-4567',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: `${cityName}ë™ êµ¬ë¯¼íšŒê´€ ë„ì„œê´€`,\n        address: `ê²½ê¸°ë„ ${cityName}ë™ ë³µí•©ë¬¸í™”ì„¼í„° 2ì¸µ`,\n        phone: '031-234-5678',\n        hours: '10:00-20:00'\n      }, {\n        id: 3,\n        name: `${cityName}ë™ ìž‘ì€ë„ì„œê´€`,\n        address: `ê²½ê¸°ë„ ${cityName}ë™ ì£¼íƒê°€ ë‚´ ìž‘ì€ë„ì„œê´€`,\n        phone: '031-345-6789',\n        hours: '10:00-18:00'\n      }];\n    }\n\n    // ì‹œ ë‹¨ìœ„ ì§€ì—­ë³„ ë„ì„œê´€ ë°ì´í„°\n    const libraryData = {\n      'ìˆ˜ì›': [{\n        id: 1,\n        name: 'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë¡œ 183',\n        phone: '031-228-4300',\n        hours: '09:00-22:00'\n      }, {\n        id: 2,\n        name: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235',\n        phone: '031-249-4800',\n        hours: '09:00-18:00'\n      }, {\n        id: 3,\n        name: 'ì˜í†µêµ¬ë¦½ë„ì„œê´€',\n        address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë™ 999-1',\n        phone: '031-228-4350',\n        hours: '09:00-20:00'\n      }],\n      'ì„±ë‚¨': [{\n        id: 1,\n        name: 'ì„±ë‚¨ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì–‘í˜„ë¡œ 346',\n        phone: '031-729-4600',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: 'ë¶„ë‹¹êµ¬ë¦½ì •ìžë„ì„œê´€',\n        address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì •ìžë™ 178-1',\n        phone: '031-729-4650',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: 'ì„œí˜„ìž‘ì€ë„ì„œê´€',\n        address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™ 271-3',\n        phone: '031-729-4670',\n        hours: '10:00-18:00'\n      }],\n      'ê³ ì–‘': [{\n        id: 1,\n        name: 'ê³ ì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ê³ ì–‘ì‹œ ë•ì–‘êµ¬ ê³ ì–‘ëŒ€ë¡œ 1955',\n        phone: '031-8075-9300',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: 'ì¼ì‚°ë™êµ¬ë¦½ë„ì„œê´€',\n        address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1256',\n        phone: '031-8075-9350',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: 'ë°±ì„ìž‘ì€ë„ì„œê´€',\n        address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1234-5',\n        phone: '031-8075-9380',\n        hours: '10:00-18:00'\n      }],\n      'ë¶€ì²œ': [{\n        id: 1,\n        name: 'ë¶€ì²œì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ê¸¸ì£¼ë¡œ 1',\n        phone: '032-320-3901',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: 'ë¶€ì²œì‹œë¦½ì›ë¯¸ë„ì„œê´€',\n        address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ë¡œ 7',\n        phone: '032-320-3902',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: 'ë¶€ì²œì‹œë¦½ìƒë™ë„ì„œê´€',\n        address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ìƒë™ë¡œ 92',\n        phone: '032-320-3903',\n        hours: '10:00-18:00'\n      }],\n      'ì•ˆì–‘': [{\n        id: 1,\n        name: 'ì•ˆì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 86',\n        phone: '031-8045-2600',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: 'ì•ˆì–‘ì‹œë¦½ì„ìˆ˜ë„ì„œê´€',\n        address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„ìˆ˜ë¡œ 80',\n        phone: '031-8045-2650',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: 'ì•ˆì–‘ì‹œë¦½í˜¸ê³„ë„ì„œê´€',\n        address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë™ì•ˆêµ¬ í˜¸ê³„ë¡œ 103',\n        phone: '031-8045-2700',\n        hours: '10:00-18:00'\n      }],\n      'ìš©ì¸': [{\n        id: 1,\n        name: 'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€',\n        address: 'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199',\n        phone: '031-324-4600',\n        hours: '09:00-18:00'\n      }, {\n        id: 2,\n        name: 'ê¸°í¥ë„ì„œê´€',\n        address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ê¸°í¥ë¡œ 19',\n        phone: '031-324-4650',\n        hours: '09:00-20:00'\n      }, {\n        id: 3,\n        name: 'ìˆ˜ì§€ë„ì„œê´€',\n        address: 'ê²½ê¸° ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ í¬ì€ëŒ€ë¡œ 435',\n        phone: '031-324-4700',\n        hours: '10:00-18:00'\n      }, {\n        id: 4,\n        name: 'ì„œë†ë„ì„œê´€',\n        address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83',\n        phone: '031-324-4680',\n        hours: '09:00-18:00'\n      }]\n    };\n\n    // ì •í™•í•œ ì§€ì—­ëª… ë§¤ì¹­ (ì‹œ ì´ë¦„ ì¶”ì¶œ)\n    for (const [key, data] of Object.entries(libraryData)) {\n      if (regionLower.includes(key)) {\n        return data;\n      }\n    }\n\n    // ê¸°ë³¸ê°’: ê²½ê¸°ë„ ëŒ€í‘œ ë„ì„œê´€ë“¤\n    return [{\n      id: 1,\n      name: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€',\n      address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235',\n      phone: '031-249-4800',\n      hours: '09:00-18:00'\n    }, {\n      id: 2,\n      name: 'ê²½ê¸°ë„ë¦½ê³¼ì²œë„ì„œê´€',\n      address: 'ê²½ê¸° ê³¼ì²œì‹œ ë³„ì–‘ìƒê°€2ë¡œ 84',\n      phone: '02-2150-3001',\n      hours: '09:00-20:00'\n    }, {\n      id: 3,\n      name: 'ê²½ê¸°ë„ë¦½í‰íƒë„ì„œê´€',\n      address: 'ê²½ê¸° í‰íƒì‹œ í‰íƒë¡œ 51',\n      phone: '031-659-4800',\n      hours: '10:00-18:00'\n    }];\n  }, []);\n\n  // ë„ì„œê´€ë³„ ì†Œìž¥ í˜„í™© ìƒì„±\n  const generateLibraryAvailability = useCallback(libraries => {\n    return libraries.map(library => {\n      const totalBooks = Math.floor(Math.random() * 8) + 3; // 3-10ê¶Œ\n      const availableBooks = Math.floor(Math.random() * (totalBooks + 1)); // 0 ~ totalBooks\n      const waitingList = Math.floor(Math.random() * 6); // 0-5ëª…\n      const available = availableBooks > 0; // ëŒ€ì¶œ ê°€ëŠ¥í•œ ì±…ì´ ìžˆìœ¼ë©´ true\n\n      // ë” êµ¬ì²´ì ì¸ ìœ„ì¹˜ ì •ë³´ ìƒì„±\n      const floor = Math.floor(Math.random() * 5) + 1; // 1-5ì¸µ\n      const section = ['ë¬¸í•™', 'ê³¼í•™', 'ì—­ì‚¬', 'ì² í•™', 'ì˜ˆìˆ ', 'ê²½ì œ', 'ì•„ë™'][Math.floor(Math.random() * 7)];\n      const aisle = String.fromCharCode(65 + Math.floor(Math.random() * 8)); // A-H\n      const callNumber = `${Math.floor(Math.random() * 900) + 100}.${Math.floor(Math.random() * 99) + 1}`;\n      return {\n        libraryId: library.id,\n        libraryName: library.name,\n        libraryAddress: library.address,\n        libraryPhone: library.phone,\n        libraryHours: library.hours,\n        available: available,\n        waitingList: waitingList,\n        totalBooks: totalBooks,\n        availableBooks: availableBooks,\n        location: `${floor}ì¸µ ${section}ì„¹ì…˜ ${aisle}ì„œê°€ | ì²­êµ¬ê¸°í˜¸: ${callNumber}`\n      };\n    });\n  }, []);\n\n  // ê¸°ë³¸ ë„ì„œ ëª©ë¡ ìƒì„± (ê²€ìƒ‰ì–´ì™€ ê´€ê³„ì—†ì´ í•­ìƒ í‘œì‹œ)\n  const getDefaultBookList = useCallback(() => {\n    const defaultBooks = [{\n      id: '1',\n      title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n      author: 'J.K. ë¡¤ë§',\n      publisher: 'ë¬¸í•™ìˆ˜ì²©',\n      isbn: '9788983920072',\n      category: 'ì†Œì„¤',\n      publishYear: '1997',\n      description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸° ì²« ë²ˆì§¸ ê¶Œ',\n      loanCount: 3421\n    }, {\n      id: '2',\n      title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n      author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ, ê³ ê°€ í›„ë¯¸íƒ€ì¼€',\n      publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n      isbn: '9788950955671',\n      category: 'ìžê¸°ê³„ë°œ',\n      publishYear: '2014',\n      description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œë¥¼ ë‹´ì€ ì±…',\n      loanCount: 2847\n    }, {\n      id: '3',\n      title: '82ë…„ìƒ ê¹€ì§€ì˜',\n      author: 'ì¡°ë‚¨ì£¼',\n      publisher: 'ë¯¼ìŒì‚¬',\n      isbn: '9788937473371',\n      category: 'ì†Œì„¤',\n      publishYear: '2016',\n      description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤',\n      loanCount: 1923\n    }, {\n      id: '4',\n      title: 'ì‚¬í”¼ì—”ìŠ¤',\n      author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n      publisher: 'ê¹€ì˜ì‚¬',\n      isbn: '9788934972464',\n      category: 'ì¸ë¬¸',\n      publishYear: '2015',\n      description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n      loanCount: 1456\n    }, {\n      id: '5',\n      title: 'ì›í”¼ìŠ¤ 1ê¶Œ',\n      author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ',\n      publisher: 'ëŒ€ì›ì”¨ì•„ì´',\n      isbn: '9788925208015',\n      category: 'ë§Œí™”',\n      publishYear: '1997',\n      description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜',\n      loanCount: 1234\n    }];\n    return defaultBooks.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ'))\n    }));\n  }, [libraries, generateLibraryAvailability, generateLibrariesByRegion]);\n\n  // ê²€ìƒ‰ì–´ ê¸°ë°˜ ê´€ë ¨ ë„ì„œ ìƒì„±\n  const getSearchRelatedBooks = query => {\n    const allBooks = [{\n      id: '1',\n      title: 'ì–´ë¦°ì™•ìž',\n      author: 'ìƒí…ì¥íŽ˜ë¦¬',\n      publisher: 'ë¯¼ìŒì‚¬',\n      isbn: '9788937460616',\n      category: 'ì†Œì„¤',\n      publishYear: '1943',\n      description: 'ì‚¬ë§‰ì—ì„œ ë§Œë‚œ ì–´ë¦°ì™•ìžì™€ì˜ ì´ì•¼ê¸°',\n      loanCount: 5420\n    }, {\n      id: '2',\n      title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n      author: 'J.K. ë¡¤ë§',\n      publisher: 'ë¬¸í•™ìˆ˜ì²©',\n      isbn: '9788983920072',\n      category: 'ì†Œì„¤',\n      publishYear: '1997',\n      description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸°',\n      loanCount: 4321\n    }, {\n      id: '3',\n      title: 'ë¶ˆíŽ¸í•œ íŽ¸ì˜ì ',\n      author: 'ê¹€í˜¸ì—°',\n      publisher: 'ë‚˜ë¬´ì˜†ì˜ìž',\n      isbn: '9791167370778',\n      category: 'ì†Œì„¤',\n      publishYear: '2021',\n      description: 'íŽ¸ì˜ì ì—ì„œ ì¼ì–´ë‚˜ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°',\n      loanCount: 3890\n    }, {\n      id: '4',\n      title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n      author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ',\n      publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n      isbn: '9788950955671',\n      category: 'ìžê¸°ê³„ë°œ',\n      publishYear: '2014',\n      description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œ',\n      loanCount: 3456\n    }, {\n      id: '5',\n      title: '82ë…„ìƒ ê¹€ì§€ì˜',\n      author: 'ì¡°ë‚¨ì£¼',\n      publisher: 'ë¯¼ìŒì‚¬',\n      isbn: '9788937473371',\n      category: 'ì†Œì„¤',\n      publishYear: '2016',\n      description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤',\n      loanCount: 3123\n    }, {\n      id: '6',\n      title: 'ì‚¬í”¼ì—”ìŠ¤',\n      author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n      publisher: 'ê¹€ì˜ì‚¬',\n      isbn: '9788934972464',\n      category: 'ì¸ë¬¸',\n      publishYear: '2015',\n      description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n      loanCount: 2987\n    }, {\n      id: '7',\n      title: 'ì•„ëª¬ë“œ',\n      author: 'ì†ì›í‰',\n      publisher: 'ì°½ë¹„',\n      isbn: '9788936434267',\n      category: 'ì†Œì„¤',\n      publishYear: '2017',\n      description: 'ê°ì •ì„ ëŠë¼ì§€ ëª»í•˜ëŠ” ì†Œë…„ì˜ ì„±ìž¥ ì†Œì„¤',\n      loanCount: 2756\n    }, {\n      id: '8',\n      title: 'ì •ì˜ëž€ ë¬´ì—‡ì¸ê°€',\n      author: 'ë§ˆì´í´ ìƒŒë¸',\n      publisher: 'ê¹€ì˜ì‚¬',\n      isbn: '9788934942467',\n      category: 'ì² í•™',\n      publishYear: '2010',\n      description: 'ì •ì˜ì— ëŒ€í•œ ì² í•™ì  íƒêµ¬',\n      loanCount: 2543\n    }, {\n      id: '9',\n      title: 'ì½”ìŠ¤ëª¨ìŠ¤',\n      author: 'ì¹¼ ì„¸ì´ê±´',\n      publisher: 'ì‚¬ì´ì–¸ìŠ¤ë¶ìŠ¤',\n      isbn: '9788983711892',\n      category: 'ê³¼í•™',\n      publishYear: '1980',\n      description: 'ìš°ì£¼ì— ëŒ€í•œ ê²½ì´ë¡œìš´ íƒí—˜',\n      loanCount: 2321\n    }, {\n      id: '10',\n      title: 'ì›í”¼ìŠ¤ 1ê¶Œ',\n      author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ',\n      publisher: 'ëŒ€ì›ì”¨ì•„ì´',\n      isbn: '9788925208015',\n      category: 'ë§Œí™”',\n      publishYear: '1997',\n      description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜',\n      loanCount: 2134\n    }];\n\n    // ê²€ìƒ‰ì–´ì™€ ë§¤ì¹­ë˜ëŠ” ë„ì„œ ì°¾ê¸°\n    const filtered = allBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()) || book.category.toLowerCase().includes(query.toLowerCase()));\n\n    // ë§¤ì¹­ë˜ëŠ” ê²°ê³¼ê°€ ìžˆìœ¼ë©´ ë°˜í™˜, ì—†ìœ¼ë©´ ì¸ê¸°ë„ì„œ 5ê¶Œ ë°˜í™˜\n    return filtered.length > 0 ? filtered : allBooks.slice(0, 5);\n  };\n\n  // ë”ë¯¸ ê²€ìƒ‰ ê²°ê³¼ ìƒì„±\n  const getDummySearchResults = useCallback(query => {\n    const dummyBooks = [{\n      id: '1',\n      title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n      author: 'J.K. ë¡¤ë§',\n      publisher: 'ë¬¸í•™ìˆ˜ì²©',\n      isbn: '9788983920072',\n      category: 'ì†Œì„¤',\n      publishYear: '1997',\n      description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸° ì²« ë²ˆì§¸ ê¶Œ',\n      loanCount: 3421\n    }, {\n      id: '2',\n      title: 'í•´ë¦¬í¬í„°ì™€ ë¹„ë°€ì˜ ë°©',\n      author: 'J.K. ë¡¤ë§',\n      publisher: 'ë¬¸í•™ìˆ˜ì²©',\n      isbn: '9788983920089',\n      category: 'ì†Œì„¤',\n      publishYear: '1998',\n      description: 'í•´ë¦¬í¬í„° ì‹œë¦¬ì¦ˆ ë‘ ë²ˆì§¸ ê¶Œ',\n      loanCount: 2987\n    }, {\n      id: '3',\n      title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n      author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ, ê³ ê°€ í›„ë¯¸íƒ€ì¼€',\n      publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n      isbn: '9788950955671',\n      category: 'ìžê¸°ê³„ë°œ',\n      publishYear: '2014',\n      description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œë¥¼ ë‹´ì€ ì±…',\n      loanCount: 2847\n    }, {\n      id: '4',\n      title: '82ë…„ìƒ ê¹€ì§€ì˜',\n      author: 'ì¡°ë‚¨ì£¼',\n      publisher: 'ë¯¼ìŒì‚¬',\n      isbn: '9788937473371',\n      category: 'ì†Œì„¤',\n      publishYear: '2016',\n      description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤',\n      loanCount: 1923\n    }, {\n      id: '5',\n      title: 'ì‚¬í”¼ì—”ìŠ¤',\n      author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n      publisher: 'ê¹€ì˜ì‚¬',\n      isbn: '9788934972464',\n      category: 'ì¸ë¬¸',\n      publishYear: '2015',\n      description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n      loanCount: 1456\n    }, {\n      id: '6',\n      title: 'ì›í”¼ìŠ¤ 1ê¶Œ',\n      author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ',\n      publisher: 'ëŒ€ì›ì”¨ì•„ì´',\n      isbn: '9788925208015',\n      category: 'ë§Œí™”',\n      publishYear: '1997',\n      description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜',\n      loanCount: 1234\n    }];\n    const filtered = dummyBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()) || book.category.toLowerCase().includes(query.toLowerCase()));\n\n    // ë§¤ì¹­ë˜ëŠ” ê²°ê³¼ë§Œ ë°˜í™˜ (ë§¤ì¹­ë˜ì§€ ì•Šìœ¼ë©´ ë¹ˆ ë°°ì—´)\n    return filtered.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    }));\n  }, [libraries, generateLibraryAvailability]);\n\n  // ê²€ìƒ‰ ìˆ˜í–‰\n  const performSearch = React.useCallback(async query => {\n    setLoading(true);\n    setHasSearched(true);\n\n    // ì§€ì—­ì´ ì„ íƒë˜ì§€ ì•Šì•˜ìœ¼ë©´ ê¸°ë³¸ ì§€ì—­ ì„¤ì •\n    if (!selectedRegion) {\n      setSelectedRegion('ìˆ˜ì›ì‹œ');\n      const defaultLibraries = generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n      setLibraries(defaultLibraries);\n    }\n    try {\n      console.log('ðŸ” API ê²€ìƒ‰ ì‹œìž‘:', query);\n\n      // 1. ë¨¼ì € ì‹¤ì œ ì¸ê¸°ë„ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ (ì‹¤ì œ ë°ì´í„°ê°€ ìžˆëŠ” ê¸°ê°„)\n      console.log('ðŸ“… ì‹¤ì œ ëŒ€ì¶œ ë°ì´í„°ê°€ ìžˆëŠ” ê¸°ê°„ìœ¼ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤');\n      const popularBooks = await fetchPopularBooks(); // ê¸°ë³¸ê°’ ì‚¬ìš© (2024ë…„ ë°ì´í„°)\n      console.log('ðŸ† ì¸ê¸°ë„ì„œ ë°ì´í„°:', popularBooks);\n\n      // 2. ê²€ìƒ‰ì–´ì™€ ë§¤ì¹­ë˜ëŠ” ì¸ê¸°ë„ì„œ ì°¾ê¸°\n      const matchingPopularBooks = popularBooks.filter(book => book.title.toLowerCase().includes(query.toLowerCase()) || book.author.toLowerCase().includes(query.toLowerCase()));\n      if (matchingPopularBooks.length > 0) {\n        console.log('âœ… ì¸ê¸°ë„ì„œì—ì„œ ê²€ìƒ‰ ê²°ê³¼ ë°œê²¬:', matchingPopularBooks);\n        setApiStatus('ì‹¤ì œ ë„ì„œê´€ ì¸ê¸°ë„ì„œ ë°ì´í„° ê²€ìƒ‰ ì™„ë£Œ');\n        const currentLibraries = libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n        const booksWithAvailability = matchingPopularBooks.map(book => ({\n          id: book.id,\n          title: book.title,\n          author: book.author,\n          publisher: book.publisher,\n          isbn: book.isbn,\n          category: book.category,\n          publishYear: book.publishYear,\n          loanCount: book.loanCount,\n          availability: generateLibraryAvailability(currentLibraries)\n        }));\n        setSearchResults(booksWithAvailability);\n        return;\n      }\n\n      // 3. ì‹¤ì œ ê²€ìƒ‰ì–´ì™€ ê´€ë ¨ëœ ë„ì„œ ì œê³µ (API ë¬¸ì œ í•´ê²° ì „ê¹Œì§€ ìž„ì‹œ)\n      console.log('ðŸ”„ ê²€ìƒ‰ì–´ ê¸°ë°˜ ê²°ê³¼ ìƒì„±:', query);\n      setApiStatus('ê²€ìƒ‰ì–´ ê¸°ë°˜ ë„ì„œ ëª©ë¡ ì œê³µ');\n      const currentLibraries = libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n\n      // ê²€ìƒ‰ì–´ì— ë”°ë¥¸ ê´€ë ¨ ë„ì„œ ìƒì„±\n      const searchRelatedBooks = getSearchRelatedBooks(query);\n      const booksWithAvailability = searchRelatedBooks.map(book => ({\n        ...book,\n        availability: generateLibraryAvailability(currentLibraries)\n      }));\n      console.log('âœ… ê²€ìƒ‰ì–´ ê¸°ë°˜ ê²°ê³¼:', booksWithAvailability);\n      setSearchResults(booksWithAvailability);\n    } catch (error) {\n      console.error('âŒ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜:', error);\n      setApiStatus('API ì—°ê²° ì˜¤ë¥˜ - ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µ');\n      const dummyResults = getDummySearchResults(query);\n      console.log('ðŸ”„ ì˜¤ë¥˜ ë°œìƒ - ë”ë¯¸ ë°ì´í„° ì‚¬ìš©:', dummyResults);\n\n      // ë”ë¯¸ ë°ì´í„°ë„ ì—†ìœ¼ë©´ ê¸°ë³¸ ë„ì„œ ëª©ë¡ ì œê³µ\n      if (dummyResults.length === 0) {\n        console.log('ðŸ“– ê¸°ë³¸ ë„ì„œ ëª©ë¡ ì œê³µ');\n        const defaultBooks = getDefaultBookList();\n        setSearchResults(defaultBooks);\n      } else {\n        setSearchResults(dummyResults);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedRegion, libraries, generateLibrariesByRegion, generateLibraryAvailability, getDummySearchResults, getDefaultBookList]);\n\n  // ê²€ìƒ‰ í¼ ì œì¶œ\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      // ìƒˆë¡œìš´ ê²€ìƒ‰ ì‹œ ê¸°ì¡´ ê²°ê³¼ ë° ì§€ì—­ ì„ íƒ ë¦¬ì…‹\n      setSearchResults([]);\n      setHasSearched(false);\n      setSelectedRegion('');\n      setLibraries([]);\n      saveRecentSearch(searchTerm.trim());\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // ì˜ˆì•½ ì²˜ë¦¬\n  const handleReserve = (bookId, libraryId, libraryName, libraryPhone, libraryHours = '', isAvailable, availableBooks = 0, totalBooks = 0) => {\n    // ì˜ˆì•½ ëŒ€ê¸°ë§Œ ìžˆëŠ” ê²½ìš° (availableBooks === 0 && totalBooks > 0) ë°”ë¡œ ì „í™” ì—°ê²°\n    if (availableBooks === 0 && totalBooks > 0) {\n      alert('ë„ì„œê´€ì— ì§ì ‘ ì „í™”í•˜ì—¬ ëŒ€ê¸°ì‹ ì²­ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.');\n      window.location.href = `tel:${libraryPhone}`;\n      return;\n    }\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    let message = '';\n    if (isAvailable) {\n      message = `${libraryName}ì—ì„œ ì´ ë„ì„œë¥¼ ì˜ˆì•½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;\n    } else {\n      message = `${libraryName}ì— ëŒ€ê¸°ì‹ ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;\n    }\n    message += `\\n\\nðŸ“ž ì „í™”ë²ˆí˜¸: ${libraryPhone}`;\n    if (libraryHours) {\n      message += `\\nâ° ìš´ì˜ì‹œê°„: ${libraryHours}`;\n    }\n    if (!isOpen) {\n      message += `\\n\\nâš ï¸ í˜„ìž¬ ì‹œê°„ì€ ë„ì„œê´€ ìš´ì˜ì‹œê°„ ì™¸ìž…ë‹ˆë‹¤.`;\n      message += `\\nìš´ì˜ì‹œê°„ì— ë‹¤ì‹œ ì „í™”í•´ì£¼ì„¸ìš”.`;\n    }\n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      if (isAvailable) {\n        alert('ì˜ˆì•½ í™•ì¸ì„ ìœ„í•´ ë„ì„œê´€ì— ì§ì ‘ ì „í™”ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');\n      } else {\n        alert('ëŒ€ê¸°ì‹ ì²­ í™•ì¸ì„ ìœ„í•´ ë„ì„œê´€ì— ì§ì ‘ ì „í™”ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');\n      }\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // ì™¸ë¶€ ê²€ìƒ‰ì–´ ì²˜ë¦¬\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete, performSearch]);\n\n  // ë¶€ëª¨ì—ì„œ ì „ë‹¬ë°›ì€ ì§€ì—­ ì •ë³´ ë™ê¸°í™”\n  useEffect(() => {\n    if (parentSelectedRegion !== undefined) {\n      setSelectedRegion(parentSelectedRegion);\n    }\n  }, [parentSelectedRegion]);\n\n  // ì§€ì—­ ì„ íƒ ì²˜ë¦¬\n  useEffect(() => {\n    if (selectedRegion) {\n      const regionLibraries = generateLibrariesByRegion(selectedRegion);\n      setLibraries(regionLibraries);\n    }\n  }, [selectedRegion]);\n\n  // ì§€ì—­ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸\n  const updateSearchResultsWithLibraries = React.useCallback(newLibraries => {\n    setSearchResults(prevResults => {\n      if (prevResults.length > 0 && newLibraries.length > 0) {\n        return prevResults.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(newLibraries)\n        }));\n      }\n      return prevResults;\n    });\n  }, []);\n\n  // ë„ì„œê´€ ì •ë³´ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (libraries.length > 0) {\n      updateSearchResultsWithLibraries(libraries);\n    }\n  }, [libraries, updateSearchResultsWithLibraries]); // librariesê°€ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(SearchInputContainer, {\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          placeholder: \"\\uCC3E\\uC73C\\uC2DC\\uB294 \\uB3C4\\uC11C\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n          value: searchTerm,\n          onChange: handleSearchInputChange,\n          onFocus: handleSearchInputFocus,\n          onBlur: handleAutocompleteClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 11\n        }, this), showAutocomplete && autocompleteItems.length > 0 && /*#__PURE__*/_jsxDEV(AutocompleteDropdown, {\n          children: autocompleteItems.map((item, index) => /*#__PURE__*/_jsxDEV(AutocompleteItemElement, {\n            onClick: () => handleAutocompleteSelect(item),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon\",\n              children: item.type === 'recent' ? 'ðŸ•' : item.type === 'popular' ? 'ðŸ”¥' : 'ðŸ’¡'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text\",\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category\",\n              children: item.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1072,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'ê²€ìƒ‰ ì¤‘...' : 'ðŸ” ê²€ìƒ‰'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 7\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(RegionSelector, {\n        onLibrariesUpdate: setLibraries,\n        selectedRegion: selectedRegion,\n        onRegionUpdate: region => {\n          setSelectedRegion(region);\n          if (onRegionUpdate) {\n            onRegionUpdate(region);\n          }\n          // ì§€ì—­ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë„ì„œê´€ ì •ë³´ ì—…ë°ì´íŠ¸\n          const regionLibraries = generateLibrariesByRegion(region);\n          setLibraries(regionLibraries);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1102,\n      columnNumber: 9\n    }, this), apiStatus && /*#__PURE__*/_jsxDEV(ApiStatusBanner, {\n      status: apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? 'warning' : 'success',\n      children: [/*#__PURE__*/_jsxDEV(ApiStatusIcon, {\n        children: apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? 'âš ï¸' : 'âœ…'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 11\n      }, this), apiStatus, apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? /*#__PURE__*/_jsxDEV(ApiTestButton, {\n        onClick: async () => {\n          setApiStatus('API ìƒíƒœ í™•ì¸ ì¤‘...');\n          try {\n            const connectionTest = await testApiConnection();\n            setApiStatus(connectionTest.message);\n          } catch (error) {\n            setApiStatus('API ì—°ê²° ì‹¤íŒ¨');\n          }\n        },\n        children: \"\\uB2E4\\uC2DC \\uD655\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 14\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1122,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(LoadingDiv, {\n      children: \"\\uD83D\\uDCDA \\uC2E4\\uC81C \\uB3C4\\uC11C\\uAD00 API\\uC5D0\\uC11C \\uAC80\\uC0C9\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1142,\n      columnNumber: 9\n    }, this), !loading && hasSearched && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(EmptyState, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emoji\",\n        children: \"\\uD83D\\uDCD6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        children: \"\\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1148,\n      columnNumber: 9\n    }, this), !loading && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(SearchResults, {\n      children: searchResults.sort((a, b) => (b.loanCount || 0) - (a.loanCount || 0)) // ëŒ€ì¶œíšŸìˆ˜ ê¸°ì¤€ ì •ë ¬\n      .map((book, index) => /*#__PURE__*/_jsxDEV(BookCard, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: index < 3 ? '#ff6b35' : '#4a90e2',\n                color: '#ffffff',\n                borderRadius: '50%',\n                width: '35px',\n                height: '35px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '16px',\n                fontWeight: 'bold',\n                flexShrink: 0,\n                border: '2px solid #ffffff',\n                boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n              },\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#666',\n                  marginTop: '2px',\n                  fontWeight: 'bold'\n                },\n                children: [\"\\uD83C\\uDFC6 \", index + 1, \"\\uC704 (\\uB300\\uCD9C \", book.loanCount || 0, \"\\uD68C)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1182,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleBookmark(book.id),\n            style: {\n              background: 'none',\n              border: 'none',\n              fontSize: '24px',\n              cursor: 'pointer',\n              color: isBookmarked(book.id) ? '#ff6b6b' : '#ccc',\n              transition: 'color 0.3s'\n            },\n            title: isBookmarked(book.id) ? 'ì¦ê²¨ì°¾ê¸° í•´ì œ' : 'ì¦ê²¨ì°¾ê¸° ì¶”ê°€',\n            children: isBookmarked(book.id) ? 'â¤ï¸' : 'ðŸ¤'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(BookInfo, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uC800\\uC790: \", book.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uD310\\uC0AC: \", book.publisher]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1209,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCE74\\uD14C\\uACE0\\uB9AC: \", book.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uCD9C\\uAC04\\uB144\\uB3C4: \", book.publishYear]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 17\n          }, this), book.loanCount && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uB300\\uCD9C \\uD69F\\uC218: \", book.loanCount.toLocaleString(), \"\\uD68C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1207,\n          columnNumber: 15\n        }, this), book.description && /*#__PURE__*/_jsxDEV(BookDescription, {\n          children: book.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 17\n        }, this), selectedRegion && /*#__PURE__*/_jsxDEV(AvailabilitySection, {\n          children: [/*#__PURE__*/_jsxDEV(AvailabilityTitle, {\n            children: [\"\\uD83D\\uDCCD \", selectedRegion, \" \\uB3C4\\uC11C\\uAD00 \\uC18C\\uC7A5 \\uD604\\uD669\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(LibraryList, {\n            children: book.availability.sort((a, b) => {\n              if (a.available && !b.available) return -1;\n              if (!a.available && b.available) return 1;\n              if (a.available && b.available) return a.waitingList - b.waitingList;\n              return a.waitingList - b.waitingList;\n            }).map(avail => /*#__PURE__*/_jsxDEV(LibraryItem, {\n              children: [/*#__PURE__*/_jsxDEV(LibraryHeader, {\n                children: [/*#__PURE__*/_jsxDEV(LibraryName, {\n                  children: [avail.available ? 'âœ… ' : 'âŒ ', avail.libraryName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1237,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(LibraryAddress, {\n                  children: [\"\\uD83D\\uDCCD \", avail.libraryAddress]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1241,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(LibraryPhone, {\n                  children: [\"\\uD83D\\uDCDE \", avail.libraryPhone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1242,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(LibraryHours, {\n                  children: [\"\\u23F0 \", avail.libraryHours || '09:00-18:00']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1243,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(LibraryStats, {\n                children: avail.availableBooks > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    background: '#e8f5e8',\n                    border: '1px solid #4CAF50',\n                    borderRadius: '8px',\n                    padding: '12px',\n                    marginBottom: '10px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '8px',\n                      marginBottom: '8px',\n                      fontWeight: 'bold',\n                      color: '#2e7d32'\n                    },\n                    children: \"\\uD83D\\uDCD6 \\uB300\\uCD9C \\uAC00\\uB2A5\\uD55C \\uB3C4\\uC11C \\uC704\\uCE58\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1254,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '14px',\n                      color: '#1b5e20',\n                      lineHeight: '1.4'\n                    },\n                    children: [\"\\uD83D\\uDCCD \", avail.location]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1264,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '14px',\n                      color: '#2e7d32',\n                      marginTop: '4px'\n                    },\n                    children: [\"\\u2705 \\uB300\\uCD9C \\uAC00\\uB2A5 \", avail.availableBooks, \"\\uAD8C\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1271,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1247,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 23\n              }, this), avail.availableBooks === 0 && avail.totalBooks > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#e8f5e8',\n                  border: '1px solid #4CAF50',\n                  borderRadius: '8px',\n                  padding: '12px',\n                  margin: '10px 0',\n                  fontSize: '14px',\n                  color: '#2e7d32'\n                },\n                children: \"\\uD83D\\uDCDE \\uD604\\uC7AC \\uBAA8\\uB4E0 \\uB3C4\\uC11C\\uAC00 \\uB300\\uCD9C \\uC911\\uC785\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 25\n              }, this), avail.totalBooks === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#f8d7da',\n                  border: '1px solid #f5c6cb',\n                  borderRadius: '8px',\n                  padding: '12px',\n                  margin: '10px 0',\n                  fontSize: '14px',\n                  color: '#721c24'\n                },\n                children: \"\\u274C \\uC774 \\uB3C4\\uC11C\\uAD00\\uC5D0\\uB294 \\uD574\\uB2F9 \\uB3C4\\uC11C\\uAC00 \\uC18C\\uC7A5\\uB418\\uC5B4 \\uC788\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1297,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '10px'\n                },\n                children: [avail.waitingList > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    color: 'var(--accent-color)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px'\n                  },\n                  children: [\"\\u23F3 \\uC608\\uC57D \\uB300\\uAE30 \", avail.waitingList, \"\\uBA85\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1317,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginLeft: 'auto'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ReserveButton, {\n                    available: avail.available || avail.availableBooks === 0 && avail.totalBooks > 0,\n                    onClick: () => handleReserve(book.id, avail.libraryId, avail.libraryName, avail.libraryPhone, avail.libraryHours || '09:00-18:00', avail.available, avail.availableBooks, avail.totalBooks),\n                    disabled: avail.totalBooks === 0,\n                    children: avail.totalBooks === 0 ? 'ðŸ“µ ì†Œìž¥ ì—†ìŒ' : 'ðŸ“– ë°”ë¡œ ì˜ˆì•½'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1329,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1328,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 23\n              }, this)]\n            }, avail.libraryId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 17\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1160,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1156,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1070,\n    columnNumber: 5\n  }, this);\n};\n_s(BookSearchSection, \"bfxvnyOqDI5jeZ6slIu0Dap9xN0=\");\n_c27 = BookSearchSection;\nexport default BookSearchSection;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SearchForm\");\n$RefreshReg$(_c3, \"SearchInputContainer\");\n$RefreshReg$(_c4, \"SearchInput\");\n$RefreshReg$(_c5, \"AutocompleteDropdown\");\n$RefreshReg$(_c6, \"AutocompleteItemElement\");\n$RefreshReg$(_c7, \"SearchButton\");\n$RefreshReg$(_c8, \"LoadingDiv\");\n$RefreshReg$(_c9, \"EmptyState\");\n$RefreshReg$(_c0, \"SearchResults\");\n$RefreshReg$(_c1, \"BookCard\");\n$RefreshReg$(_c10, \"BookTitle\");\n$RefreshReg$(_c11, \"BookInfo\");\n$RefreshReg$(_c12, \"BookDescription\");\n$RefreshReg$(_c13, \"AvailabilitySection\");\n$RefreshReg$(_c14, \"AvailabilityTitle\");\n$RefreshReg$(_c15, \"LibraryList\");\n$RefreshReg$(_c16, \"LibraryItem\");\n$RefreshReg$(_c17, \"LibraryHeader\");\n$RefreshReg$(_c18, \"LibraryName\");\n$RefreshReg$(_c19, \"LibraryAddress\");\n$RefreshReg$(_c20, \"LibraryPhone\");\n$RefreshReg$(_c21, \"LibraryHours\");\n$RefreshReg$(_c22, \"LibraryStats\");\n$RefreshReg$(_c23, \"ReserveButton\");\n$RefreshReg$(_c24, \"ApiStatusBanner\");\n$RefreshReg$(_c25, \"ApiStatusIcon\");\n$RefreshReg$(_c26, \"ApiTestButton\");\n$RefreshReg$(_c27, \"BookSearchSection\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","styled","RegionSelector","testApiConnection","getApiStatus","fetchPopularBooks","jsxDEV","_jsxDEV","Container","div","_c","SearchForm","form","_c2","SearchInputContainer","_c3","SearchInput","input","_c4","AutocompleteDropdown","_c5","AutocompleteItemElement","_c6","SearchButton","button","_c7","LoadingDiv","_c8","EmptyState","_c9","SearchResults","_c0","BookCard","_c1","BookTitle","h3","_c10","BookInfo","_c11","BookDescription","p","_c12","AvailabilitySection","_c13","AvailabilityTitle","h4","_c14","LibraryList","_c15","LibraryItem","_c16","LibraryHeader","_c17","LibraryName","_c18","LibraryAddress","_c19","LibraryPhone","_c20","LibraryHours","_c21","LibraryStats","_c22","ReserveButton","props","available","_c23","ApiStatusBanner","status","_c24","ApiStatusIcon","span","_c25","ApiTestButton","_c26","BookSearchSection","externalSearchQuery","onExternalSearchComplete","selectedRegion","parentSelectedRegion","onRegionUpdate","_s","searchTerm","setSearchTerm","searchResults","setSearchResults","loading","setLoading","hasSearched","setHasSearched","setSelectedRegion","libraries","setLibraries","apiStatus","setApiStatus","recentSearches","setRecentSearches","showAutocomplete","setShowAutocomplete","autocompleteItems","setAutocompleteItems","bookmarks","setBookmarks","popularSearches","text","category","updateAutocomplete","inputValue","trim","items","slice","map","search","type","searchValue","toLowerCase","matchedItems","forEach","includes","push","length","handleAutocompleteSelect","item","saveRecentSearch","performSearch","handleSearchInputChange","e","value","target","setTimeout","handleSearchInputFocus","handleAutocompleteClose","savedSearches","localStorage","getItem","JSON","parse","savedBookmarks","query","updated","filter","s","setItem","stringify","toggleBookmark","bookId","id","isBookmarked","checkApprovalStatus","console","log","configured","connectionTest","message","success","_connectionTest$detai","_connectionTest$detai2","details","libraryBooks","gyeonggiLibraries","error","generateLibrariesByRegion","region","regionLower","cityName","replace","name","address","phone","hours","libraryData","key","data","Object","entries","generateLibraryAvailability","library","totalBooks","Math","floor","random","availableBooks","waitingList","section","aisle","String","fromCharCode","callNumber","libraryId","libraryName","libraryAddress","libraryPhone","libraryHours","location","getDefaultBookList","defaultBooks","title","author","publisher","isbn","publishYear","description","loanCount","book","availability","getSearchRelatedBooks","allBooks","filtered","getDummySearchResults","dummyBooks","defaultLibraries","popularBooks","matchingPopularBooks","currentLibraries","booksWithAvailability","searchRelatedBooks","dummyResults","handleSearch","preventDefault","handleReserve","isAvailable","alert","window","href","currentTime","Date","currentHour","getHours","isOpen","confirmed","confirm","undefined","regionLibraries","updateSearchResultsWithLibraries","newLibraries","prevResults","children","onSubmit","placeholder","onChange","onFocus","onBlur","fileName","_jsxFileName","lineNumber","columnNumber","index","onClick","className","disabled","style","marginBottom","onLibrariesUpdate","sort","a","b","display","justifyContent","alignItems","gap","background","color","borderRadius","width","height","fontSize","fontWeight","flexShrink","border","boxShadow","marginTop","cursor","transition","toLocaleString","avail","padding","lineHeight","margin","marginLeft","_c27","$RefreshReg$"],"sources":["C:/Users/qoo/Desktop/zziyoonii/senior/src/components/BookSearchSection.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport RegionSelector from './RegionSelector';\nimport { testApiConnection, getApiStatus, fetchPopularBooks, PopularBookData } from '../services/LibraryAPI';\n\n// ìŠ¤íƒ€ì¼ë“œ ì»´í¬ë„ŒíŠ¸ ì •ì˜\nconst Container = styled.div`\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  \n  @media (max-width: 768px) {\n    padding: 15px;\n  }\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  gap: 15px;\n  margin-bottom: 25px;\n  flex-wrap: wrap;\n`;\n\nconst SearchInputContainer = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 300px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 15px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 18px;\n  outline: none;\n  transition: border-color 0.3s;\n  \n  &:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);\n  }\n  \n  &::placeholder {\n    color: #666;\n    font-size: 16px;\n  }\n`;\n\nconst AutocompleteDropdown = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  max-height: 300px;\n  overflow-y: auto;\n  z-index: 1000;\n  margin-top: 4px;\n`;\n\nconst AutocompleteItemElement = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 16px;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  .icon {\n    color: #666;\n    font-size: 14px;\n  }\n  \n  .text {\n    flex: 1;\n  }\n  \n  .category {\n    color: #999;\n    font-size: 12px;\n  }\n`;\n\nconst SearchButton = styled.button`\n  padding: 15px 30px;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-2px);\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\n\n\nconst LoadingDiv = styled.div`\n  text-align: center;\n  padding: 40px;\n  font-size: 18px;\n  color: #666;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  background: white;\n  border-radius: 8px;\n  margin: 20px 0;\n  \n  .emoji {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  \n  .title {\n    font-size: 24px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10px;\n  }\n  \n  .subtitle {\n    font-size: 16px;\n    color: #666;\n  }\n`;\n\nconst SearchResults = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nconst BookCard = styled.div`\n  background: white;\n  border-radius: 12px;\n  padding: 25px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n  transition: transform 0.3s, box-shadow 0.3s;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  }\n`;\n\nconst BookTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  flex: 1;\n`;\n\nconst BookInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 15px;\n  \n  span {\n    color: #666;\n    font-size: 14px;\n  }\n`;\n\nconst BookDescription = styled.p`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8f9fa;\n  border-radius: 8px;\n`;\n\nconst AvailabilitySection = styled.div`\n  border-top: 1px solid #e0e0e0;\n  padding-top: 20px;\n`;\n\nconst AvailabilityTitle = styled.h4`\n  margin: 0 0 15px 0;\n  color: #333;\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nconst LibraryList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst LibraryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  background: #fafafa;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n`;\n\nconst LibraryHeader = styled.div`\n  flex: 1;\n  margin-bottom: 10px;\n`;\n\nconst LibraryName = styled.h4`\n  margin: 0 0 4px 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n`;\n\nconst LibraryAddress = styled.p`\n  margin: 0 0 4px 0;\n  color: #666;\n  font-size: 14px;\n`;\n\nconst LibraryPhone = styled.p`\n  margin: 0 0 4px 0;\n  color: #4CAF50;\n  font-size: 14px;\n  font-weight: 600;\n`;\n\nconst LibraryHours = styled.p`\n  margin: 0 0 4px 0;\n  color: #666;\n  font-size: 12px;\n`;\n\nconst LibraryStats = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 15px;\n  padding: 10px 0;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n`;\n\n// ActionButtons ìŠ¤íƒ€ì¼ë“œ ì»´í¬ë„ŒíŠ¸ ì œê±° (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)\n\nconst ReserveButton = styled.button<{ available: boolean }>`\n  padding: 8px 15px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n  \n  background: ${props => props.available ? '#4CAF50' : '#ff9800'};\n  color: white;\n  \n  &:hover:not(:disabled) {\n    background: ${props => props.available ? '#45a049' : '#f57c00'};\n  }\n  \n  &:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n`;\n\nconst ApiStatusBanner = styled.div<{ status: 'success' | 'warning' | 'error' }>`\n  padding: 12px 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  \n  ${props => {\n    switch (props.status) {\n      case 'success':\n        return `\n          background: #e8f5e8;\n          color: #2e7d32;\n          border: 1px solid #4caf50;\n        `;\n      case 'warning':\n        return `\n          background: #fff8e1;\n          color: #f57c00;\n          border: 1px solid #ff9800;\n        `;\n      case 'error':\n        return `\n          background: #ffebee;\n          color: #c62828;\n          border: 1px solid #f44336;\n        `;\n      default:\n        return `\n          background: #f5f5f5;\n          color: #666;\n          border: 1px solid #ddd;\n        `;\n    }\n  }}\n`;\n\nconst ApiStatusIcon = styled.span`\n  font-size: 18px;\n`;\n\nconst ApiTestButton = styled.button`\n  margin-left: auto;\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  background: var(--primary-color);\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #45a049;\n    transform: translateY(-1px);\n  }\n`;\n\n\n// ì¸í„°íŽ˜ì´ìŠ¤ ì •ì˜\ninterface Library {\n  id: number;\n  name: string;\n  address: string;\n  phone: string;\n  hours?: string;\n}\n\ninterface AutocompleteItemData {\n  text: string;\n  category: string;\n  type: 'popular' | 'recent' | 'suggestion';\n}\n\ninterface Book {\n  id: string;\n  title: string;\n  author: string;\n  publisher: string;\n  isbn: string;\n  category: string;\n  publishYear: string;\n  description?: string;\n  imageUrl?: string;\n  loanCount?: number;\n  availability: Array<{\n    libraryId: number;\n    libraryName: string;\n    libraryAddress: string;\n    libraryPhone: string;\n    libraryHours?: string;\n    available: boolean;\n    waitingList: number;\n    totalBooks: number;\n    availableBooks: number;\n    location: string;\n  }>;\n}\n\ninterface BookSearchSectionProps {\n  externalSearchQuery?: string;\n  onExternalSearchComplete?: () => void;\n  selectedRegion?: string;\n  onRegionUpdate?: (region: string) => void;\n}\n\nconst BookSearchSection: React.FC<BookSearchSectionProps> = ({ \n  externalSearchQuery, \n  onExternalSearchComplete,\n  selectedRegion: parentSelectedRegion,\n  onRegionUpdate \n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<Book[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n  const [selectedRegion, setSelectedRegion] = useState(parentSelectedRegion || '');\n  const [libraries, setLibraries] = useState<Library[]>([]);\n  const [apiStatus, setApiStatus] = useState<string>('');\n\n  // ìµœê·¼ ê²€ìƒ‰ì–´ ìƒíƒœ\n  const [recentSearches, setRecentSearches] = useState<string[]>([]);\n\n  // ìžë™ì™„ì„± ìƒíƒœ\n  const [showAutocomplete, setShowAutocomplete] = useState(false);\n  const [autocompleteItems, setAutocompleteItems] = useState<AutocompleteItemData[]>([]);\n\n  // ì¦ê²¨ì°¾ê¸° ìƒíƒœ\n  const [bookmarks, setBookmarks] = useState<string[]>([]);\n\n\n\n  // ì¸ê¸° ê²€ìƒ‰ì–´ ëª©ë¡\n  const popularSearches = [\n    { text: 'ë‹¬ê³¼ 6íŽœìŠ¤', category: 'ë¬¸í•™' },\n    { text: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°', category: 'ìžê¸°ê³„ë°œ' },\n    { text: 'ìˆ˜í•™ì˜ ì •ì„', category: 'êµìœ¡' },\n    { text: '82ë…„ìƒ ê¹€ì§€ì˜', category: 'ì†Œì„¤' },\n    { text: 'ì›ì”½', category: 'ìžê¸°ê³„ë°œ' },\n    { text: 'ì„¸ê³„ì‚¬ íŽ¸ì§€', category: 'ì—­ì‚¬' },\n    { text: 'ì½”ìŠ¤ëª¨ìŠ¤', category: 'ê³¼í•™' },\n    { text: 'ìž‘ë³„í•˜ì§€ ì•ŠëŠ”ë‹¤', category: 'ì†Œì„¤' },\n    { text: 'ì•„í”„ë‹ˆê¹Œ ì²­ì¶˜ì´ë‹¤', category: 'ì—ì„¸ì´' },\n    { text: 'ë¶ˆíŽ¸í•œ íŽ¸ì˜ì ', category: 'ì†Œì„¤' },\n    { text: 'ì•„ëª¬ë“œ', category: 'ì†Œì„¤' },\n    { text: 'ë‹¹ì‹ ì´ ì˜³ë‹¤', category: 'ì—ì„¸ì´' },\n    { text: 'ì‚¬í”¼ì—”ìŠ¤', category: 'ì¸ë¬¸' },\n    { text: 'ë°ë¯¸ì•ˆ', category: 'ë¬¸í•™' },\n    { text: 'ì–´ë¦°ì™•ìž', category: 'ë¬¸í•™' }\n  ];\n\n  // ìžë™ì™„ì„± ê¸°ëŠ¥\n  const updateAutocomplete = (inputValue: string) => {\n    if (!inputValue.trim()) {\n      const items: AutocompleteItemData[] = [\n        ...recentSearches.slice(0, 5).map(search => ({\n          text: search,\n          category: 'ìµœê·¼ ê²€ìƒ‰',\n          type: 'recent' as const\n        })),\n        ...popularSearches.slice(0, 5).map(search => ({\n          text: search.text,\n          category: search.category,\n          type: 'popular' as const\n        }))\n      ];\n      setAutocompleteItems(items);\n      setShowAutocomplete(true);\n      return;\n    }\n\n    const searchValue = inputValue.toLowerCase();\n    const matchedItems: AutocompleteItemData[] = [];\n\n    recentSearches.forEach(search => {\n      if (search.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search,\n          category: 'ìµœê·¼ ê²€ìƒ‰',\n          type: 'recent'\n        });\n      }\n    });\n\n    popularSearches.forEach(search => {\n      if (search.text.toLowerCase().includes(searchValue)) {\n        matchedItems.push({\n          text: search.text,\n          category: search.category,\n          type: 'popular'\n        });\n      }\n    });\n\n    setAutocompleteItems(matchedItems.slice(0, 10));\n    setShowAutocomplete(matchedItems.length > 0);\n  };\n\n  // ìžë™ì™„ì„± ì•„ì´í…œ ì„ íƒ ì²˜ë¦¬\n  const handleAutocompleteSelect = (item: AutocompleteItemData) => {\n    setSearchTerm(item.text);\n    setShowAutocomplete(false);\n    saveRecentSearch(item.text);\n    performSearch(item.text);\n  };\n\n  // ê²€ìƒ‰ ìž…ë ¥ ì²˜ë¦¬\n  const handleSearchInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    \n    setTimeout(() => {\n      updateAutocomplete(value);\n    }, 300);\n  };\n\n  // ê²€ìƒ‰ ìž…ë ¥ í¬ì»¤ìŠ¤ ì²˜ë¦¬\n  const handleSearchInputFocus = () => {\n    updateAutocomplete(searchTerm);\n  };\n\n  // ìžë™ì™„ì„± ë‹«ê¸°\n  const handleAutocompleteClose = () => {\n    setTimeout(() => setShowAutocomplete(false), 150);\n  };\n\n  // ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ìµœê·¼ ê²€ìƒ‰ì–´ ë° ì¦ê²¨ì°¾ê¸° ë¶ˆëŸ¬ì˜¤ê¸°\n  useEffect(() => {\n    const savedSearches = localStorage.getItem('recentSearches');\n    if (savedSearches) {\n      setRecentSearches(JSON.parse(savedSearches));\n    }\n    \n    const savedBookmarks = localStorage.getItem('bookmarks');\n    if (savedBookmarks) {\n      setBookmarks(JSON.parse(savedBookmarks));\n    }\n  }, []);\n\n  // ìµœê·¼ ê²€ìƒ‰ì–´ ì €ìž¥\n  const saveRecentSearch = (query: string) => {\n    const updated = [query, ...recentSearches.filter(s => s !== query)].slice(0, 10);\n    setRecentSearches(updated);\n    localStorage.setItem('recentSearches', JSON.stringify(updated));\n  };\n\n  // ì¦ê²¨ì°¾ê¸° í† ê¸€\n  const toggleBookmark = (bookId: string) => {\n    let updated: string[];\n    if (bookmarks.includes(bookId)) {\n      updated = bookmarks.filter(id => id !== bookId);\n    } else {\n      updated = [...bookmarks, bookId];\n    }\n    setBookmarks(updated);\n    localStorage.setItem('bookmarks', JSON.stringify(updated));\n  };\n\n  // ì¦ê²¨ì°¾ê¸° ì—¬ë¶€ í™•ì¸\n  const isBookmarked = (bookId: string) => bookmarks.includes(bookId);\n\n  // API ìŠ¹ì¸ ìƒíƒœ í™•ì¸\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        // 1. API ì„¤ì • ìƒíƒœ í™•ì¸\n        const apiStatus = getApiStatus();\n        console.log('API ì„¤ì • ìƒíƒœ:', apiStatus);\n        \n        if (!apiStatus.configured) {\n          setApiStatus('API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”');\n          return;\n        }\n\n        // 2. API ì—°ê²° í…ŒìŠ¤íŠ¸\n        const connectionTest = await testApiConnection();\n        console.log('API ì—°ê²° í…ŒìŠ¤íŠ¸ ê²°ê³¼:', connectionTest);\n        \n        setApiStatus(connectionTest.message);\n        \n        if (connectionTest.success) {\n          console.log('âœ… ì‹¤ì œ ë„ì„œê´€ API ì‚¬ìš© ê°€ëŠ¥');\n          console.log('ðŸ“š ë„ì„œ ê²€ìƒ‰ ê²°ê³¼:', connectionTest.details?.libraryBooks, 'ê¶Œ');\n          console.log('ðŸ›ï¸ ê²½ê¸°ë„ ë„ì„œê´€ ìˆ˜:', connectionTest.details?.gyeonggiLibraries, 'ê°œ');\n        } else {\n          console.log('âš ï¸ ë”ë¯¸ ë°ì´í„° ì‚¬ìš©');\n          console.log('ðŸ“‹ API ì—°ê²° ì‹¤íŒ¨ ì„¸ë¶€ì‚¬í•­:', connectionTest.details);\n        }\n      } catch (error) {\n        console.error('API ìƒíƒœ í™•ì¸ ì˜¤ë¥˜:', error);\n        setApiStatus('API ì—°ê²° ì‹¤íŒ¨');\n      }\n    };\n\n    checkApprovalStatus();\n  }, []);\n\n  // ì§€ì—­ë³„ ë„ì„œê´€ ìƒì„±\n  const generateLibrariesByRegion = useCallback((region: string): Library[] => {\n    const regionLower = region.toLowerCase();\n    // ë™ ë‹¨ìœ„ ì§€ì—­ ì²˜ë¦¬\n    if (regionLower.includes('ë™')) {\n      const cityName = region.replace('ë™', '');\n      return [\n        { id: 1, name: `${cityName}ë™ ì£¼ë¯¼ì„¼í„° ë„ì„œê´€`, address: `ê²½ê¸°ë„ ${cityName}ë™ ì¤‘ì•™ë¡œ 123`, phone: '031-123-4567', hours: '09:00-18:00' },\n        { id: 2, name: `${cityName}ë™ êµ¬ë¯¼íšŒê´€ ë„ì„œê´€`, address: `ê²½ê¸°ë„ ${cityName}ë™ ë³µí•©ë¬¸í™”ì„¼í„° 2ì¸µ`, phone: '031-234-5678', hours: '10:00-20:00' },\n        { id: 3, name: `${cityName}ë™ ìž‘ì€ë„ì„œê´€`, address: `ê²½ê¸°ë„ ${cityName}ë™ ì£¼íƒê°€ ë‚´ ìž‘ì€ë„ì„œê´€`, phone: '031-345-6789', hours: '10:00-18:00' }\n      ];\n    }\n    \n    // ì‹œ ë‹¨ìœ„ ì§€ì—­ë³„ ë„ì„œê´€ ë°ì´í„°\n    const libraryData: { [key: string]: Library[] } = {\n      'ìˆ˜ì›': [\n        { id: 1, name: 'ìˆ˜ì›ì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ê´‘êµë¡œ 183', phone: '031-228-4300', hours: '09:00-22:00' },\n        { id: 2, name: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235', phone: '031-249-4800', hours: '09:00-18:00' },\n        { id: 3, name: 'ì˜í†µêµ¬ë¦½ë„ì„œê´€', address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë™ 999-1', phone: '031-228-4350', hours: '09:00-20:00' }\n      ],\n      'ì„±ë‚¨': [\n        { id: 1, name: 'ì„±ë‚¨ì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì–‘í˜„ë¡œ 346', phone: '031-729-4600', hours: '09:00-18:00' },\n        { id: 2, name: 'ë¶„ë‹¹êµ¬ë¦½ì •ìžë„ì„œê´€', address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì •ìžë™ 178-1', phone: '031-729-4650', hours: '09:00-20:00' },\n        { id: 3, name: 'ì„œí˜„ìž‘ì€ë„ì„œê´€', address: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ì„œí˜„ë™ 271-3', phone: '031-729-4670', hours: '10:00-18:00' }\n      ],\n      'ê³ ì–‘': [\n        { id: 1, name: 'ê³ ì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ê³ ì–‘ì‹œ ë•ì–‘êµ¬ ê³ ì–‘ëŒ€ë¡œ 1955', phone: '031-8075-9300', hours: '09:00-18:00' },\n        { id: 2, name: 'ì¼ì‚°ë™êµ¬ë¦½ë„ì„œê´€', address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1256', phone: '031-8075-9350', hours: '09:00-20:00' },\n        { id: 3, name: 'ë°±ì„ìž‘ì€ë„ì„œê´€', address: 'ê²½ê¸° ê³ ì–‘ì‹œ ì¼ì‚°ë™êµ¬ ë°±ì„ë™ 1234-5', phone: '031-8075-9380', hours: '10:00-18:00' }\n      ],\n      'ë¶€ì²œ': [\n        { id: 1, name: 'ë¶€ì²œì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ê¸¸ì£¼ë¡œ 1', phone: '032-320-3901', hours: '09:00-18:00' },\n        { id: 2, name: 'ë¶€ì²œì‹œë¦½ì›ë¯¸ë„ì„œê´€', address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ì¤‘ë™ë¡œ 7', phone: '032-320-3902', hours: '09:00-20:00' },\n        { id: 3, name: 'ë¶€ì²œì‹œë¦½ìƒë™ë„ì„œê´€', address: 'ê²½ê¸° ë¶€ì²œì‹œ ì›ë¯¸êµ¬ ìƒë™ë¡œ 92', phone: '032-320-3903', hours: '10:00-18:00' }\n      ],\n      'ì•ˆì–‘': [\n        { id: 1, name: 'ì•ˆì–‘ì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ë¬¸ì˜ˆë¡œ 86', phone: '031-8045-2600', hours: '09:00-18:00' },\n        { id: 2, name: 'ì•ˆì–‘ì‹œë¦½ì„ìˆ˜ë„ì„œê´€', address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì„ìˆ˜ë¡œ 80', phone: '031-8045-2650', hours: '09:00-20:00' },\n        { id: 3, name: 'ì•ˆì–‘ì‹œë¦½í˜¸ê³„ë„ì„œê´€', address: 'ê²½ê¸° ì•ˆì–‘ì‹œ ë™ì•ˆêµ¬ í˜¸ê³„ë¡œ 103', phone: '031-8045-2700', hours: '10:00-18:00' }\n      ],\n      'ìš©ì¸': [\n        { id: 1, name: 'ìš©ì¸ì‹œë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ì¤‘ë¶€ëŒ€ë¡œ 1199', phone: '031-324-4600', hours: '09:00-18:00' },\n        { id: 2, name: 'ê¸°í¥ë„ì„œê´€', address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ê¸°í¥ë¡œ 19', phone: '031-324-4650', hours: '09:00-20:00' },\n        { id: 3, name: 'ìˆ˜ì§€ë„ì„œê´€', address: 'ê²½ê¸° ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ í¬ì€ëŒ€ë¡œ 435', phone: '031-324-4700', hours: '10:00-18:00' },\n        { id: 4, name: 'ì„œë†ë„ì„œê´€', address: 'ê²½ê¸° ìš©ì¸ì‹œ ê¸°í¥êµ¬ ì„œì²œì„œë¡œ 83', phone: '031-324-4680', hours: '09:00-18:00' }\n      ]\n    };\n    \n    // ì •í™•í•œ ì§€ì—­ëª… ë§¤ì¹­ (ì‹œ ì´ë¦„ ì¶”ì¶œ)\n    for (const [key, data] of Object.entries(libraryData)) {\n      if (regionLower.includes(key)) {\n        return data;\n      }\n    }\n    \n    // ê¸°ë³¸ê°’: ê²½ê¸°ë„ ëŒ€í‘œ ë„ì„œê´€ë“¤\n    return [\n      { id: 1, name: 'ê²½ê¸°ë„ë¦½ì¤‘ì•™ë„ì„œê´€', address: 'ê²½ê¸° ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì›”ë“œì»µë¡œ 235', phone: '031-249-4800', hours: '09:00-18:00' },\n      { id: 2, name: 'ê²½ê¸°ë„ë¦½ê³¼ì²œë„ì„œê´€', address: 'ê²½ê¸° ê³¼ì²œì‹œ ë³„ì–‘ìƒê°€2ë¡œ 84', phone: '02-2150-3001', hours: '09:00-20:00' },\n      { id: 3, name: 'ê²½ê¸°ë„ë¦½í‰íƒë„ì„œê´€', address: 'ê²½ê¸° í‰íƒì‹œ í‰íƒë¡œ 51', phone: '031-659-4800', hours: '10:00-18:00' }\n    ];\n  }, []);\n\n  // ë„ì„œê´€ë³„ ì†Œìž¥ í˜„í™© ìƒì„±\n  const generateLibraryAvailability = useCallback((libraries: Library[]) => {\n    return libraries.map(library => {\n      const totalBooks = Math.floor(Math.random() * 8) + 3; // 3-10ê¶Œ\n      const availableBooks = Math.floor(Math.random() * (totalBooks + 1)); // 0 ~ totalBooks\n      const waitingList = Math.floor(Math.random() * 6); // 0-5ëª…\n      const available = availableBooks > 0; // ëŒ€ì¶œ ê°€ëŠ¥í•œ ì±…ì´ ìžˆìœ¼ë©´ true\n      \n      // ë” êµ¬ì²´ì ì¸ ìœ„ì¹˜ ì •ë³´ ìƒì„±\n      const floor = Math.floor(Math.random() * 5) + 1; // 1-5ì¸µ\n      const section = ['ë¬¸í•™', 'ê³¼í•™', 'ì—­ì‚¬', 'ì² í•™', 'ì˜ˆìˆ ', 'ê²½ì œ', 'ì•„ë™'][Math.floor(Math.random() * 7)];\n      const aisle = String.fromCharCode(65 + Math.floor(Math.random() * 8)); // A-H\n      const callNumber = `${Math.floor(Math.random() * 900) + 100}.${Math.floor(Math.random() * 99) + 1}`;\n      \n      return {\n        libraryId: library.id,\n        libraryName: library.name,\n        libraryAddress: library.address,\n        libraryPhone: library.phone,\n        libraryHours: library.hours,\n        available: available,\n        waitingList: waitingList,\n        totalBooks: totalBooks,\n        availableBooks: availableBooks,\n        location: `${floor}ì¸µ ${section}ì„¹ì…˜ ${aisle}ì„œê°€ | ì²­êµ¬ê¸°í˜¸: ${callNumber}`\n      };\n    });\n  }, []);\n\n\n\n  // ê¸°ë³¸ ë„ì„œ ëª©ë¡ ìƒì„± (ê²€ìƒ‰ì–´ì™€ ê´€ê³„ì—†ì´ í•­ìƒ í‘œì‹œ)\n  const getDefaultBookList = useCallback((): Book[] => {\n    const defaultBooks = [\n      {\n        id: '1',\n        title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n        author: 'J.K. ë¡¤ë§',\n        publisher: 'ë¬¸í•™ìˆ˜ì²©',\n        isbn: '9788983920072',\n        category: 'ì†Œì„¤',\n        publishYear: '1997',\n        description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸° ì²« ë²ˆì§¸ ê¶Œ',\n        loanCount: 3421\n      },\n      {\n        id: '2',\n        title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n        author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ, ê³ ê°€ í›„ë¯¸íƒ€ì¼€',\n        publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n        isbn: '9788950955671',\n        category: 'ìžê¸°ê³„ë°œ',\n        publishYear: '2014',\n        description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œë¥¼ ë‹´ì€ ì±…',\n        loanCount: 2847\n      },\n      {\n        id: '3',\n        title: '82ë…„ìƒ ê¹€ì§€ì˜',\n        author: 'ì¡°ë‚¨ì£¼',\n        publisher: 'ë¯¼ìŒì‚¬',\n        isbn: '9788937473371',\n        category: 'ì†Œì„¤',\n        publishYear: '2016',\n        description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤',\n        loanCount: 1923\n      },\n      {\n        id: '4',\n        title: 'ì‚¬í”¼ì—”ìŠ¤',\n        author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n        publisher: 'ê¹€ì˜ì‚¬',\n        isbn: '9788934972464',\n        category: 'ì¸ë¬¸',\n        publishYear: '2015',\n        description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n        loanCount: 1456\n      },\n      {\n        id: '5',\n        title: 'ì›í”¼ìŠ¤ 1ê¶Œ',\n        author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ',\n        publisher: 'ëŒ€ì›ì”¨ì•„ì´',\n        isbn: '9788925208015',\n        category: 'ë§Œí™”',\n        publishYear: '1997',\n        description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜',\n        loanCount: 1234\n      }\n    ];\n\n    return defaultBooks.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ'))\n    }));\n  }, [libraries, generateLibraryAvailability, generateLibrariesByRegion]);\n\n  // ê²€ìƒ‰ì–´ ê¸°ë°˜ ê´€ë ¨ ë„ì„œ ìƒì„±\n  const getSearchRelatedBooks = (query: string) => {\n    const allBooks = [\n      { id: '1', title: 'ì–´ë¦°ì™•ìž', author: 'ìƒí…ì¥íŽ˜ë¦¬', publisher: 'ë¯¼ìŒì‚¬', isbn: '9788937460616', category: 'ì†Œì„¤', publishYear: '1943', description: 'ì‚¬ë§‰ì—ì„œ ë§Œë‚œ ì–´ë¦°ì™•ìžì™€ì˜ ì´ì•¼ê¸°', loanCount: 5420 },\n      { id: '2', title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ', author: 'J.K. ë¡¤ë§', publisher: 'ë¬¸í•™ìˆ˜ì²©', isbn: '9788983920072', category: 'ì†Œì„¤', publishYear: '1997', description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸°', loanCount: 4321 },\n      { id: '3', title: 'ë¶ˆíŽ¸í•œ íŽ¸ì˜ì ', author: 'ê¹€í˜¸ì—°', publisher: 'ë‚˜ë¬´ì˜†ì˜ìž', isbn: '9791167370778', category: 'ì†Œì„¤', publishYear: '2021', description: 'íŽ¸ì˜ì ì—ì„œ ì¼ì–´ë‚˜ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°', loanCount: 3890 },\n      { id: '4', title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°', author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ', publisher: 'ì¸í”Œë£¨ì—”ì…œ', isbn: '9788950955671', category: 'ìžê¸°ê³„ë°œ', publishYear: '2014', description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œ', loanCount: 3456 },\n      { id: '5', title: '82ë…„ìƒ ê¹€ì§€ì˜', author: 'ì¡°ë‚¨ì£¼', publisher: 'ë¯¼ìŒì‚¬', isbn: '9788937473371', category: 'ì†Œì„¤', publishYear: '2016', description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤', loanCount: 3123 },\n      { id: '6', title: 'ì‚¬í”¼ì—”ìŠ¤', author: 'ìœ ë°œ í•˜ë¼ë¦¬', publisher: 'ê¹€ì˜ì‚¬', isbn: '9788934972464', category: 'ì¸ë¬¸', publishYear: '2015', description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬', loanCount: 2987 },\n      { id: '7', title: 'ì•„ëª¬ë“œ', author: 'ì†ì›í‰', publisher: 'ì°½ë¹„', isbn: '9788936434267', category: 'ì†Œì„¤', publishYear: '2017', description: 'ê°ì •ì„ ëŠë¼ì§€ ëª»í•˜ëŠ” ì†Œë…„ì˜ ì„±ìž¥ ì†Œì„¤', loanCount: 2756 },\n      { id: '8', title: 'ì •ì˜ëž€ ë¬´ì—‡ì¸ê°€', author: 'ë§ˆì´í´ ìƒŒë¸', publisher: 'ê¹€ì˜ì‚¬', isbn: '9788934942467', category: 'ì² í•™', publishYear: '2010', description: 'ì •ì˜ì— ëŒ€í•œ ì² í•™ì  íƒêµ¬', loanCount: 2543 },\n      { id: '9', title: 'ì½”ìŠ¤ëª¨ìŠ¤', author: 'ì¹¼ ì„¸ì´ê±´', publisher: 'ì‚¬ì´ì–¸ìŠ¤ë¶ìŠ¤', isbn: '9788983711892', category: 'ê³¼í•™', publishYear: '1980', description: 'ìš°ì£¼ì— ëŒ€í•œ ê²½ì´ë¡œìš´ íƒí—˜', loanCount: 2321 },\n      { id: '10', title: 'ì›í”¼ìŠ¤ 1ê¶Œ', author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ', publisher: 'ëŒ€ì›ì”¨ì•„ì´', isbn: '9788925208015', category: 'ë§Œí™”', publishYear: '1997', description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜', loanCount: 2134 }\n    ];\n\n    // ê²€ìƒ‰ì–´ì™€ ë§¤ì¹­ë˜ëŠ” ë„ì„œ ì°¾ê¸°\n    const filtered = allBooks.filter(book =>\n      book.title.toLowerCase().includes(query.toLowerCase()) ||\n      book.author.toLowerCase().includes(query.toLowerCase()) ||\n      book.category.toLowerCase().includes(query.toLowerCase())\n    );\n\n    // ë§¤ì¹­ë˜ëŠ” ê²°ê³¼ê°€ ìžˆìœ¼ë©´ ë°˜í™˜, ì—†ìœ¼ë©´ ì¸ê¸°ë„ì„œ 5ê¶Œ ë°˜í™˜\n    return filtered.length > 0 ? filtered : allBooks.slice(0, 5);\n  };\n\n  // ë”ë¯¸ ê²€ìƒ‰ ê²°ê³¼ ìƒì„±\n  const getDummySearchResults = useCallback((query: string): Book[] => {\n    const dummyBooks = [\n      {\n        id: '1',\n        title: 'í•´ë¦¬í¬í„°ì™€ ë§ˆë²•ì‚¬ì˜ ëŒ',\n        author: 'J.K. ë¡¤ë§',\n        publisher: 'ë¬¸í•™ìˆ˜ì²©',\n        isbn: '9788983920072',\n        category: 'ì†Œì„¤',\n        publishYear: '1997',\n        description: 'ì „ ì„¸ê³„ë¥¼ ì‚¬ë¡œìž¡ì€ ë§ˆë²•ì˜ ì´ì•¼ê¸° ì²« ë²ˆì§¸ ê¶Œ',\n        loanCount: 3421\n      },\n      {\n        id: '2',\n        title: 'í•´ë¦¬í¬í„°ì™€ ë¹„ë°€ì˜ ë°©',\n        author: 'J.K. ë¡¤ë§',\n        publisher: 'ë¬¸í•™ìˆ˜ì²©',\n        isbn: '9788983920089',\n        category: 'ì†Œì„¤',\n        publishYear: '1998',\n        description: 'í•´ë¦¬í¬í„° ì‹œë¦¬ì¦ˆ ë‘ ë²ˆì§¸ ê¶Œ',\n        loanCount: 2987\n      },\n      {\n        id: '3',\n        title: 'ë¯¸ì›€ë°›ì„ ìš©ê¸°',\n        author: 'ê¸°ì‹œë¯¸ ì´ì¹˜ë¡œ, ê³ ê°€ í›„ë¯¸íƒ€ì¼€',\n        publisher: 'ì¸í”Œë£¨ì—”ì…œ',\n        isbn: '9788950955671',\n        category: 'ìžê¸°ê³„ë°œ',\n        publishYear: '2014',\n        description: 'ì•„ë“¤ëŸ¬ ì‹¬ë¦¬í•™ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê°„ê´€ê³„ì™€ ì‚¶ì˜ ì§€í˜œë¥¼ ë‹´ì€ ì±…',\n        loanCount: 2847\n      },\n      {\n        id: '4',\n        title: '82ë…„ìƒ ê¹€ì§€ì˜',\n        author: 'ì¡°ë‚¨ì£¼',\n        publisher: 'ë¯¼ìŒì‚¬',\n        isbn: '9788937473371',\n        category: 'ì†Œì„¤',\n        publishYear: '2016',\n        description: 'í•œêµ­ ì—¬ì„±ì˜ í˜„ì‹¤ì„ ìƒìƒí•˜ê²Œ ê·¸ë¦° ì†Œì„¤',\n        loanCount: 1923\n      },\n      {\n        id: '5',\n        title: 'ì‚¬í”¼ì—”ìŠ¤',\n        author: 'ìœ ë°œ í•˜ë¼ë¦¬',\n        publisher: 'ê¹€ì˜ì‚¬',\n        isbn: '9788934972464',\n        category: 'ì¸ë¬¸',\n        publishYear: '2015',\n        description: 'ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ í†µì°°í•œ ë² ìŠ¤íŠ¸ì…€ëŸ¬',\n        loanCount: 1456\n      },\n      {\n        id: '6',\n        title: 'ì›í”¼ìŠ¤ 1ê¶Œ',\n        author: 'ì˜¤ë‹¤ ì—ì´ì¹˜ë¡œ',\n        publisher: 'ëŒ€ì›ì”¨ì•„ì´',\n        isbn: '9788925208015',\n        category: 'ë§Œí™”',\n        publishYear: '1997',\n        description: 'í•´ì ì™•ì„ ê¿ˆê¾¸ëŠ” ë£¨í”¼ì˜ ëª¨í—˜',\n        loanCount: 1234\n      }\n    ];\n\n    const filtered = dummyBooks.filter(book =>\n      book.title.toLowerCase().includes(query.toLowerCase()) ||\n      book.author.toLowerCase().includes(query.toLowerCase()) ||\n      book.category.toLowerCase().includes(query.toLowerCase())\n    );\n\n    // ë§¤ì¹­ë˜ëŠ” ê²°ê³¼ë§Œ ë°˜í™˜ (ë§¤ì¹­ë˜ì§€ ì•Šìœ¼ë©´ ë¹ˆ ë°°ì—´)\n    return filtered.map(book => ({\n      ...book,\n      availability: generateLibraryAvailability(libraries)\n    }));\n  }, [libraries, generateLibraryAvailability]);\n\n  // ê²€ìƒ‰ ìˆ˜í–‰\n  const performSearch = React.useCallback(async (query: string) => {\n    setLoading(true);\n    setHasSearched(true);\n\n    // ì§€ì—­ì´ ì„ íƒë˜ì§€ ì•Šì•˜ìœ¼ë©´ ê¸°ë³¸ ì§€ì—­ ì„¤ì •\n    if (!selectedRegion) {\n      setSelectedRegion('ìˆ˜ì›ì‹œ');\n      const defaultLibraries = generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n      setLibraries(defaultLibraries);\n    }\n\n    try {\n      console.log('ðŸ” API ê²€ìƒ‰ ì‹œìž‘:', query);\n      \n      // 1. ë¨¼ì € ì‹¤ì œ ì¸ê¸°ë„ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ (ì‹¤ì œ ë°ì´í„°ê°€ ìžˆëŠ” ê¸°ê°„)\n      console.log('ðŸ“… ì‹¤ì œ ëŒ€ì¶œ ë°ì´í„°ê°€ ìžˆëŠ” ê¸°ê°„ìœ¼ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤');\n      const popularBooks = await fetchPopularBooks(); // ê¸°ë³¸ê°’ ì‚¬ìš© (2024ë…„ ë°ì´í„°)\n      console.log('ðŸ† ì¸ê¸°ë„ì„œ ë°ì´í„°:', popularBooks);\n      \n      // 2. ê²€ìƒ‰ì–´ì™€ ë§¤ì¹­ë˜ëŠ” ì¸ê¸°ë„ì„œ ì°¾ê¸°\n      const matchingPopularBooks = popularBooks.filter((book: PopularBookData) => \n        book.title.toLowerCase().includes(query.toLowerCase()) || \n        book.author.toLowerCase().includes(query.toLowerCase())\n      );\n      \n      if (matchingPopularBooks.length > 0) {\n        console.log('âœ… ì¸ê¸°ë„ì„œì—ì„œ ê²€ìƒ‰ ê²°ê³¼ ë°œê²¬:', matchingPopularBooks);\n        setApiStatus('ì‹¤ì œ ë„ì„œê´€ ì¸ê¸°ë„ì„œ ë°ì´í„° ê²€ìƒ‰ ì™„ë£Œ');\n        \n        const currentLibraries = libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n        const booksWithAvailability = matchingPopularBooks.map((book: PopularBookData) => ({\n          id: book.id,\n          title: book.title,\n          author: book.author,\n          publisher: book.publisher,\n          isbn: book.isbn,\n          category: book.category,\n          publishYear: book.publishYear,\n          loanCount: book.loanCount,\n          availability: generateLibraryAvailability(currentLibraries)\n        }));\n        \n        setSearchResults(booksWithAvailability);\n        return;\n      }\n      \n            // 3. ì‹¤ì œ ê²€ìƒ‰ì–´ì™€ ê´€ë ¨ëœ ë„ì„œ ì œê³µ (API ë¬¸ì œ í•´ê²° ì „ê¹Œì§€ ìž„ì‹œ)\n      console.log('ðŸ”„ ê²€ìƒ‰ì–´ ê¸°ë°˜ ê²°ê³¼ ìƒì„±:', query);\n      setApiStatus('ê²€ìƒ‰ì–´ ê¸°ë°˜ ë„ì„œ ëª©ë¡ ì œê³µ');\n      \n      const currentLibraries = libraries.length > 0 ? libraries : generateLibrariesByRegion('ìˆ˜ì›ì‹œ');\n      \n      // ê²€ìƒ‰ì–´ì— ë”°ë¥¸ ê´€ë ¨ ë„ì„œ ìƒì„±\n      const searchRelatedBooks = getSearchRelatedBooks(query);\n      const booksWithAvailability = searchRelatedBooks.map((book: any) => ({\n        ...book,\n        availability: generateLibraryAvailability(currentLibraries)\n      }));\n      \n      console.log('âœ… ê²€ìƒ‰ì–´ ê¸°ë°˜ ê²°ê³¼:', booksWithAvailability);\n      setSearchResults(booksWithAvailability);\n    } catch (error) {\n      console.error('âŒ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜:', error);\n      setApiStatus('API ì—°ê²° ì˜¤ë¥˜ - ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µ');\n      \n      const dummyResults = getDummySearchResults(query);\n      console.log('ðŸ”„ ì˜¤ë¥˜ ë°œìƒ - ë”ë¯¸ ë°ì´í„° ì‚¬ìš©:', dummyResults);\n      \n      // ë”ë¯¸ ë°ì´í„°ë„ ì—†ìœ¼ë©´ ê¸°ë³¸ ë„ì„œ ëª©ë¡ ì œê³µ\n      if (dummyResults.length === 0) {\n        console.log('ðŸ“– ê¸°ë³¸ ë„ì„œ ëª©ë¡ ì œê³µ');\n        const defaultBooks = getDefaultBookList();\n        setSearchResults(defaultBooks);\n      } else {\n        setSearchResults(dummyResults);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedRegion, libraries, generateLibrariesByRegion, generateLibraryAvailability, getDummySearchResults, getDefaultBookList]);\n\n\n\n  // ê²€ìƒ‰ í¼ ì œì¶œ\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchTerm.trim()) {\n      // ìƒˆë¡œìš´ ê²€ìƒ‰ ì‹œ ê¸°ì¡´ ê²°ê³¼ ë° ì§€ì—­ ì„ íƒ ë¦¬ì…‹\n      setSearchResults([]);\n      setHasSearched(false);\n      setSelectedRegion('');\n      setLibraries([]);\n      \n      saveRecentSearch(searchTerm.trim());\n      performSearch(searchTerm.trim());\n    }\n  };\n\n  // ì˜ˆì•½ ì²˜ë¦¬\n  const handleReserve = (bookId: string, libraryId: number, libraryName: string, libraryPhone: string, libraryHours: string = '', isAvailable: boolean, availableBooks: number = 0, totalBooks: number = 0) => {\n    // ì˜ˆì•½ ëŒ€ê¸°ë§Œ ìžˆëŠ” ê²½ìš° (availableBooks === 0 && totalBooks > 0) ë°”ë¡œ ì „í™” ì—°ê²°\n    if (availableBooks === 0 && totalBooks > 0) {\n      alert('ë„ì„œê´€ì— ì§ì ‘ ì „í™”í•˜ì—¬ ëŒ€ê¸°ì‹ ì²­ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.');\n      window.location.href = `tel:${libraryPhone}`;\n      return;\n    }\n\n    const currentTime = new Date();\n    const currentHour = currentTime.getHours();\n    const isOpen = currentHour >= 9 && currentHour < 18;\n    \n    let message = '';\n    if (isAvailable) {\n      message = `${libraryName}ì—ì„œ ì´ ë„ì„œë¥¼ ì˜ˆì•½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;\n    } else {\n      message = `${libraryName}ì— ëŒ€ê¸°ì‹ ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;\n    }\n    \n    message += `\\n\\nðŸ“ž ì „í™”ë²ˆí˜¸: ${libraryPhone}`;\n    if (libraryHours) {\n      message += `\\nâ° ìš´ì˜ì‹œê°„: ${libraryHours}`;\n    }\n    \n    if (!isOpen) {\n      message += `\\n\\nâš ï¸ í˜„ìž¬ ì‹œê°„ì€ ë„ì„œê´€ ìš´ì˜ì‹œê°„ ì™¸ìž…ë‹ˆë‹¤.`;\n      message += `\\nìš´ì˜ì‹œê°„ì— ë‹¤ì‹œ ì „í™”í•´ì£¼ì„¸ìš”.`;\n    }\n    \n    const confirmed = window.confirm(message);\n    if (confirmed) {\n      if (isAvailable) {\n        alert('ì˜ˆì•½ í™•ì¸ì„ ìœ„í•´ ë„ì„œê´€ì— ì§ì ‘ ì „í™”ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');\n      } else {\n        alert('ëŒ€ê¸°ì‹ ì²­ í™•ì¸ì„ ìœ„í•´ ë„ì„œê´€ì— ì§ì ‘ ì „í™”ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');\n      }\n      window.location.href = `tel:${libraryPhone}`;\n    }\n  };\n\n  // ì™¸ë¶€ ê²€ìƒ‰ì–´ ì²˜ë¦¬\n  useEffect(() => {\n    if (externalSearchQuery && externalSearchQuery.trim()) {\n      setSearchTerm(externalSearchQuery);\n      performSearch(externalSearchQuery);\n      if (onExternalSearchComplete) {\n        onExternalSearchComplete();\n      }\n    }\n  }, [externalSearchQuery, onExternalSearchComplete, performSearch]);\n\n  // ë¶€ëª¨ì—ì„œ ì „ë‹¬ë°›ì€ ì§€ì—­ ì •ë³´ ë™ê¸°í™”\n  useEffect(() => {\n    if (parentSelectedRegion !== undefined) {\n      setSelectedRegion(parentSelectedRegion);\n    }\n  }, [parentSelectedRegion]);\n\n  // ì§€ì—­ ì„ íƒ ì²˜ë¦¬\n  useEffect(() => {\n    if (selectedRegion) {\n      const regionLibraries = generateLibrariesByRegion(selectedRegion);\n      setLibraries(regionLibraries);\n    }\n  }, [selectedRegion]);\n\n\n\n  // ì§€ì—­ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸\n  const updateSearchResultsWithLibraries = React.useCallback((newLibraries: Library[]) => {\n    setSearchResults(prevResults => {\n      if (prevResults.length > 0 && newLibraries.length > 0) {\n        return prevResults.map(book => ({\n          ...book,\n          availability: generateLibraryAvailability(newLibraries)\n        }));\n      }\n      return prevResults;\n    });\n  }, []);\n\n  // ë„ì„œê´€ ì •ë³´ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (libraries.length > 0) {\n      updateSearchResultsWithLibraries(libraries);\n    }\n  }, [libraries, updateSearchResultsWithLibraries]); // librariesê°€ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰\n\n  return (\n    <Container>\n      <SearchForm onSubmit={handleSearch}>\n        <SearchInputContainer>\n          <SearchInput\n            type=\"text\"\n            placeholder=\"ì°¾ìœ¼ì‹œëŠ” ë„ì„œëª…ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”\"\n            value={searchTerm}\n            onChange={handleSearchInputChange}\n            onFocus={handleSearchInputFocus}\n            onBlur={handleAutocompleteClose}\n          />\n          {showAutocomplete && autocompleteItems.length > 0 && (\n            <AutocompleteDropdown>\n              {autocompleteItems.map((item, index) => (\n                <AutocompleteItemElement key={index} onClick={() => handleAutocompleteSelect(item)}>\n                  <span className=\"icon\">\n                    {item.type === 'recent' ? 'ðŸ•' : item.type === 'popular' ? 'ðŸ”¥' : 'ðŸ’¡'}\n                  </span>\n                  <span className=\"text\">{item.text}</span>\n                  <span className=\"category\">{item.category}</span>\n                </AutocompleteItemElement>\n              ))}\n            </AutocompleteDropdown>\n          )}\n        </SearchInputContainer>\n        <SearchButton type=\"submit\" disabled={loading}>\n          {loading ? 'ê²€ìƒ‰ ì¤‘...' : 'ðŸ” ê²€ìƒ‰'}\n        </SearchButton>\n      </SearchForm>\n\n      {/* ê²€ìƒ‰ ê²°ê³¼ê°€ ìžˆì„ ë•Œë§Œ ì§€ì—­ ì„ íƒê¸° í‘œì‹œ */}\n      {searchResults.length > 0 && (\n        <div style={{ marginBottom: '20px' }}>\n          <RegionSelector \n            onLibrariesUpdate={setLibraries} \n            selectedRegion={selectedRegion} \n            onRegionUpdate={(region) => {\n              setSelectedRegion(region);\n              if (onRegionUpdate) {\n                onRegionUpdate(region);\n              }\n              // ì§€ì—­ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë„ì„œê´€ ì •ë³´ ì—…ë°ì´íŠ¸\n              const regionLibraries = generateLibrariesByRegion(region);\n              setLibraries(regionLibraries);\n            }} \n          />\n        </div>\n      )}\n\n\n\n      {apiStatus && (\n        <ApiStatusBanner status={apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? 'warning' : 'success'}>\n          <ApiStatusIcon>{apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? 'âš ï¸' : 'âœ…'}</ApiStatusIcon>\n          {apiStatus}\n                     {apiStatus.includes('âš ï¸') || apiStatus.includes('âŒ') ? (\n             <ApiTestButton onClick={async () => {\n               setApiStatus('API ìƒíƒœ í™•ì¸ ì¤‘...');\n               try {\n                 const connectionTest = await testApiConnection();\n                 setApiStatus(connectionTest.message);\n               } catch (error) {\n                 setApiStatus('API ì—°ê²° ì‹¤íŒ¨');\n               }\n             }}>\n               ë‹¤ì‹œ í™•ì¸\n             </ApiTestButton>\n           ) : null}\n        </ApiStatusBanner>\n      )}\n\n      {loading && (\n        <LoadingDiv>\n          ðŸ“š ì‹¤ì œ ë„ì„œê´€ APIì—ì„œ ê²€ìƒ‰í•˜ê³  ìžˆìŠµë‹ˆë‹¤...\n        </LoadingDiv>\n      )}\n\n      {!loading && hasSearched && searchResults.length === 0 && (\n        <EmptyState>\n          <div className=\"emoji\">ðŸ“–</div>\n          <div className=\"title\">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>\n          <div className=\"subtitle\">ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</div>\n        </EmptyState>\n      )}\n\n      {!loading && searchResults.length > 0 && (\n        <SearchResults>\n          {searchResults\n            .sort((a, b) => (b.loanCount || 0) - (a.loanCount || 0)) // ëŒ€ì¶œíšŸìˆ˜ ê¸°ì¤€ ì •ë ¬\n            .map((book, index) => (\n            <BookCard key={book.id}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '15px' }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\n                  <div style={{ \n                    background: index < 3 ? '#ff6b35' : '#4a90e2',\n                    color: '#ffffff',\n                    borderRadius: '50%',\n                    width: '35px',\n                    height: '35px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: '16px',\n                    fontWeight: 'bold',\n                    flexShrink: 0,\n                    border: '2px solid #ffffff',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n                  }}>\n                    {index + 1}\n                  </div>\n                  <div>\n                    <BookTitle>{book.title}</BookTitle>\n                    <div style={{ \n                      fontSize: '12px', \n                      color: '#666', \n                      marginTop: '2px',\n                      fontWeight: 'bold'\n                    }}>\n                      ðŸ† {index + 1}ìœ„ (ëŒ€ì¶œ {book.loanCount || 0}íšŒ)\n                    </div>\n                  </div>\n                </div>\n                <button\n                  onClick={() => toggleBookmark(book.id)}\n                  style={{\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    color: isBookmarked(book.id) ? '#ff6b6b' : '#ccc',\n                    transition: 'color 0.3s'\n                  }}\n                  title={isBookmarked(book.id) ? 'ì¦ê²¨ì°¾ê¸° í•´ì œ' : 'ì¦ê²¨ì°¾ê¸° ì¶”ê°€'}\n                >\n                  {isBookmarked(book.id) ? 'â¤ï¸' : 'ðŸ¤'}\n                </button>\n              </div>\n              <BookInfo>\n                <span>ì €ìž: {book.author}</span>\n                <span>ì¶œíŒì‚¬: {book.publisher}</span>\n                <span>ì¹´í…Œê³ ë¦¬: {book.category}</span>\n                <span>ì¶œê°„ë…„ë„: {book.publishYear}</span>\n                {book.loanCount && <span>ëŒ€ì¶œ íšŸìˆ˜: {book.loanCount.toLocaleString()}íšŒ</span>}\n              </BookInfo>\n              \n              {book.description && (\n                <BookDescription>\n                  {book.description}\n                </BookDescription>\n              )}\n              \n              {selectedRegion && (\n                <AvailabilitySection>\n                  <AvailabilityTitle>\n                    ðŸ“ {selectedRegion} ë„ì„œê´€ ì†Œìž¥ í˜„í™©\n                  </AvailabilityTitle>\n                  <LibraryList>\n                    {book.availability\n                    .sort((a, b) => {\n                      if (a.available && !b.available) return -1;\n                      if (!a.available && b.available) return 1;\n                      if (a.available && b.available) return a.waitingList - b.waitingList;\n                      return a.waitingList - b.waitingList;\n                    })\n                    .map((avail) => (\n                    <LibraryItem key={avail.libraryId}>\n                      <LibraryHeader>\n                        <LibraryName>\n                          {avail.available ? 'âœ… ' : 'âŒ '}\n                          {avail.libraryName}\n                        </LibraryName>\n                        <LibraryAddress>ðŸ“ {avail.libraryAddress}</LibraryAddress>\n                        <LibraryPhone>ðŸ“ž {avail.libraryPhone}</LibraryPhone>\n                        <LibraryHours>â° {avail.libraryHours || '09:00-18:00'}</LibraryHours>\n                      </LibraryHeader>\n                      <LibraryStats>\n                        {avail.availableBooks > 0 && (\n                          <div style={{ \n                            background: '#e8f5e8', \n                            border: '1px solid #4CAF50',\n                            borderRadius: '8px',\n                            padding: '12px',\n                            marginBottom: '10px'\n                          }}>\n                            <div style={{ \n                              display: 'flex', \n                              alignItems: 'center', \n                              gap: '8px',\n                              marginBottom: '8px',\n                              fontWeight: 'bold',\n                              color: '#2e7d32'\n                            }}>\n                              ðŸ“– ëŒ€ì¶œ ê°€ëŠ¥í•œ ë„ì„œ ìœ„ì¹˜\n                            </div>\n                            <div style={{ \n                              fontSize: '14px',\n                              color: '#1b5e20',\n                              lineHeight: '1.4'\n                            }}>\n                              ðŸ“ {avail.location}\n                            </div>\n                            <div style={{ \n                              fontSize: '14px',\n                              color: '#2e7d32',\n                              marginTop: '4px'\n                            }}>\n                              âœ… ëŒ€ì¶œ ê°€ëŠ¥ {avail.availableBooks}ê¶Œ\n                            </div>\n                          </div>\n                        )}\n                      </LibraryStats>\n                      \n                      {avail.availableBooks === 0 && avail.totalBooks > 0 && (\n                        <div style={{ \n                          background: '#e8f5e8', \n                          border: '1px solid #4CAF50',\n                          borderRadius: '8px',\n                          padding: '12px',\n                          margin: '10px 0',\n                          fontSize: '14px',\n                          color: '#2e7d32'\n                        }}>\n                          ðŸ“ž í˜„ìž¬ ëª¨ë“  ë„ì„œê°€ ëŒ€ì¶œ ì¤‘ìž…ë‹ˆë‹¤.\n                        </div>\n                      )}\n                      \n                      {avail.totalBooks === 0 && (\n                        <div style={{ \n                          background: '#f8d7da', \n                          border: '1px solid #f5c6cb',\n                          borderRadius: '8px',\n                          padding: '12px',\n                          margin: '10px 0',\n                          fontSize: '14px',\n                          color: '#721c24'\n                        }}>\n                          âŒ ì´ ë„ì„œê´€ì—ëŠ” í•´ë‹¹ ë„ì„œê°€ ì†Œìž¥ë˜ì–´ ìžˆì§€ ì•ŠìŠµë‹ˆë‹¤.\n                        </div>\n                      )}\n                      \n                      <div style={{ \n                        display: 'flex', \n                        justifyContent: 'space-between', \n                        alignItems: 'center',\n                        marginBottom: '10px'\n                      }}>\n                        {avail.waitingList > 0 && (\n                          <div style={{ \n                            fontSize: '14px',\n                            fontWeight: 'bold',\n                            color: 'var(--accent-color)',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '6px'\n                          }}>\n                            â³ ì˜ˆì•½ ëŒ€ê¸° {avail.waitingList}ëª…\n                          </div>\n                        )}\n                        <div style={{ marginLeft: 'auto' }}>\n                          <ReserveButton \n                            available={avail.available || (avail.availableBooks === 0 && avail.totalBooks > 0)}\n                            onClick={() => handleReserve(\n                              book.id,\n                              avail.libraryId,\n                              avail.libraryName,\n                              avail.libraryPhone,\n                              avail.libraryHours || '09:00-18:00',\n                              avail.available,\n                              avail.availableBooks,\n                              avail.totalBooks\n                            )}\n                            disabled={avail.totalBooks === 0}\n                          >\n                            {avail.totalBooks === 0 ? 'ðŸ“µ ì†Œìž¥ ì—†ìŒ' : 'ðŸ“– ë°”ë¡œ ì˜ˆì•½'}\n                          </ReserveButton>\n                        </div>\n                      </div>\n                    </LibraryItem>\n                  ))}\n                </LibraryList>\n              </AvailabilitySection>\n            )}\n            </BookCard>\n          ))}\n        </SearchResults>\n      )}\n    </Container>\n  );\n};\n\nexport default BookSearchSection;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,SAASC,iBAAiB,EAAEC,YAAY,EAAEC,iBAAiB,QAAyB,wBAAwB;;AAE5G;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAGP,MAAM,CAACQ,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GATIF,SAAS;AAWf,MAAMG,UAAU,GAAGV,MAAM,CAACW,IAAI;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,UAAU;AAOhB,MAAMG,oBAAoB,GAAGb,MAAM,CAACQ,GAAG;AACvC;AACA;AACA;AACA,CAAC;AAACM,GAAA,GAJID,oBAAoB;AAM1B,MAAME,WAAW,GAAGf,MAAM,CAACgB,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAlBIF,WAAW;AAoBjB,MAAMG,oBAAoB,GAAGlB,MAAM,CAACQ,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAbID,oBAAoB;AAe1B,MAAME,uBAAuB,GAAGpB,MAAM,CAACQ,GAAG;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GA9BID,uBAAuB;AAgC7B,MAAME,YAAY,GAAGtB,MAAM,CAACuB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAtBIF,YA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}